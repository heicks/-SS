var CodeMirror=function(){function a(g,k){function s(a){Zc.onDragEvent&&Zc.onDragEvent(_d,t(a))||w(a)}function v(a){return a>=0&&a<xd.size}function C(a){return n(xd,a)}function D(a,b){Id=!0;for(var c=b-a.height,d=a;d;d=d.parent)d.height+=c}function K(a){var b={line:0,ch:0};xb(b,{line:xd.size-1,ch:C(xd.size-1).text.length},ib(a),b,b),Cd=!0}function Q(){var a=[];return xd.iter(0,xd.size,function(b){a.push(b.text)}),a.join("\n")}function R(){(Md!=od.scrollTop||Nd!=dd.scrollLeft)&&(Md=od.scrollTop,Nd=dd.scrollLeft,Vb([]),Zc.fixedGutter&&(gd.style.left=dd.scrollLeft+"px"),Zc.onScroll&&Zc.onScroll(_d))}function cb(a){function b(b){_&&(dd.draggable=!1),Bd=!1,j(),k(),Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-b.clientY)<10&&(u(b),cc(f.line,f.ch,!0),Ob())}function c(a){var b=Mc(a,!0);if(b&&!H(b,i)){ud||tb(),i=b,_b(f,b),Cd=!1;var d=Ub();(b.line>=d.to||b.line<d.from)&&(h=setTimeout(Xc(function(){c(a)}),150))}}function d(a){clearTimeout(h);var b=Mc(a);b&&_b(f,b),u(a),Ob(),Cd=!0,l(),j()}$b(z(a,"shiftKey"));for(var e=x(a);e!=ad;e=e.parentNode)if(e.parentNode==ed&&e!=fd)return;for(var e=x(a);e!=ad;e=e.parentNode)if(e.parentNode==hd)return Zc.onGutterClick&&Zc.onGutterClick(_d,M(hd.childNodes,e)+Rd,a),u(a);if(Zc.readOnly)return u(a),void 0;var f=Mc(a);switch(y(a)){case 3:return W&&!P&&Nc(a),void 0;case 2:return f&&cc(f.line,f.ch,!0),setTimeout(Ob,20),u(a),void 0}if(!f)return x(a)==dd&&u(a),void 0;ud||tb();var g=+new Date;if(Ad&&Ad.time>g-400&&H(Ad.pos,f))return u(a),setTimeout(Ob,20),kc(f.line);if(zd&&zd.time>g-400&&H(zd.pos,f))return Ad={time:g,pos:f},u(a),jc(f);zd={time:g,pos:f};var h,i=f;if(Zc.dragDrop&&fb&&!Zc.readOnly&&!H(Ld.from,Ld.to)&&!I(f,Ld.from)&&!I(Ld.to,f)){_&&(dd.draggable=!0);var j=A(document,"mouseup",Xc(b),!0),k=A(dd,"drop",Xc(b),!0);return Bd=!0,dd.dragDrop&&dd.dragDrop(),void 0}u(a),cc(f.line,f.ch,!0);var l=A(document,"mousemove",Xc(function(a){clearTimeout(h),u(a),X||y(a)?c(a):d(a)}),!0),j=A(document,"mouseup",Xc(d),!0)}function hb(a){for(var b=x(a);b!=ad;b=b.parentNode)if(b.parentNode==hd)return u(a);var c=Mc(a);c&&(Ad={time:+new Date,pos:c},u(a),jc(c))}function lb(a){function b(a,b){var d=new FileReader;d.onload=function(){f[b]=d.result,++g==e&&(c=ec(c),Xc(function(){var a=Fb(f.join(""),c,c);_b(c,a)})())},d.readAsText(a)}if(!Zc.onDragEvent||!Zc.onDragEvent(_d,t(a))){a.preventDefault();var c=Mc(a,!0),d=a.dataTransfer.files;if(c&&!Zc.readOnly)if(d&&d.length&&window.FileReader&&window.File)for(var e=d.length,f=Array(e),g=0,h=0;e>h;++h)b(d[h],h);else{if(Bd&&!I(c,Ld.from)&&!I(Ld.to,c))return;try{var f=a.dataTransfer.getData("Text");f&&Yc(function(){var a=Ld.from,b=Ld.to;_b(c,c),Bd&&Fb("",a,b),Gb(f),Ob()})}catch(a){}}}}function mb(a){var b=Jb();if(a.dataTransfer.setData("Text",b),W||ab||bb){var c=document.createElement("img");c.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=",a.dataTransfer.setDragImage(c,0,0)}}function nb(a,b){if("string"==typeof a&&(a=T[a],!a))return!1;var c=yd;try{Zc.readOnly&&(Pd=!0),b&&(yd=null),a(_d)}catch(d){if(d!=V)throw d;return!1}finally{yd=c,Pd=!1}return!0}function ob(a){function e(){j=!0}var f=b(Zc.keyMap),g=f.auto;clearTimeout($d),g&&!d(a)&&($d=setTimeout(function(){b(Zc.keyMap)==f&&(Zc.keyMap=g.call?g.call(null,_d):g)},50));var h=kb[z(a,"keyCode")],i=!1;if(null==h||a.altGraphKey)return!1;z(a,"altKey")&&(h="Alt-"+h),z(a,"ctrlKey")&&(h="Ctrl-"+h),z(a,"metaKey")&&(h="Cmd-"+h);var j=!1;return i=z(a,"shiftKey")?c("Shift-"+h,Zc.extraKeys,Zc.keyMap,function(a){return nb(a,!0)},e)||c(h,Zc.extraKeys,Zc.keyMap,function(a){return"string"==typeof a&&/^go[A-Z]/.test(a)?nb(a):void 0},e):c(h,Zc.extraKeys,Zc.keyMap,nb,e),j&&(i=!1),i&&(u(a),Oc(),X&&(a.oldKeyCode=a.keyCode,a.keyCode=0)),i}function pb(a,b){var d=c("'"+b+"'",Zc.extraKeys,Zc.keyMap,function(a){return nb(a,!0)});return d&&(u(a),Oc()),d}function qb(a){if(ud||tb(),X&&27==a.keyCode&&(a.returnValue=!1),be&&Mb()&&(be=!1),!Zc.onKeyEvent||!Zc.onKeyEvent(_d,t(a))){var b=z(a,"keyCode");$b(16==b||z(a,"shiftKey"));var c=ob(a);bb&&(ae=c?b:null,!c&&88==b&&z(a,P?"metaKey":"ctrlKey")&&Gb(""))}}function rb(a){if(be&&Mb(),!Zc.onKeyEvent||!Zc.onKeyEvent(_d,t(a))){var b=z(a,"keyCode"),c=z(a,"charCode");if(bb&&b==ae)return ae=null,u(a),void 0;if(!(bb&&(!a.which||a.which<10)||db)||!ob(a)){var d=String.fromCharCode(null==c?b:c);Zc.electricChars&&sd.electricChars&&Zc.smartIndent&&!Zc.readOnly&&sd.electricChars.indexOf(d)>-1&&setTimeout(Xc(function(){mc(Ld.to.line,"smart")}),75),pb(a,d)||Lb()}}}function sb(a){Zc.onKeyEvent&&Zc.onKeyEvent(_d,t(a))||16==z(a,"keyCode")&&(yd=null)}function tb(){"nocursor"!=Zc.readOnly&&(ud||(Zc.onFocus&&Zc.onFocus(_d),ud=!0,-1==dd.className.search(/\bCodeMirror-focused\b/)&&(dd.className+=" CodeMirror-focused"),Hd||Nb(!0)),Kb(),Oc())}function ub(){ud&&(Zc.onBlur&&Zc.onBlur(_d),ud=!1,Kd&&Xc(function(){Kd&&(Kd(),Kd=null)})(),dd.className=dd.className.replace(" CodeMirror-focused","")),clearInterval(rd),setTimeout(function(){ud||(yd=null)},150)}function vb(a){return a>0&&1>a?1:a>-1&&0>a?-1:Math.round(a)}function wb(a){var b=0,c=0;if("DOMMouseScroll"==a.type){var d=8*-a.detail;a.axis==a.HORIZONTAL_AXIS?b=d:a.axis==a.VERTICAL_AXIS&&(c=d)}else void 0!==a.wheelDeltaX&&void 0!==a.wheelDeltaY?(b=a.wheelDeltaX/3,c=a.wheelDeltaY/3):void 0!==a.wheelDelta&&(c=a.wheelDelta/3);var e=!1;b=vb(b),c=vb(c),(b>0&&dd.scrollLeft>0||0>b&&dd.scrollLeft+dd.clientWidth<dd.scrollWidth)&&(dd.scrollLeft-=b,e=!0),(c>0&&od.scrollTop>0||0>c&&od.scrollTop+od.clientHeight<od.scrollHeight)&&(od.scrollTop-=c,e=!0),e&&w(a)}function xb(a,b,c,d,e){if(!Pd){if(Yd){var f=[];for(xd.iter(a.line,b.line+1,function(a){f.push(a.text)}),Yd.addChange(a.line,c.length,f);Yd.done.length>Zc.undoDepth;)Yd.done.shift()}Bb(a,b,c,d,e)}}function yb(a,b){if(a.length){for(var c=a.pop(),d=[],e=c.length-1;e>=0;e-=1){var f=c[e],g=[],h=f.start+f.added;xd.iter(f.start,h,function(a){g.push(a.text)}),d.push({start:f.start,added:f.old.length,old:g});var i={line:f.start+f.old.length-1,ch:L(g[g.length-1],f.old[f.old.length-1])};Bb({line:f.start,ch:0},{line:h-1,ch:C(h-1).text.length},f.old,i,i)}Cd=!0,b.push(d)}}function zb(){yb(Yd.done,Yd.undone)}function Ab(){yb(Yd.undone,Yd.done)}function Bb(a,b,c,d,e){function f(a){return a<=Math.min(b.line,b.line+s)?a:a+s}if(!Pd){var g=!1,h=Ud.length;Zc.lineWrapping||xd.iter(a.line,b.line+1,function(a){return a.hidden||a.text.length!=h?void 0:(g=!0,!0)}),(a.line!=b.line||c.length>1)&&(Id=!0);var i=b.line-a.line,k=C(a.line),l=C(b.line);if(0==a.ch&&0==b.ch&&""==c[c.length-1]){var m=[],n=null;a.line?(n=C(a.line-1),n.fixMarkEnds(l)):l.fixMarkStarts();for(var o=0,p=c.length-1;p>o;++o)m.push(j.inheritMarks(c[o],n));i&&xd.remove(a.line,i,Jd),m.length&&xd.insert(a.line,m)}else if(k==l)if(1==c.length)k.replace(a.ch,b.ch,c[0]);else{l=k.split(b.ch,c[c.length-1]),k.replace(a.ch,null,c[0]),k.fixMarkEnds(l);for(var m=[],o=1,p=c.length-1;p>o;++o)m.push(j.inheritMarks(c[o],k));m.push(l),xd.insert(a.line+1,m)}else if(1==c.length)k.replace(a.ch,null,c[0]),l.replace(null,b.ch,""),k.append(l),xd.remove(a.line+1,i,Jd);else{var m=[];k.replace(a.ch,null,c[0]),l.replace(null,b.ch,c[c.length-1]),k.fixMarkEnds(l);for(var o=1,p=c.length-1;p>o;++o)m.push(j.inheritMarks(c[o],k));i>1&&xd.remove(a.line+1,i-1,Jd),xd.insert(a.line+1,m)}if(Zc.lineWrapping){var q=Math.max(5,dd.clientWidth/Jc()-3);xd.iter(a.line,a.line+c.length,function(a){if(!a.hidden){var b=Math.ceil(a.text.length/q)||1;b!=a.height&&D(a,b)}})}else xd.iter(a.line,a.line+c.length,function(a){var b=a.text;!a.hidden&&b.length>h&&(Ud=b,h=b.length,Wd=!0,g=!1)}),g&&(Vd=!0);for(var r=[],s=c.length-i-1,o=0,t=td.length;t>o;++o){var u=td[o];u<a.line?r.push(u):u>b.line&&r.push(u+s)}var v=a.line+Math.min(c.length,500);Sc(a.line,v),r.push(v),td=r,Uc(100),Ed.push({from:a.line,to:b.line+1,diff:s});var w={from:a,to:b,text:c};if(Fd){for(var x=Fd;x.next;x=x.next);x.next=w}else Fd=w;ac(ec(d),ec(e),f(Ld.from.line),f(Ld.to.line))}}function Cb(a){var b=Ic(),c=Math.floor(xd.height*b+2*Kc()),d=dd.clientHeight;od.style.height=d+"px",dd.clientHeight&&(pd.style.height=c+"px"),null!=a&&(od.scrollTop=a),fd.style.top=Qd*b-od.scrollTop+"px",od.style.display=c>d?"block":"none"}function Db(){var a=document.createElement("div"),b=document.createElement("div");a.className="CodeMirror-scrollbar",a.style.cssText="position: absolute; left: -9999px; height: 100px;",b.className="CodeMirror-scrollbar-inner",b.style.height="200px",a.appendChild(b),document.body.appendChild(a);var c=a.offsetWidth<=1;return document.body.removeChild(a),c}function Eb(){var a=0;Ud="",Wd=!0,xd.iter(0,xd.size,function(b){var c=b.text;!b.hidden&&c.length>a&&(a=c.length,Ud=c)}),Vd=!1}function Fb(a,b,c){function d(d){if(I(d,b))return d;if(!I(c,d))return e;var f=d.line+a.length-(c.line-b.line)-1,g=d.ch;return d.line==c.line&&(g+=a[a.length-1].length-(c.ch-(c.line==b.line?b.ch:0))),{line:f,ch:g}}b=ec(b),c=c?ec(c):b,a=ib(a);var e;return Hb(a,b,c,function(a){return e=a,{from:d(Ld.from),to:d(Ld.to)}}),e}function Gb(a,b){Hb(ib(a),Ld.from,Ld.to,function(a){return"end"==b?{from:a,to:a}:"start"==b?{from:Ld.from,to:Ld.from}:{from:Ld.from,to:a}})}function Hb(a,b,c,d){var e=1==a.length?a[0].length+b.ch:a[a.length-1].length,f=d({line:b.line+a.length-1,ch:e});xb(b,c,a,f.from,f.to)}function Ib(a,b){var c=a.line,d=b.line;if(c==d)return C(c).text.slice(a.ch,b.ch);var e=[C(c).text.slice(a.ch)];return xd.iter(c+1,d,function(a){e.push(a.text)}),e.push(C(d).text.slice(0,b.ch)),e.join("\n")}function Jb(){return Ib(Ld.from,Ld.to)}function Kb(){be||vd.set(Zc.pollInterval,function(){Vc(),Mb(),ud&&Kb(),Wc()})}function Lb(){function a(){Vc();var c=Mb();c||b?(be=!1,Kb()):(b=!0,vd.set(60,a)),Wc()}var b=!1;be=!0,vd.set(20,a)}function Mb(){if(Hd||!ud||jb(cd)||Zc.readOnly)return!1;var a=cd.value;if(a==ce)return!1;yd=null;for(var b=0,c=Math.min(ce.length,a.length);c>b&&ce[b]==a[b];)++b;return b<ce.length?Ld.from={line:Ld.from.line,ch:Ld.from.ch-(ce.length-b)}:Od&&H(Ld.from,Ld.to)&&(Ld.to={line:Ld.to.line,ch:Math.min(C(Ld.to.line).text.length,Ld.to.ch+(a.length-b))}),Gb(a.slice(b),"end"),a.length>1e3?cd.value=ce="":ce=a,!0}function Nb(a){H(Ld.from,Ld.to)?a&&(ce=cd.value=""):(ce="",cd.value=Jb(),G(cd))}function Ob(){"nocursor"!=Zc.readOnly&&cd.focus()}function Pb(){if(kd.getBoundingClientRect){var a=kd.getBoundingClientRect();if(!X||a.top!=a.bottom){var b=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(a.top<0||a.bottom>b)&&Qb()}}}function Qb(){var a=Rb();return Sb(a.x,a.y,a.x,a.yBot)}function Rb(){var a=Fc(Ld.inverted?Ld.from:Ld.to),b=Zc.lineWrapping?Math.min(a.x,id.offsetWidth):a.x;return{x:b,y:a.y,yBot:a.yBot}}function Sb(a,b,c,d){var e=Tb(a,b,c,d),f=!1;null!=e.scrollLeft&&(dd.scrollLeft=e.scrollLeft,f=!0),null!=e.scrollTop&&(od.scrollTop=e.scrollTop,f=!0),f&&Zc.onScroll&&Zc.onScroll(_d)}function Tb(a,b,c,d){var e=Lc(),f=Kc();b+=f,d+=f,a+=e,c+=e;var g=dd.clientHeight,h=od.scrollTop,i={},j=b<Kc()+10;h>b?i.scrollTop=j?0:Math.max(0,b):d>h+g&&(i.scrollTop=d-g);var k=dd.clientWidth,l=dd.scrollLeft,m=Zc.fixedGutter?gd.clientWidth:0,n=m+e+10>a;return l+m>a||n?(n&&(a=0),i.scrollLeft=Math.max(0,a-10-m)):c>k+l-3&&(i.scrollLeft=c+10-k),i}function Ub(a){var b=Ic(),c=(null!=a?a:od.scrollTop)-Kc(),d=Math.max(0,Math.floor(c/b)),e=Math.ceil((c+dd.clientHeight)/b);return{from:p(xd,d),to:p(xd,e)}}function Vb(a,b,c){function d(){var a=nd.firstChild,b=!1;return xd.iter(Rd,Sd,function(c){if(!c.hidden){var d=Math.round(a.offsetHeight/l)||1;c.height!=d&&(D(c,d),Id=b=!0)}a=a.nextSibling}),b}if(!dd.clientWidth)return Rd=Sd=Qd=0,void 0;var e=Ub(c);if(a!==!0&&0==a.length&&e.from>Rd&&e.to<Sd)return Cb(c),void 0;var f=Math.max(e.from-100,0),g=Math.min(xd.size,e.to+100);f>Rd&&20>f-Rd&&(f=Rd),Sd>g&&20>Sd-g&&(g=Math.min(xd.size,Sd));for(var h=a===!0?[]:Wb([{from:Rd,to:Sd,domStart:0}],a),i=0,j=0;j<h.length;++j){var k=h[j];k.from<f&&(k.domStart+=f-k.from,k.from=f),k.to>g&&(k.to=g),k.from>=k.to?h.splice(j--,1):i+=k.to-k.from}if(i==g-f&&f==Rd&&g==Sd)return Cb(c),void 0;h.sort(function(a,b){return a.domStart-b.domStart});var l=Ic(),m=gd.style.display;nd.style.display="none",Xb(f,g,h),nd.style.display=gd.style.display="";var n=f!=Rd||g!=Sd||Td!=dd.clientHeight+l;if(n&&(Td=dd.clientHeight+l),Rd=f,Sd=g,Qd=q(xd,f),nd.childNodes.length!=Sd-Rd)throw new Error("BAD PATCH! "+JSON.stringify(h)+" size="+(Sd-Rd)+" nodes="+nd.childNodes.length);if(Zc.lineWrapping){var o=Math.floor(xd.height*l+2*Kc()),p=dd.clientHeight;o>p&&(od.style.display="block"),d()}return gd.style.display=m,(n||Id)&&Yb()&&Zc.lineWrapping&&d()&&Yb(),Zb(),Cb(c),!b&&Zc.onUpdate&&Zc.onUpdate(_d),!0}function Wb(a,b){for(var c=0,d=b.length||0;d>c;++c){for(var e=b[c],f=[],g=e.diff||0,h=0,i=a.length;i>h;++h){var j=a[h];e.to<=j.from&&e.diff?f.push({from:j.from+g,to:j.to+g,domStart:j.domStart}):e.to<=j.from||e.from>=j.to?f.push(j):(e.from>j.from&&f.push({from:j.from,to:e.from,domStart:j.domStart}),e.to<j.to&&f.push({from:e.to+g,to:j.to+g,domStart:j.domStart+(e.to-j.from)}))}a=f}return a}function Xb(a,b,c){function d(a){var b=a.nextSibling;return a.parentNode.removeChild(a),b}if(c.length){for(var e=0,f=nd.firstChild,g=0;g<c.length;++g){for(var h=c[g];h.domStart>e;)f=d(f),e++;for(var i=0,j=h.to-h.from;j>i;++i)f=f.nextSibling,e++}for(;f;)f=d(f)}else nd.innerHTML="";var k=c.shift(),f=nd.firstChild,i=a,l=document.createElement("div");xd.iter(a,b,function(a){if(k&&k.to==i&&(k=c.shift()),!k||k.from>i){if(a.hidden)var b=l.innerHTML="<pre></pre>";else{var b="<pre"+(a.className?' class="'+a.className+'"':"")+">"+a.getHTML(qc)+"</pre>";a.bgClassName&&(b='<div style="position: relative"><pre class="'+a.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+b+"</div>")}l.innerHTML=b,nd.insertBefore(l.firstChild,f)}else f=f.nextSibling;++i})}function Yb(){if(Zc.gutter||Zc.lineNumbers){var a=fd.offsetHeight,b=dd.clientHeight;gd.style.height=(2>a-b?b:a)+"px";var c,d=[],e=Rd;if(xd.iter(Rd,Math.max(Sd,Rd+1),function(a){if(a.hidden)d.push("<pre></pre>");else{var b=a.gutterMarker,f=Zc.lineNumbers?e+Zc.firstLineNumber:null;b&&b.text?f=b.text.replace("%N%",null!=f?f:""):null==f&&(f=" "),d.push(b&&b.style?'<pre class="'+b.style+'">':"<pre>",f);for(var g=1;g<a.height;++g)d.push("<br/>&#160;");d.push("</pre>"),b||(c=e)}++e}),gd.style.display="none",hd.innerHTML=d.join(""),null!=c&&Zc.lineNumbers){for(var f=hd.childNodes[c-Rd],g=String(xd.size).length,h=F(f.firstChild),i="";h.length+i.length<g;)i+=" ";i&&f.insertBefore(document.createTextNode(i),f.firstChild)}gd.style.display="";var j=Math.abs((parseInt(id.style.marginLeft)||0)-gd.offsetWidth)>2;return id.style.marginLeft=gd.offsetWidth+"px",Id=!1,j}}function Zb(){function a(a,b,c,d){var e=$?"width: "+(c?k-c-a:k)+"px":"right: "+c+"px";j+='<div class="CodeMirror-selected" style="position: absolute; left: '+a+"px; top: "+b+"px; "+e+"; height: "+d+'px"></div>'}var b=H(Ld.from,Ld.to),c=Fc(Ld.from,!0),d=b?c:Fc(Ld.to,!0),e=Ld.inverted?c:d,f=Ic(),g=E(ad),h=E(nd);if(bd.style.top=Math.max(0,Math.min(dd.offsetHeight,e.y+h.top-g.top))+"px",bd.style.left=Math.max(0,Math.min(dd.offsetWidth,e.x+h.left-g.left))+"px",b)kd.style.top=e.y+"px",kd.style.left=(Zc.lineWrapping?Math.min(e.x,id.offsetWidth):e.x)+"px",kd.style.display="",md.style.display="none";else{var i=c.y==d.y,j="",k=id.clientWidth||id.offsetWidth,l=id.clientHeight||id.offsetHeight;if(Ld.from.ch&&c.y>=0){var m=i?k-d.x:0;a(c.x,c.y,m,f)}var n=Math.max(0,c.y+(Ld.from.ch?f:0)),o=Math.min(d.y,l)-n;o>.2*f&&a(0,n,0,o),i&&Ld.from.ch||!(d.y<l-.5*f)||a(0,d.y,k-d.x,f),md.innerHTML=j,kd.style.display="none",md.style.display=""}}function $b(a){yd=a?yd||(Ld.inverted?Ld.to:Ld.from):null}function _b(a,b){var c=yd&&ec(yd);c&&(I(c,a)?a=c:I(b,c)&&(b=c)),ac(a,b),Dd=!0}function ac(a,b,c,d){if(de=null,null==c&&(c=Ld.from.line,d=Ld.to.line),!H(Ld.from,a)||!H(Ld.to,b)){if(I(b,a)){var e=b;b=a,a=e}if(a.line!=c){var f=bc(a,c,Ld.from.ch);f?a=f:Bc(a.line,!1)}if(b.line!=d&&(b=bc(b,d,Ld.to.ch)),H(a,b)?Ld.inverted=!1:H(a,Ld.to)?Ld.inverted=!1:H(b,Ld.from)&&(Ld.inverted=!0),Zc.autoClearEmptyLines&&H(Ld.from,Ld.to)){var g=Ld.inverted?a:b;if(g.line!=Ld.from.line&&Ld.from.line<xd.size){var h=C(Ld.from.line);/^\s+$/.test(h.text)&&setTimeout(Xc(function(){if(h.parent&&/^\s+$/.test(h.text)){var a=o(h);Fb("",{line:a,ch:0},{line:a,ch:h.text.length})}},10))}}Ld.from=a,Ld.to=b,Gd=!0}}function bc(a,b,c){function d(b){for(var d=a.line+b,e=1==b?xd.size:-1;d!=e;){var g=C(d);if(!g.hidden){var h=a.ch;return(f||h>c||h>g.text.length)&&(h=g.text.length),{line:d,ch:h}}d+=b}}var e=C(a.line),f=a.ch==e.text.length&&a.ch!=c;return e.hidden?a.line>=b?d(1)||d(-1):d(-1)||d(1):a}function cc(a,b,c){var d=ec({line:a,ch:b||0});(c?_b:ac)(d,d)}function dc(a){return Math.max(0,Math.min(a,xd.size-1))}function ec(a){if(a.line<0)return{line:0,ch:0};if(a.line>=xd.size)return{line:xd.size-1,ch:C(xd.size-1).text.length};var b=a.ch,c=C(a.line).text.length;return null==b||b>c?{line:a.line,ch:c}:0>b?{line:a.line,ch:0}:a}function fc(a,b){function c(){for(var b=f+a,c=0>a?-1:xd.size;b!=c;b+=a){var d=C(b);if(!d.hidden)return f=b,h=d,!0}}function d(b){if(g==(0>a?0:h.text.length)){if(b||!c())return!1;g=0>a?h.text.length:0}else g+=a;return!0}var e=Ld.inverted?Ld.from:Ld.to,f=e.line,g=e.ch,h=C(f);if("char"==b)d();else if("column"==b)d(!0);else if("word"==b)for(var i=!1;!(0>a)||d();){if(N(h.text.charAt(g)))i=!0;else if(i){0>a&&(a=1,d());break}if(a>0&&!d())break}return{line:f,ch:g}}function gc(a,b){var c=0>a?Ld.from:Ld.to;(yd||H(Ld.from,Ld.to))&&(c=fc(a,b)),cc(c.line,c.ch,!0)}function hc(a,b){H(Ld.from,Ld.to)?0>a?Fb("",fc(a,b),Ld.to):Fb("",Ld.from,fc(a,b)):Fb("",Ld.from,Ld.to),Dd=!0}function ic(a,b){var c=0,d=Fc(Ld.inverted?Ld.from:Ld.to,!0);null!=de&&(d.x=de),"page"==b?c=Math.min(dd.clientHeight,window.innerHeight||document.documentElement.clientHeight):"line"==b&&(c=Ic());var e=Gc(d.x,d.y+c*a+2);"page"==b&&(od.scrollTop+=Fc(e,!0).y-d.y),cc(e.line,e.ch,!0),de=d.x}function jc(a){for(var b=C(a.line).text,c=a.ch,d=a.ch;c>0&&N(b.charAt(c-1));)--c;for(;d<b.length&&N(b.charAt(d));)++d;_b({line:a.line,ch:c},{line:a.line,ch:d})}function kc(a){_b({line:a,ch:0},ec({line:a+1,ch:0}))}function lc(a){if(H(Ld.from,Ld.to))return mc(Ld.from.line,a);for(var b=Ld.to.line-(Ld.to.ch?0:1),c=Ld.from.line;b>=c;++c)mc(c,a)}function mc(a,b){if(b||(b="add"),"smart"==b)if(sd.indent)var c=Rc(a);else b="prev";var d,e=C(a),f=e.indentation(Zc.tabSize),g=e.text.match(/^\s*/)[0];"smart"==b&&(d=sd.indent(c,e.text.slice(g.length),e.text),d==V&&(b="prev")),"prev"==b?d=a?C(a-1).indentation(Zc.tabSize):0:"add"==b?d=f+Zc.indentUnit:"subtract"==b&&(d=f-Zc.indentUnit),d=Math.max(0,d);var h=d-f;if(h){var i="",j=0;if(Zc.indentWithTabs)for(var k=Math.floor(d/Zc.tabSize);k;--k)j+=Zc.tabSize,i+="	";for(;d>j;)++j,i+=" "}else{if(Ld.from.line!=a&&Ld.to.line!=a)return;var i=g}Fb(i,{line:a,ch:0},{line:a,ch:g.length})}function nc(){sd=a.getMode(Zc,Zc.mode),xd.iter(0,xd.size,function(a){a.stateAfter=null}),td=[0],Uc()}function oc(){var a=Zc.gutter||Zc.lineNumbers;gd.style.display=a?"":"none",a?Id=!0:nd.parentNode.style.marginLeft=0}function pc(){if(Zc.lineWrapping){ad.className+=" CodeMirror-wrap";var a=dd.clientWidth/Jc()-3;xd.iter(0,xd.size,function(b){if(!b.hidden){var c=Math.ceil(b.text.length/a)||1;1!=c&&D(b,c)}}),id.style.width=ed.style.width="",ld.style.left=""}else ad.className=ad.className.replace(" CodeMirror-wrap",""),Ud="",Wd=!0,xd.iter(0,xd.size,function(a){1==a.height||a.hidden||D(a,1),a.text.length>Ud.length&&(Ud=a.text)});Ed.push({from:0,to:xd.size})}function qc(a){var b=Zc.tabSize-a%Zc.tabSize,c=Xd[b];if(c)return c;for(var d='<span class="cm-tab">',e=0;b>e;++e)d+=" ";return Xd[b]={html:d+"</span>",width:b}}function rc(){dd.className=dd.className.replace(/\s*cm-s-\S+/g,"")+Zc.theme.replace(/(^|\s)\s*/g," cm-s-")}function sc(){var a=U[Zc.keyMap].style;ad.className=ad.className.replace(/\s*cm-keymap-\S+/g,"")+(a?" cm-keymap-"+a:"")}function tc(){this.set=[]}function uc(a,b,c){function d(a,b,c,d){C(a).addMark(new h(b,c,d,e))}a=ec(a),b=ec(b);var e=new tc;if(!I(a,b))return e;if(a.line==b.line)d(a.line,a.ch,b.ch,c);else{d(a.line,a.ch,null,c);for(var f=a.line+1,g=b.line;g>f;++f)d(f,null,null,c);d(b.line,null,b.ch,c)}return Ed.push({from:a.line,to:b.line+1}),e}function vc(a){a=ec(a);var b=new i(a.ch);return C(a.line).addMark(b),b}function wc(a){a=ec(a);var b=[],c=C(a.line).marked;if(!c)return b;for(var d=0,e=c.length;e>d;++d){var f=c[d];(null==f.from||f.from<=a.ch)&&(null==f.to||f.to>=a.ch)&&b.push(f.marker||f)}return b}function xc(a,b,c){return"number"==typeof a&&(a=C(dc(a))),a.gutterMarker={text:b,style:c},Id=!0,a}function yc(a){"number"==typeof a&&(a=C(dc(a))),a.gutterMarker=null,Id=!0}function zc(a,b){var c=a,d=a;return"number"==typeof a?d=C(dc(a)):c=o(a),null==c?null:b(d,c)?(Ed.push({from:c,to:c+1}),d):null}function Ac(a,b,c){return zc(a,function(a){return a.className!=b||a.bgClassName!=c?(a.className=b,a.bgClassName=c,!0):void 0})}function Bc(a,b){return zc(a,function(a,c){if(a.hidden!=b){if(a.hidden=b,!Zc.lineWrapping){var d=a.text;b&&d.length==Ud.length?Vd=!0:!b&&d.length>Ud.length&&(Ud=d,maxWidth=null,Vd=!1)}D(a,b?0:1);var e=Ld.from.line,f=Ld.to.line;if(b&&(e==c||f==c)){var g=e==c?bc({line:e,ch:0},e,0):Ld.from,h=f==c?bc({line:f,ch:0},f,0):Ld.to;if(!h)return;ac(g,h)}return Id=!0}})}function Cc(a){if("number"==typeof a){if(!v(a))return null;var b=a;if(a=C(a),!a)return null}else{var b=o(a);if(null==b)return null}var c=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:c&&c.text,markerClass:c&&c.style,lineClass:a.className,bgClass:a.bgClassName}}function Dc(a){return jd.innerHTML="<pre><span>x</span></pre>",jd.firstChild.firstChild.firstChild.nodeValue=a,jd.firstChild.firstChild.offsetWidth||10}function Ec(a,b){if(0==b)return{top:0,left:0};var c=Zc.lineWrapping&&b<a.text.length&&gb.test(a.text.slice(b-1,b+1));jd.innerHTML="<pre>"+a.getHTML(qc,b,ie,c)+"</pre>";var d=document.getElementById(ie),e=d.offsetTop,f=d.offsetLeft;if(X&&0==e&&0==f){var g=document.createElement("span");g.innerHTML="x",d.parentNode.insertBefore(g,d.nextSibling),e=g.offsetTop}return{top:e,left:f}}function Fc(a,b){var c,d=Ic(),e=d*(q(xd,a.line)-(b?Qd:0));if(0==a.ch)c=0;else{var f=Ec(C(a.line),a.ch);c=f.left,Zc.lineWrapping&&(e+=Math.max(0,f.top))}return{x:c,y:e,yBot:e+d}}function Gc(a,b){function c(a){var b=Ec(h,a);if(j){var c=Math.round(b.top/d);return Math.max(0,b.left+(c-k)*dd.clientWidth)}return b.left}0>b&&(b=0);var d=Ic(),e=Jc(),f=Qd+Math.floor(b/d),g=p(xd,f);if(g>=xd.size)return{line:xd.size-1,ch:C(xd.size-1).text.length};var h=C(g),i=h.text,j=Zc.lineWrapping,k=j?f-q(xd,g):0;if(0>=a&&0==k)return{line:g,ch:0};for(var l,m=0,n=0,o=i.length,r=Math.min(o,Math.ceil((a+.9*k*dd.clientWidth)/e));;){var s=c(r);if(!(a>=s&&o>r)){l=s,o=r;break}r=Math.min(o,Math.ceil(1.2*r))}if(a>l)return{line:g,ch:o};for(r=Math.floor(.8*o),s=c(r),a>s&&(m=r,n=s);;){if(1>=o-m)return{line:g,ch:l-a>a-n?m:o};var t=Math.ceil((m+o)/2),u=c(t);u>a?(o=t,l=u):(m=t,n=u)}}function Hc(a){var b=Fc(a,!0),c=E(id);return{x:c.left+b.x,y:c.top+b.y,yBot:c.top+b.yBot}}function Ic(){if(null==ge){ge="<pre>";for(var a=0;49>a;++a)ge+="x<br/>";ge+="x</pre>"}var b=nd.clientHeight;return b==fe?ee:(fe=b,jd.innerHTML=ge,ee=jd.firstChild.offsetHeight/50||1,jd.innerHTML="",ee)}function Jc(){return dd.clientWidth==je?he:(je=dd.clientWidth,he=Dc("x"))}function Kc(){return id.offsetTop}function Lc(){return id.offsetLeft}function Mc(a,b){var c,d,e=E(dd,!0);try{c=a.clientX,d=a.clientY}catch(a){return null}if(!b&&(c-e.left>dd.clientWidth||d-e.top>dd.clientHeight))return null;var f=E(id,!0);return Gc(c-f.left,d-f.top)}function Nc(a){function b(){var a=ib(cd.value).join("\n");a==f||Zc.readOnly||Xc(Gb)(a,"end"),bd.style.position="relative",cd.style.cssText=e,Z&&(od.scrollTop=d),Hd=!1,Nb(!0),Kb()}var c=Mc(a),d=od.scrollTop;if(c&&!bb){(H(Ld.from,Ld.to)||I(c,Ld.from)||!I(c,Ld.to))&&Xc(cc)(c.line,c.ch);var e=cd.style.cssText;bd.style.position="absolute",cd.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; "+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Hd=!0;var f=cd.value=Jb();if(Ob(),G(cd),W){w(a);var g=A(window,"mouseup",function(){g(),setTimeout(b,20)},!0)}else setTimeout(b,50)}}function Oc(){clearInterval(rd);var a=!0;kd.style.visibility="",rd=setInterval(function(){kd.style.visibility=(a=!a)?"":"hidden"},650)}function Pc(a){function b(a,b,c){if(a.text)for(var d,e=a.styles,f=g?0:a.text.length-1,i=g?0:e.length-2,j=g?e.length:-2;i!=j;i+=2*h){var k=e[i];if(e[i+1]==m){for(var l=g?0:k.length-1,p=g?k.length:-1;l!=p;l+=h,f+=h)if(f>=b&&c>f&&o.test(d=k.charAt(l))){var q=ke[d];if(">"==q.charAt(1)==g)n.push(d);else{if(n.pop()!=q.charAt(0))return{pos:f,match:!1};if(!n.length)return{pos:f,match:!0}}}}else f+=h*k.length}}var c=Ld.inverted?Ld.from:Ld.to,d=C(c.line),e=c.ch-1,f=e>=0&&ke[d.text.charAt(e)]||ke[d.text.charAt(++e)];if(f){for(var g=(f.charAt(0),">"==f.charAt(1)),h=g?1:-1,i=d.styles,j=e+1,k=0,l=i.length;l>k;k+=2)if((j-=i[k].length)<=0){var m=i[k+1];break}for(var n=[d.text.charAt(e)],o=/[(){}[\]]/,k=c.line,l=g?Math.min(k+100,xd.size):Math.max(-1,k-100);k!=l;k+=h){var d=C(k),p=k==c.line,q=b(d,p&&g?e+1:0,p&&!g?e:d.text.length);if(q)break}q||(q={pos:null,match:!1});var m=q.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",r=uc({line:c.line,ch:e},{line:c.line,ch:e+1},m),s=null!=q.pos&&uc({line:k,ch:q.pos},{line:k,ch:q.pos+1},m),t=Xc(function(){r.clear(),s&&s.clear()});a?setTimeout(t,800):Kd=t}}function Qc(a){for(var b,c,d=a,e=a-40;d>e;--d){if(0==d)return 0;var f=C(d-1);if(f.stateAfter)return d;var g=f.indentation(Zc.tabSize);(null==c||b>g)&&(c=d-1,b=g)}return c}function Rc(a){var b=Qc(a),c=b&&C(b-1).stateAfter;return c=c?e(sd,c):f(sd),xd.iter(b,a,function(a){a.highlight(sd,c,Zc.tabSize),a.stateAfter=e(sd,c)}),a>b&&Ed.push({from:b,to:a}),a<xd.size&&!C(a).stateAfter&&td.push(a),c}function Sc(a,b){var c=Rc(a);xd.iter(a,b,function(a){a.highlight(sd,c,Zc.tabSize),a.stateAfter=e(sd,c)})}function Tc(){for(var a=+new Date+Zc.workTime,b=td.length;td.length;){if(C(Rd).stateAfter)var c=td.pop();else var c=Rd;if(!(c>=xd.size)){var d=Qc(c),g=d&&C(d-1).stateAfter;g=g?e(sd,g):f(sd);var h=0,i=sd.compareStates,j=!1,k=d,l=!1;if(xd.iter(k,xd.size,function(b){var d=b.stateAfter;if(+new Date>a)return td.push(k),Uc(Zc.workDelay),j&&Ed.push({from:c,to:k+1}),l=!0;var f=b.highlight(sd,g,Zc.tabSize);f&&(j=!0),b.stateAfter=e(sd,g);var m=null;if(i){var n=d&&i(d,g);n!=V&&(m=!!n)}return null==m&&(f===!1&&d?++h>3&&(!sd.indent||sd.indent(d,"")==sd.indent(g,""))&&(m=!0):h=0),m?!0:(++k,void 0)}),l)return;j&&Ed.push({from:c,to:k+1})}}b&&Zc.onHighlightComplete&&Zc.onHighlightComplete(_d)}function Uc(a){td.length&&wd.set(a,Xc(Tc))}function Vc(){Cd=Dd=Fd=null,Ed=[],Gd=!1,Jd=[]}function Wc(){Vd&&Eb(),Wd&&!Zc.lineWrapping&&(ld.style.left=Dc(Ud)+"px",Wd=!1);var a,b;if(Gd){var c=Rb();a=Tb(c.x,c.y,c.x,c.yBot)}Ed.length?b=Vb(Ed,!0,a?a.scrollTop:null):(Gd&&Zb(),Id&&Yb()),a&&Qb(),Gd&&(Pb(),Oc()),ud&&!Hd&&(Cd===!0||Cd!==!1&&Gd)&&Nb(Dd),Gd&&Zc.matchBrackets&&setTimeout(Xc(function(){Kd&&(Kd(),Kd=null),H(Ld.from,Ld.to)&&Pc(!1)}),20);var d=Gd,e=Jd;Fd&&Zc.onChange&&_d&&Zc.onChange(_d,Fd),d&&Zc.onCursorActivity&&Zc.onCursorActivity(_d);for(var f=0;f<e.length;++f)e[f](_d);b&&Zc.onUpdate&&Zc.onUpdate(_d)}function Xc(a){return function(){le++||Vc();try{var b=a.apply(this,arguments)}finally{--le||Wc()}return b}}function Yc(a){Yd.startCompound();try{return a()}finally{Yd.endCompound()}}var Zc={},$c=a.defaults;for(var _c in $c)$c.hasOwnProperty(_c)&&(Zc[_c]=(k&&k.hasOwnProperty(_c)?k:$c)[_c]);var ad=document.createElement("div");ad.className="CodeMirror"+(Zc.lineWrapping?" CodeMirror-wrap":""),ad.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scrollbar"><div class="CodeMirror-scrollbar-inner"></div></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><pre class="CodeMirror-cursor" style="visibility: hidden">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>',g.appendChild?g.appendChild(ad):g(ad);var bd=ad.firstChild,cd=bd.firstChild,dd=ad.lastChild,ed=dd.firstChild,fd=ed.firstChild,gd=fd.firstChild,hd=gd.firstChild,id=gd.nextSibling.firstChild,jd=id.firstChild,kd=jd.nextSibling,ld=kd.nextSibling,md=ld.nextSibling,nd=md.nextSibling,od=bd.nextSibling,pd=od.firstChild;rc(),sc(),O&&(cd.style.width="0px"),_||(dd.draggable=!0),id.style.outline="none",null!=Zc.tabindex&&(cd.tabIndex=Zc.tabindex),Zc.autofocus&&Ob(),Zc.gutter||Zc.lineNumbers||(gd.style.display="none"),db&&(bd.style.height="1px",bd.style.position="absolute"),eb?od.className+=Db()?" cm-sb-overlap":" cm-sb-nonoverlap":Y&&(od.className+=" cm-sb-ie7");try{Dc("x")}catch(qd){throw qd.message.match(/runtime/i)&&(qd=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),qd}var rd,sd,td,ud,vd=new B,wd=new B,xd=new m([new l([new j("")])]);nc();var yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Md=0,Nd=0,Od=!1,Pd=!1,Qd=0,Rd=0,Sd=0,Td=0,Ud="",Vd=!1,Wd=!0,Xd={};Xc(function(){K(Zc.value||""),Cd=!1})();var Yd=new r;A(dd,"mousedown",Xc(cb)),A(dd,"dblclick",Xc(hb)),A(id,"selectstart",u),W||A(dd,"contextmenu",Nc),A(dd,"scroll",R),A(od,"scroll",R),A(od,"mousedown",function(){setTimeout(Ob,0)}),A(dd,"mousewheel",wb),A(dd,"DOMMouseScroll",wb),A(window,"resize",function(){Vb(!0)}),A(cd,"keyup",Xc(sb)),A(cd,"input",Lb),A(cd,"keydown",Xc(qb)),A(cd,"keypress",Xc(rb)),A(cd,"focus",tb),A(cd,"blur",ub),Zc.dragDrop&&(A(dd,"dragstart",mb),A(dd,"dragenter",s),A(dd,"dragover",s),A(dd,"drop",Xc(lb))),A(dd,"paste",function(){Ob(),Lb()}),A(cd,"paste",Lb),A(cd,"cut",Xc(function(){Zc.readOnly||Gb("")})),db&&A(ed,"mouseup",function(){document.activeElement==cd&&cd.blur(),Ob()});var Zd;try{Zd=document.activeElement==cd}catch(qd){}Zd||Zc.autofocus?setTimeout(tb,20):ub();var $d,_d=ad.CodeMirror={getValue:Q,setValue:Xc(K),getSelection:Jb,replaceSelection:Xc(Gb),focus:function(){window.focus(),Ob(),tb(),Lb()},setOption:function(a,b){var c=Zc[a];Zc[a]=b,"mode"==a||"indentUnit"==a?nc():"readOnly"==a&&"nocursor"==b?(ub(),cd.blur()):"readOnly"!=a||b?"theme"==a?rc():"lineWrapping"==a&&c!=b?Xc(pc)():"tabSize"==a?Vb(!0):"keyMap"==a&&sc():Nb(!0),("lineNumbers"==a||"gutter"==a||"firstLineNumber"==a||"theme"==a)&&(oc(),Vb(!0))},getOption:function(a){return Zc[a]},undo:Xc(zb),redo:Xc(Ab),indentLine:Xc(function(a,b){"string"!=typeof b&&(b=null==b?Zc.smartIndent?"smart":"prev":b?"add":"subtract"),v(a)&&mc(a,b)}),indentSelection:Xc(lc),historySize:function(){return{undo:Yd.done.length,redo:Yd.undone.length}},clearHistory:function(){Yd=new r},matchBrackets:Xc(function(){Pc(!0)}),getTokenAt:Xc(function(a){return a=ec(a),C(a.line).getTokenAt(sd,Rc(a.line),a.ch)}),getStateAfter:function(a){return a=dc(null==a?xd.size-1:a),Rc(a+1)},cursorCoords:function(a,b){return null==a&&(a=Ld.inverted),this.charCoords(a?Ld.from:Ld.to,b)},charCoords:function(a,b){return a=ec(a),"local"==b?Fc(a,!1):"div"==b?Fc(a,!0):Hc(a)},coordsChar:function(a){var b=E(id);return Gc(a.x-b.left,a.y-b.top)},markText:Xc(uc),setBookmark:vc,findMarksAt:wc,setMarker:Xc(xc),clearMarker:Xc(yc),setLineClass:Xc(Ac),hideLine:Xc(function(a){return Bc(a,!0)}),showLine:Xc(function(a){return Bc(a,!1)}),onDeleteLine:function(a,b){if("number"==typeof a){if(!v(a))return null;a=C(a)}return(a.handlers||(a.handlers=[])).push(b),a},lineInfo:Cc,addWidget:function(a,b,c,d,e){a=Fc(ec(a));var f=a.yBot,g=a.x;if(b.style.position="absolute",ed.appendChild(b),"over"==d)f=a.y;
else if("near"==d){var h=Math.max(dd.offsetHeight,xd.height*Ic()),i=Math.max(ed.clientWidth,id.clientWidth)-Lc();a.yBot+b.offsetHeight>h&&a.y>b.offsetHeight&&(f=a.y-b.offsetHeight),g+b.offsetWidth>i&&(g=i-b.offsetWidth)}b.style.top=f+Kc()+"px",b.style.left=b.style.right="","right"==e?(g=ed.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?g=0:"middle"==e&&(g=(ed.clientWidth-b.offsetWidth)/2),b.style.left=g+Lc()+"px"),c&&Sb(g,f,g+b.offsetWidth,f+b.offsetHeight)},lineCount:function(){return xd.size},clipPos:ec,getCursor:function(a){return null==a&&(a=Ld.inverted),J(a?Ld.from:Ld.to)},somethingSelected:function(){return!H(Ld.from,Ld.to)},setCursor:Xc(function(a,b,c){null==b&&"number"==typeof a.line?cc(a.line,a.ch,c):cc(a,b,c)}),setSelection:Xc(function(a,b,c){(c?_b:ac)(ec(a),ec(b||a))}),getLine:function(a){return v(a)?C(a).text:void 0},getLineHandle:function(a){return v(a)?C(a):void 0},setLine:Xc(function(a,b){v(a)&&Fb(b,{line:a,ch:0},{line:a,ch:C(a).text.length})}),removeLine:Xc(function(a){v(a)&&Fb("",{line:a,ch:0},ec({line:a+1,ch:0}))}),replaceRange:Xc(Fb),getRange:function(a,b){return Ib(ec(a),ec(b))},triggerOnKeyDown:Xc(qb),execCommand:function(a){return T[a](_d)},moveH:Xc(gc),deleteH:Xc(hc),moveV:Xc(ic),toggleOverwrite:function(){Od?(Od=!1,kd.className=kd.className.replace(" CodeMirror-overwrite","")):(Od=!0,kd.className+=" CodeMirror-overwrite")},posFromIndex:function(a){var b,c=0;return xd.iter(0,xd.size,function(d){var e=d.text.length+1;return e>a?(b=a,!0):(a-=e,++c,void 0)}),ec({line:c,ch:b})},indexFromPos:function(a){if(a.line<0||a.ch<0)return 0;var b=a.ch;return xd.iter(0,a.line,function(a){b+=a.text.length+1}),b},scrollTo:function(a,b){null!=a&&(dd.scrollLeft=a),null!=b&&(od.scrollTop=b),Vb([])},getScrollInfo:function(){return{x:dd.scrollLeft,y:od.scrollTop,height:od.scrollHeight,width:dd.scrollWidth}},operation:function(a){return Xc(a)()},compoundChange:function(a){return Yc(a)},refresh:function(){Vb(!0),od.scrollHeight>Md&&(od.scrollTop=Md)},getInputField:function(){return cd},getWrapperElement:function(){return ad},getScrollerElement:function(){return dd},getGutterElement:function(){return gd}},ae=null,be=!1,ce="",de=null;tc.prototype.clear=Xc(function(){for(var a=1/0,b=-1/0,c=0,d=this.set.length;d>c;++c){var e=this.set[c],f=e.marked;if(f&&e.parent){var g=o(e);a=Math.min(a,g),b=Math.max(b,g);for(var h=0;h<f.length;++h)f[h].marker==this&&f.splice(h--,1)}}1/0!=a&&Ed.push({from:a,to:b+1})}),tc.prototype.find=function(){for(var a,b,c=0,d=this.set.length;d>c;++c)for(var e=this.set[c],f=e.marked,g=0;g<f.length;++g){var h=f[g];if(h.marker==this&&(null!=h.from||null!=h.to)){var i=o(e);null!=i&&(null!=h.from&&(a={line:i,ch:h.from}),null!=h.to&&(b={line:i,ch:h.to}))}}return{from:a,to:b}};var ee,fe,ge,he,ie="CodeMirror-temp-"+Math.floor(16777215*Math.random()).toString(16),je=0,ke={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},le=0;for(var me in S)S.propertyIsEnumerable(me)&&!_d.propertyIsEnumerable(me)&&(_d[me]=S[me]);return _d}function b(a){return"string"==typeof a?U[a]:a}function c(a,c,d,e,f){function g(c){c=b(c);var d=c[a];if(null!=d&&e(d))return!0;if(c.nofallthrough)return f&&f(),!0;var h=c.fallthrough;if(null==h)return!1;if("[object Array]"!=Object.prototype.toString.call(h))return g(h);for(var i=0,j=h.length;j>i;++i)if(g(h[i]))return!0;return!1}return c&&g(c)?!0:g(d)}function d(a){var b=kb[z(a,"keyCode")];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function e(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c}function f(a,b,c){return a.startState?a.startState(b,c):!0}function g(a,b){this.pos=this.start=0,this.string=a,this.tabSize=b||8}function h(a,b,c,d){this.from=a,this.to=b,this.style=c,this.marker=d}function i(a){this.from=a,this.to=a,this.line=null}function j(a,b){this.styles=b||[a,null],this.text=a,this.height=1,this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null,this.stateAfter=this.parent=this.hidden=null}function k(a,b,c,d){for(var e=0,f=0,g=0;b>f;e+=2){var h=c[e],i=f+h.length;0==g?(i>a&&d.push(h.slice(a-f,Math.min(h.length,b-f)),c[e+1]),i>=a&&(g=1)):1==g&&(i>b?d.push(h.slice(0,b-f),c[e+1]):d.push(h,c[e+1])),f=i}}function l(a){this.lines=a,this.parent=null;for(var b=0,c=a.length,d=0;c>b;++b)a[b].parent=this,d+=a[b].height;this.height=d}function m(a){this.children=a;for(var b=0,c=0,d=0,e=a.length;e>d;++d){var f=a[d];b+=f.chunkSize(),c+=f.height,f.parent=this}this.size=b,this.height=c,this.parent=null}function n(a,b){for(;!a.lines;)for(var c=0;;++c){var d=a.children[c],e=d.chunkSize();if(e>b){a=d;break}b-=e}return a.lines[b]}function o(a){if(null==a.parent)return null;for(var b=a.parent,c=M(b.lines,a),d=b.parent;d;b=d,d=d.parent){var e=0;for(d.children.length;d.children[e]!=b;++e)c+=d.children[e].chunkSize()}return c}function p(a,b){var c=0;a:do{for(var d=0,e=a.children.length;e>d;++d){var f=a.children[d],g=f.height;if(g>b){a=f;continue a}b-=g,c+=f.chunkSize()}return c}while(!a.lines);for(var d=0,e=a.lines.length;e>d;++d){var h=a.lines[d],i=h.height;if(i>b)break;b-=i}return c+d}function q(a,b){var c=0;a:do{for(var d=0,e=a.children.length;e>d;++d){var f=a.children[d],g=f.chunkSize();if(g>b){a=f;continue a}b-=g,c+=f.height}return c}while(!a.lines);for(var d=0;b>d;++d)c+=a.lines[d].height;return c}function r(){this.time=0,this.done=[],this.undone=[],this.compound=0,this.closed=!1}function s(){w(this)}function t(a){return a.stop||(a.stop=s),a}function u(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function v(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function w(a){u(a),v(a)}function x(a){return a.target||a.srcElement}function y(a){return a.which?a.which:1&a.button?1:2&a.button?3:4&a.button?2:void 0}function z(a,b){var c=a.override&&a.override.hasOwnProperty(b);return c?a.override[b]:a[b]}function A(a,b,c,d){if("function"==typeof a.addEventListener){if(a.addEventListener(b,c,!1),d)return function(){a.removeEventListener(b,c,!1)}}else{var e=function(a){c(a||window.event)};if(a.attachEvent("on"+b,e),d)return function(){a.detachEvent("on"+b,e)}}}function B(){this.id=null}function C(a,b,c){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var d=0,e=0;b>d;++d)"	"==a.charAt(d)?e+=c-e%c:++e;return e}function D(a){return a.currentStyle?a.currentStyle:window.getComputedStyle(a,null)}function E(a,b){for(var c=a.ownerDocument.body,d=0,e=0,f=!1,g=a;g;g=g.offsetParent){var h=g.offsetLeft,i=g.offsetTop;g==c?(d+=Math.abs(h),e+=Math.abs(i)):(d+=h,e+=i),b&&"fixed"==D(g).position&&(f=!0)}for(var j=b&&!f?null:c,g=a.parentNode;g!=j;g=g.parentNode)null!=g.scrollLeft&&(d-=g.scrollLeft,e-=g.scrollTop);return{left:d,top:e}}function F(a){return a.textContent||a.innerText||a.nodeValue||""}function G(a){O?(a.selectionStart=0,a.selectionEnd=a.value.length):a.select()}function H(a,b){return a.line==b.line&&a.ch==b.ch}function I(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function J(a){return{line:a.line,ch:a.ch}}function K(a){return hb.textContent=a,hb.innerHTML}function L(a,b){if(!b)return 0;if(!a)return b.length;for(var c=a.length,d=b.length;c>=0&&d>=0&&a.charAt(c)==b.charAt(d);--c,--d);return d+1}function M(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;++c)if(a[c]==b)return c;return-1}function N(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}a.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null};var O=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),P=O||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var Q=a.modes={},R=a.mimeModes={};a.defineMode=function(b,c){if(a.defaults.mode||"null"==b||(a.defaults.mode=b),arguments.length>2){c.dependencies=[];for(var d=2;d<arguments.length;++d)c.dependencies.push(arguments[d])}Q[b]=c},a.defineMIME=function(a,b){R[a]=b},a.resolveMode=function(b){if("string"==typeof b&&R.hasOwnProperty(b))b=R[b];else if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return a.resolveMode("application/xml");return"string"==typeof b?{name:b}:b||{name:"null"}},a.getMode=function(b,c){var c=a.resolveMode(c),d=Q[c.name];return d?d(b,c):a.getMode(b,"text/plain")},a.listModes=function(){var a=[];for(var b in Q)Q.propertyIsEnumerable(b)&&a.push(b);return a},a.listMIMEs=function(){var a=[];for(var b in R)R.propertyIsEnumerable(b)&&a.push({mime:b,mode:R[b]});return a};var S=a.extensions={};a.defineExtension=function(a,b){S[a]=b};var T=a.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),d=!H(b,c);d||a.getLine(b.line).length!=b.ch?a.replaceRange("",b,d?c:{line:b.line}):a.replaceRange("",b,{line:b.line+1,ch:0})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),d=Math.max(0,c.search(/\S/));a.setCursor(b.line,b.ch<=d&&b.ch?0:d,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("	","end")},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.replaceSelection("	","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);b.ch>0&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n","end"),a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},U=a.keyMap={};U.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},U.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},U.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},U["default"]=P?U.macDefault:U.pcDefault,U.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},a.fromTextArea=function(b,c){function d(){b.value=h.getValue()}function e(){d(),b.form.submit=g,b.form.submit(),b.form.submit=e}if(c||(c={}),c.value=b.value,!c.tabindex&&b.tabindex&&(c.tabindex=b.tabindex),null==c.autofocus&&null!=b.getAttribute("autofocus")&&(c.autofocus=!0),b.form){var f=A(b.form,"submit",d,!0);if("function"==typeof b.form.submit){var g=b.form.submit;b.form.submit=e}}b.style.display="none";var h=a(function(a){b.parentNode.insertBefore(a,b.nextSibling)},c);return h.save=d,h.getTextArea=function(){return b},h.toTextArea=function(){d(),b.parentNode.removeChild(h.getWrapperElement()),b.style.display="",b.form&&(f(),"function"==typeof b.form.submit&&(b.form.submit=g))},h},a.copyState=e,a.startState=f,g.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a)var c=b==a;else var c=b&&(a.test?a.test(b):a(b));return c?(++this.pos,b):void 0},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);return b>-1?(this.pos=b,!0):void 0},backUp:function(a){this.pos-=a},column:function(){return C(this.string,this.start,this.tabSize)},indentation:function(){return C(this.string,null,this.tabSize)},match:function(a,b,c){function d(a){return c?a.toLowerCase():a}if("string"!=typeof a){var e=this.string.slice(this.pos).match(a);return e&&b!==!1&&(this.pos+=e[0].length),e}return d(this.string).indexOf(d(a),this.pos)==this.pos?(b!==!1&&(this.pos+=a.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},a.StringStream=g,h.prototype={attach:function(a){this.marker.set.push(a)},detach:function(a){var b=M(this.marker.set,a);b>-1&&this.marker.set.splice(b,1)},split:function(a,b){if(this.to<=a&&null!=this.to)return null;var c=this.from<a||null==this.from?null:this.from-a+b,d=null==this.to?null:this.to-a+b;return new h(c,d,this.style,this.marker)},dup:function(){return new h(null,null,this.style,this.marker)},clipTo:function(a,b,c,d,e){a&&d>this.from&&(d<this.to||null==this.to)?this.from=null:null!=this.from&&this.from>=b&&(this.from=Math.max(d,this.from)+e),c&&(b<this.to||null==this.to)&&(b>this.from||null==this.from)?this.to=null:null!=this.to&&this.to>b&&(this.to=d<this.to?this.to+e:b)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(a){return this.marker==a.marker}},i.prototype={attach:function(a){this.line=a},detach:function(a){this.line==a&&(this.line=null)},split:function(a,b){return a<this.from?(this.from=this.to=this.from-a+b,this):void 0},isDead:function(){return this.from>this.to},clipTo:function(a,b,c,d,e){(a||b<this.from)&&(c||d>this.to)?(this.from=0,this.to=-1):this.from>b&&(this.from=this.to=Math.max(d,this.from)+e)},sameSet:function(){return!1},find:function(){return this.line&&this.line.parent?{line:o(this.line),ch:this.from}:null},clear:function(){if(this.line){var a=M(this.line.marked,this);-1!=a&&this.line.marked.splice(a,1),this.line=null}}},j.inheritMarks=function(a,b){var c=new j(a),d=b&&b.marked;if(d)for(var e=0;e<d.length;++e)if(null==d[e].to&&d[e].style){var f=c.marked||(c.marked=[]),g=d[e],h=g.dup();f.push(h),h.attach(c)}return c},j.prototype={replace:function(a,b,c){var d=[],e=this.marked,f=null==b?this.text.length:b;if(k(0,a,this.styles,d),c&&d.push(c,null),k(f,this.text.length,this.styles,d),this.styles=d,this.text=this.text.slice(0,a)+c+this.text.slice(f),this.stateAfter=null,e)for(var g=c.length-(f-a),h=0;h<e.length;++h){var i=e[h];i.clipTo(null==a,a||0,null==b,f,g),i.isDead()&&(i.detach(this),e.splice(h--,1))}},split:function(a,b){var c=[b,null],d=this.marked;k(a,this.text.length,this.styles,c);var e=new j(b+this.text.slice(a),c);if(d)for(var f=0;f<d.length;++f){var g=d[f],h=g.split(a,b.length);h&&(e.marked||(e.marked=[]),e.marked.push(h),h.attach(e),h==g&&d.splice(f--,1))}return e},append:function(a){var b=this.text.length,c=a.marked,d=this.marked;if(this.text+=a.text,k(0,a.text.length,a.styles,this.styles),d)for(var e=0;e<d.length;++e)null==d[e].to&&(d[e].to=b);if(c&&c.length){d||(this.marked=d=[]);a:for(var e=0;e<c.length;++e){var f=c[e];if(!f.from)for(var g=0;g<d.length;++g){var h=d[g];if(h.to==b&&h.sameSet(f)){h.to=null==f.to?null:f.to+b,h.isDead()&&(h.detach(this),c.splice(e--,1));continue a}}d.push(f),f.attach(this),f.from+=b,null!=f.to&&(f.to+=b)}}},fixMarkEnds:function(a){var b=this.marked,c=a.marked;if(b)for(var d=0;d<b.length;++d){var e=b[d],f=null==e.to;if(f&&c)for(var g=0;g<c.length;++g)if(c[g].sameSet(e)){f=!1;break}f&&(e.to=this.text.length)}},fixMarkStarts:function(){var a=this.marked;if(a)for(var b=0;b<a.length;++b)null==a[b].from&&(a[b].from=0)},addMark:function(a){a.attach(this),null==this.marked&&(this.marked=[]),this.marked.push(a),this.marked.sort(function(a,b){return(a.from||0)-(b.from||0)})},highlight:function(a,b,c){var d,e=new g(this.text,c),f=this.styles,h=0,i=!1,j=f[0];for(""==this.text&&a.blankLine&&a.blankLine(b);!e.eol();){var k=a.token(e,b),l=this.text.slice(e.start,e.pos);if(e.start=e.pos,h&&f[h-1]==k?f[h-2]+=l:l&&(!i&&(f[h+1]!=k||h&&f[h-2]!=d)&&(i=!0),f[h++]=l,f[h++]=k,d=j,j=f[h]),e.pos>5e3){f[h++]=this.text.slice(e.pos),f[h++]=null;break}}return f.length!=h&&(f.length=h,i=!0),h&&f[h-2]!=d&&(i=!0),i||(f.length<5&&this.text.length<10?null:!1)},getTokenAt:function(a,b,c){for(var d=this.text,e=new g(d);e.pos<c&&!e.eol();){e.start=e.pos;var f=a.token(e,b)}return{start:e.start,end:e.pos,string:e.current(),className:f||null,state:b}},indentation:function(a){return C(this.text,null,a)},getHTML:function(a,b,c,d){function e(b,c){if(b){if(i&&X&&" "==b.charAt(0)&&(b=" "+b.slice(1)),i=!1,-1==b.indexOf("	")){j+=b.length;var d=K(b)}else for(var d="",e=0;;){var f=b.indexOf("	",e);if(-1==f){d+=K(b.slice(e)),j+=b.length-e;break}j+=f-e;var g=a(j);d+=K(b.slice(e,f))+g.html,j+=g.width,e=f+1}c?h.push('<span class="',c,'">',d,"</span>"):h.push(d)}}function f(a){return a?"cm-"+a.replace(/ +/g," cm-"):null}function g(){for(var a;x<p.length&&((a=p[x]).from==s||null==a.from);)null!=a.style&&w.push(a),++x;v=x<p.length?p[x].from:1/0;for(var b=0;b<w.length;++b){var c=w[b].to||1/0;c==s?w.splice(b--,1):v=Math.min(c,v)}}var h=[],i=!0,j=0,k=e;if(null!=b){var l=0,m='<span id="'+c+'">';k=function(a,c){var f=a.length;if(b>=l&&l+f>b){b>l&&(e(a.slice(0,b-l),c),d&&h.push("<wbr>")),h.push(m);var g=b-l;e(bb?a.slice(g,g+1):a.slice(g),c),h.push("</span>"),bb&&e(a.slice(g+1),c),b--,l+=f}else l+=f,e(a,c),l==b&&l==q?h.push(m+" </span>"):l>b+10&&/\s/.test(a)&&(k=function(){})}}var n=this.styles,o=this.text,p=this.marked,q=o.length;if(o||null!=b)if(p&&p.length)for(var r,s=0,t=0,u="",v=p[0].from||0,w=[],x=0;q>s;){v==s&&g();for(var y=Math.min(q,v);;){if(u){for(var z=s+u.length,A=r,B=0;B<w.length;++B)A=(A?A+" ":"")+w[B].style;if(k(z>y?u.slice(0,y-s):u,A),z>=y){u=u.slice(y-s),s=y;break}s=z}u=n[t++],r=f(n[t++])}}else for(var t=0,C=0;q>C;t+=2){var D=n[t],r=n[t+1],E=D.length;C+E>q&&(D=D.slice(0,q-C)),C+=E,k(D,f(r))}else k(" ");return h.join("")},cleanUp:function(){if(this.parent=null,this.marked)for(var a=0,b=this.marked.length;b>a;++a)this.marked[a].detach(this)}},l.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var d=a,e=a+b;e>d;++d){var f=this.lines[d];if(this.height-=f.height,f.cleanUp(),f.handlers)for(var g=0;g<f.handlers.length;++g)c.push(f.handlers[g])}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var d=0,e=b.length;e>d;++d)b[d].parent=this},iterN:function(a,b,c){for(var d=a+b;d>a;++a)if(c(this.lines[a]))return!0}},m.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(f>a){var g=Math.min(b,f-a),h=e.height;if(e.remove(a,g,c),this.height-=h-e.height,f==g&&(this.children.splice(d--,1),e.parent=null),0==(b-=g))break;a=0}else a-=f}if(this.size-b<25){var i=[];this.collapse(i),this.children=[new l(i)],this.children[0].parent=this}},collapse:function(a){for(var b=0,c=this.children.length;c>b;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,d=0,e=b.length;e>d;++d)c+=b[d].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length,this.height+=c;for(var d=0,e=this.children.length;e>d;++d){var f=this.children[d],g=f.chunkSize();if(g>=a){if(f.insertHeight(a,b,c),f.lines&&f.lines.length>50){for(;f.lines.length>50;){var h=f.lines.splice(f.lines.length-25,25),i=new l(h);f.height-=i.height,this.children.splice(d+1,0,i),i.parent=this}this.maybeSpill()}break}a-=g}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new m(b);if(a.parent){a.size-=c.size,a.height-=c.height;var d=M(a.parent.children,a);a.parent.children.splice(d+1,0,c)}else{var e=new m(a.children);e.parent=a,a.children=[e,c],a=e}c.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var d=0,e=this.children.length;e>d;++d){var f=this.children[d],g=f.chunkSize();if(g>a){var h=Math.min(b,g-a);if(f.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=g}}},r.prototype={addChange:function(a,b,c){this.undone.length=0;var d=+new Date,e=this.done[this.done.length-1],f=e&&e[e.length-1],g=d-this.time;if(this.compound&&e&&!this.closed)e.push({start:a,added:b,old:c});else if(g>400||!f||this.closed||f.start>a+c.length||f.start+f.added<a)this.done.push([{start:a,added:b,old:c}]),this.closed=!1;else{for(var h=Math.max(0,f.start-a),i=Math.max(0,a+c.length-(f.start+f.added)),j=h;j>0;--j)f.old.unshift(c[j-1]);for(var j=i;j>0;--j)f.old.push(c[c.length-j]);h&&(f.start=a),f.added+=b-(c.length-h-i)}this.time=d},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}},a.e_stop=w,a.e_preventDefault=u,a.e_stopPropagation=v,a.connect=A,B.prototype={set:function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)}};var V=a.Pass={toString:function(){return"CodeMirror.Pass"}},W=/gecko\/\d{7}/i.test(navigator.userAgent),X=/MSIE \d/.test(navigator.userAgent),Y=/MSIE [1-7]\b/.test(navigator.userAgent),Z=/MSIE [1-8]\b/.test(navigator.userAgent),$=X&&5==document.documentMode,_=/WebKit\//.test(navigator.userAgent),ab=/Chrome\//.test(navigator.userAgent),bb=/Opera\//.test(navigator.userAgent),cb=/Apple Computer/.test(navigator.vendor),db=/KHTML\//.test(navigator.userAgent),eb=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent),fb=function(){if(Z)return!1;var a=document.createElement("div");return"draggable"in a||"dragDrop"in a}();!function(){var a=document.createElement("textarea");return a.value="foo\nbar",a.value.indexOf("\r")>-1?"\r\n":"\n"}();var gb=/^$/;W?gb=/$'/:cb?gb=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:ab&&(gb=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/),null!=document.documentElement.getBoundingClientRect&&(E=function(a,b){try{var c=a.getBoundingClientRect();c={top:c.top,left:c.left}}catch(d){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var e=document.documentElement||document.body.parentNode;null==e.scrollTop&&(e=document.body),c.top+=e.scrollTop,c.left+=e.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c});var hb=document.createElement("pre");"\na"==K("a")?K=function(a){return hb.textContent=a,hb.innerHTML.slice(1)}:"	"!=K("	")&&(K=function(a){return hb.innerHTML="",hb.appendChild(document.createTextNode(a)),hb.innerHTML}),a.htmlEscape=K;var ib=3!="\n\nb".split(/\n/).length?function(a){for(var b,c=0,d=[];(b=a.indexOf("\n",c))>-1;)d.push(a.slice(c,"\r"==a.charAt(b-1)?b-1:b)),c=b+1;return d.push(a.slice(c)),d}:function(a){return a.split(/\r?\n/)};a.splitLines=ib;var jb=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1};a.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),a.defineMIME("text/plain","null");var kb={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return a.keyNames=kb,function(){for(var a=0;10>a;a++)kb[a+48]=String(a);for(var a=65;90>=a;a++)kb[a]=String.fromCharCode(a);for(var a=1;12>=a;a++)kb[a+111]=kb[a+63235]="F"+a}(),a}();CodeMirror.defineMode("css",function(a){function b(a,b){return g=b,a}function c(a,c){var g=a.next();return"@"==g?(a.eatWhile(/[\w\\\-]/),b("meta",a.current())):"/"==g&&a.eat("*")?(c.tokenize=d,d(a,c)):"<"==g&&a.eat("!")?(c.tokenize=e,e(a,c)):"="!=g?"~"!=g&&"|"!=g||!a.eat("=")?'"'==g||"'"==g?(c.tokenize=f(g),c.tokenize(a,c)):"#"==g?(a.eatWhile(/[\w\\\-]/),b("atom","hash")):"!"==g?(a.match(/^\s*\w*/),b("keyword","important")):/\d/.test(g)?(a.eatWhile(/[\w.%]/),b("number","unit")):/[,.+>*\/]/.test(g)?b(null,"select-op"):/[;{}:\[\]]/.test(g)?b(null,g):(a.eatWhile(/[\w\\\-]/),b("variable","variable")):b(null,"compare"):(b(null,"compare"),void 0)}function d(a,d){for(var e,f=!1;null!=(e=a.next());){if(f&&"/"==e){d.tokenize=c;break}f="*"==e}return b("comment","comment")}function e(a,d){for(var e,f=0;null!=(e=a.next());){if(f>=2&&">"==e){d.tokenize=c;break}f="-"==e?f+1:0}return b("comment","comment")}function f(a){return function(d,e){for(var f,g=!1;null!=(f=d.next())&&(f!=a||g);)g=!g&&"\\"==f;return g||(e.tokenize=c),b("string","string")}}var g,h=a.indentUnit;return{startState:function(a){return{tokenize:c,baseIndent:a||0,stack:[]}},token:function(a,b){if(a.eatSpace())return null;var c=b.tokenize(a,b),d=b.stack[b.stack.length-1];return"hash"==g&&"rule"!=d?c="string-2":"variable"==c&&("rule"==d?c="number":d&&"@media{"!=d||(c="tag")),"rule"==d&&/^[\{\};]$/.test(g)&&b.stack.pop(),"{"==g?"@media"==d?b.stack[b.stack.length-1]="@media{":b.stack.push("{"):"}"==g?b.stack.pop():"@media"==g?b.stack.push("@media"):"{"==d&&"comment"!=g&&b.stack.push("rule"),c},indent:function(a,b){var c=a.stack.length;return/^\}/.test(b)&&(c-="rule"==a.stack[a.stack.length-1]?2:1),a.baseIndent+c*h},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("xml",function(a,b){function c(a,b){function c(c){return b.tokenize=c,c(a,b)}var e=a.next();if("<"==e){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?c(f("atom","]]>")):null:a.match("--")?c(f("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(g(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=f("meta","?>"),"meta";u=a.eat("/")?"closeTag":"openTag",a.eatSpace(),t="";for(var h;h=a.eat(/[^\s\u00a0=<>\"\'\/?]/);)t+=h;return b.tokenize=d,"tag"}if("&"==e){var i;return i=a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"),i?"atom":"error"}return a.eatWhile(/[^&<]/),null}function d(a,b){var d=a.next();return">"==d||"/"==d&&a.eat(">")?(b.tokenize=c,u=">"==d?"endTag":"selfcloseTag","tag"):"="==d?(u="equals",null):/[\'\"]/.test(d)?(b.tokenize=e(d),b.tokenize(a,b)):(a.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function e(a){return function(b,c){for(;!b.eol();)if(b.next()==a){c.tokenize=d;break}return"string"}}function f(a,b){return function(d,e){for(;!d.eol();){if(d.match(b)){e.tokenize=c;break}d.next()}return a}}function g(a){return function(b,d){for(var e;null!=(e=b.next());){if("<"==e)return d.tokenize=g(a+1),d.tokenize(b,d);if(">"==e){if(1==a){d.tokenize=c;break}return d.tokenize=g(a-1),d.tokenize(b,d)}}return"meta"}}function h(){for(var a=arguments.length-1;a>=0;a--)v.cc.push(arguments[a])}function i(){return h.apply(null,arguments),!0}function j(a,b){var c=y.doNotIndent.hasOwnProperty(a)||v.context&&v.context.noIndent;v.context={prev:v.context,tagName:a,indent:v.indented,startOfLine:b,noIndent:c}}function k(){v.context&&(v.context=v.context.prev)}function l(a){if("openTag"==a)return v.tagName=t,i(p,m(v.startOfLine));if("closeTag"==a){var b=!1;return v.context?v.context.tagName!=t&&(y.implicitlyClosed.hasOwnProperty(v.context.tagName.toLowerCase())&&k(),b=!v.context||v.context.tagName!=t):b=!0,b&&(w="error"),i(n(b))}return i()}function m(a){return function(b){return"selfcloseTag"==b||"endTag"==b&&y.autoSelfClosers.hasOwnProperty(v.tagName.toLowerCase())?(o(v.tagName.toLowerCase()),i()):"endTag"==b?(o(v.tagName.toLowerCase()),j(v.tagName,a),i()):i()}}function n(a){return function(b){return a&&(w="error"),"endTag"==b?(k(),i()):(w="error",i(arguments.callee))}}function o(a){for(var b;;){if(!v.context)return;if(b=v.context.tagName.toLowerCase(),!y.contextGrabbers.hasOwnProperty(b)||!y.contextGrabbers[b].hasOwnProperty(a))return;k()}}function p(a){return"word"==a?(w="attribute",i(q,p)):"endTag"==a||"selfcloseTag"==a?h():(w="error",i(p))}function q(a){return"equals"==a?i(r,p):(y.allowMissing||(w="error"),"endTag"==a||"selfcloseTag"==a?h():i())}function r(a){return"string"==a?i(s):"word"==a&&y.allowUnquoted?(w="string",i()):(w="error","endTag"==a||"selfCloseTag"==a?h():i())}function s(a){return"string"==a?i(s):h()}var t,u,v,w,x=a.indentUnit,y=b.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!1}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},z=b.alignCDATA;return{startState:function(){return{tokenize:c,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(a,b){if(a.sol()&&(b.startOfLine=!0,b.indented=a.indentation()),a.eatSpace())return null;w=u=t=null;var c=b.tokenize(a,b);
if(b.type=u,(c||u)&&"comment"!=c)for(v=b;;){var d=b.cc.pop()||l;if(d(u||c))break}return b.startOfLine=!1,w||c},indent:function(a,b,e){var f=a.context;if(a.tokenize!=d&&a.tokenize!=c||f&&f.noIndent)return e?e.match(/^(\s*)/)[0].length:0;if(z&&/<!\[CDATA\[/.test(b))return 0;for(f&&/^<\//.test(b)&&(f=f.prev);f&&!f.startOfLine;)f=f.prev;return f?f.indent+x:0},compareStates:function(a,b){if(a.indented!=b.indented||a.tokenize!=b.tokenize)return!1;for(var c=a.context,d=b.context;;c=c.prev,d=d.prev){if(!c||!d)return c==d;if(c.tagName!=d.tagName)return!1}},electricChars:"/"}}),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),CodeMirror.defineMode("javascript",function(a,b){function c(a,b,c){return b.tokenize=c,c(a,b)}function d(a,b){for(var c,d=!1;null!=(c=a.next());){if(c==b&&!d)return!1;d=!d&&"\\"==c}return d}function e(a,b,c){return K=a,L=c,b}function f(a,b){var f=a.next();if('"'==f||"'"==f)return c(a,b,g(f));if(/[\[\]{}\(\),;\:\.]/.test(f))return e(f);if("0"==f&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),e("number","number");if(/\d/.test(f)||"-"==f&&a.eat(/\d/))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),e("number","number");if("/"==f)return a.eat("*")?c(a,b,h):a.eat("/")?(a.skipToEnd(),e("comment","comment")):b.reAllowed?(d(a,"/"),a.eatWhile(/[gimy]/),e("regexp","string-2")):(a.eatWhile(P),e("operator",null,a.current()));if("#"==f)return a.skipToEnd(),e("error","error");if(P.test(f))return a.eatWhile(P),e("operator",null,a.current());a.eatWhile(/[\w\$_]/);var i=a.current(),j=O.propertyIsEnumerable(i)&&O[i];return j&&b.kwAllowed?e(j.type,j.style,i):e("variable","variable",i)}function g(a){return function(b,c){return d(b,a)||(c.tokenize=f),e("string","string")}}function h(a,b){for(var c,d=!1;c=a.next();){if("/"==c&&d){b.tokenize=f;break}d="*"==c}return e("comment","comment")}function i(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,null!=d&&(this.align=d)}function j(a,b){for(var c=a.localVars;c;c=c.next)if(c.name==b)return!0}function k(a,b,c,d,e){var f=a.cc;for(R.state=a,R.stream=e,R.marked=null,R.cc=f,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);;){var g=f.length?f.pop():N?u:t;if(g(c,d)){for(;f.length&&f[f.length-1].lex;)f.pop()();return R.marked?R.marked:"variable"==c&&j(a,d)?"variable-2":b}}}function l(){for(var a=arguments.length-1;a>=0;a--)R.cc.push(arguments[a])}function m(){return l.apply(null,arguments),!0}function n(a){var b=R.state;if(b.context){R.marked="def";for(var c=b.localVars;c;c=c.next)if(c.name==a)return;b.localVars={name:a,next:b.localVars}}}function o(){R.state.context={prev:R.state.context,vars:R.state.localVars},R.state.localVars=S}function p(){R.state.localVars=R.state.context.vars,R.state.context=R.state.context.prev}function q(a,b){var c=function(){var c=R.state;c.lexical=new i(c.indented,R.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function r(){var a=R.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function s(a){return function(b){return b==a?m():";"==a?l():m(arguments.callee)}}function t(a){return"var"==a?m(q("vardef"),C,s(";"),r):"keyword a"==a?m(q("form"),u,t,r):"keyword b"==a?m(q("form"),t,r):"{"==a?m(q("}"),B,r):";"==a?m():"function"==a?m(I):"for"==a?m(q("form"),s("("),q(")"),E,s(")"),r,t,r):"variable"==a?m(q("stat"),x):"switch"==a?m(q("form"),u,q("}","switch"),s("{"),B,r,r):"case"==a?m(u,s(":")):"default"==a?m(s(":")):"catch"==a?m(q("form"),o,s("("),J,s(")"),t,r,p):l(q("stat"),u,s(";"),r)}function u(a){return Q.hasOwnProperty(a)?m(w):"function"==a?m(I):"keyword c"==a?m(v):"("==a?m(q(")"),v,s(")"),r,w):"operator"==a?m(u):"["==a?m(q("]"),A(u,"]"),r,w):"{"==a?m(q("}"),A(z,"}"),r,w):m()}function v(a){return a.match(/[;\}\)\],]/)?l():l(u)}function w(a,b){if("operator"==a&&/\+\+|--/.test(b))return m(w);if("operator"==a&&"?"==b)return m(u,s(":"),u);if(";"!=a)return"("==a?m(q(")"),A(u,")"),r,w):"."==a?m(y,w):"["==a?m(q("]"),u,s("]"),r,w):void 0}function x(a){return":"==a?m(r,t):l(w,s(";"),r)}function y(a){return"variable"==a?(R.marked="property",m()):void 0}function z(a){return"variable"==a&&(R.marked="property"),Q.hasOwnProperty(a)?m(s(":"),u):void 0}function A(a,b){function c(d){return","==d?m(a,c):d==b?m():m(s(b))}return function(d){return d==b?m():l(a,c)}}function B(a){return"}"==a?m():l(t,B)}function C(a,b){return"variable"==a?(n(b),m(D)):m()}function D(a,b){return"="==b?m(u,D):","==a?m(C):void 0}function E(a){return"var"==a?m(C,s(";"),G):";"==a?m(G):"variable"==a?m(F):m(G)}function F(a,b){return"in"==b?m(u):m(w,G)}function G(a,b){return";"==a?m(H):"in"==b?m(u):m(u,s(";"),H)}function H(a){")"!=a&&m(u)}function I(a,b){return"variable"==a?(n(b),m(I)):"("==a?m(q(")"),o,A(J,")"),r,t,p):void 0}function J(a,b){return"variable"==a?(n(b),m()):void 0}var K,L,M=a.indentUnit,N=b.json,O=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),f={type:"atom",style:"atom"};return{"if":b,"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":f,"false":f,"null":f,undefined:f,NaN:f,Infinity:f}}(),P=/[+\-*&%=<>!?|]/,Q={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},R={state:null,column:null,marked:null,cc:null},S={name:"this",next:{name:"arguments"}};return r.lex=!0,{startState:function(a){return{tokenize:f,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new i((a||0)-M,0,"block",!1),localVars:b.localVars,context:b.localVars&&{vars:b.localVars},indented:0}},token:function(a,b){if(a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation()),a.eatSpace())return null;var c=b.tokenize(a,b);return"comment"==K?c:(b.reAllowed=!("operator"!=K&&"keyword c"!=K&&!K.match(/^[\[{}\(,;:]$/)),b.kwAllowed="."!=K,k(b,c,K,L,a))},indent:function(a,b){if(a.tokenize==h)return CodeMirror.Pass;if(a.tokenize!=f)return 0;var c=b&&b.charAt(0),d=a.lexical;"stat"==d.type&&"}"==c&&(d=d.prev);var e=d.type,g=c==e;return"vardef"==e?d.indented+4:"form"==e&&"{"==c?d.indented:"stat"==e||"form"==e?d.indented+M:"switch"!=d.info||g?d.align?d.column+(g?0:1):d.indented+(g?0:M):d.indented+(/^(?:case|default)\b/.test(b)?M:2*M)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMode("htmlmixed",function(a){function b(a,b){var c=f.token(a,b.htmlState);return"tag"==c&&">"==a.current()&&b.htmlState.context&&(/^script$/i.test(b.htmlState.context.tagName)?(b.token=d,b.localState=g.startState(f.indent(b.htmlState,""))):/^style$/i.test(b.htmlState.context.tagName)&&(b.token=e,b.localState=h.startState(f.indent(b.htmlState,"")))),c}function c(a,b,c){var d,e=a.current(),f=e.search(b);return f>-1?a.backUp(e.length-f):(d=e.match(/<\/?$/))&&(a.backUp(e[0].length),a.match(b,!1)||a.match(e[0])),c}function d(a,d){return a.match(/^<\/\s*script\s*>/i,!1)?(d.token=b,d.localState=null,b(a,d)):c(a,/<\/\s*script\s*>/,g.token(a,d.localState))}function e(a,d){return a.match(/^<\/\s*style\s*>/i,!1)?(d.token=b,d.localState=null,b(a,d)):c(a,/<\/\s*style\s*>/,h.token(a,d.localState))}var f=CodeMirror.getMode(a,{name:"xml",htmlMode:!0}),g=CodeMirror.getMode(a,"javascript"),h=CodeMirror.getMode(a,"css");return{startState:function(){var a=f.startState();return{token:b,localState:null,mode:"html",htmlState:a}},copyState:function(a){if(a.localState)var b=CodeMirror.copyState(a.token==e?h:g,a.localState);return{token:a.token,localState:b,mode:a.mode,htmlState:CodeMirror.copyState(f,a.htmlState)}},token:function(a,b){return b.token(a,b)},indent:function(a,c){return a.token==b||/^\s*<\//.test(c)?f.indent(a.htmlState,c):a.token==d?g.indent(a.localState,c):h.indent(a.localState,c)},electricChars:"/{}:",innerMode:function(a){var c=a.token==b?f:a.token==d?g:h;return{state:a.localState||a.htmlState,mode:c}}}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed");var _=function(){function a(b,c,d){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;if(b._chain&&(b=b._wrapped),c._chain&&(c=c._wrapped),b.isEqual&&v.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&v.isFunction(c.isEqual))return c.isEqual(b);var e=i.call(b);if(e!=i.call(c))return!1;switch(e){case"[object String]":return b==String(c);case"[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case"[object Date]":case"[object Boolean]":return+b==+c;case"[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var f=d.length;f--;)if(d[f]==b)return!0;d.push(b);var f=0,g=!0;if("[object Array]"==e){if(f=b.length,g=f==c.length)for(;f--&&(g=f in b==f in c&&a(b[f],c[f],d)););}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var h in b)if(v.has(b,h)&&(f++,!(g=v.has(c,h)&&a(b[h],c[h],d))))break;if(g){for(h in c)if(v.has(c,h)&&!f--)break;g=!f}}return d.pop(),g}var b=this,c=b._,d={},e=Array.prototype,f=Object.prototype,g=e.slice,h=e.unshift,i=f.toString,j=f.hasOwnProperty,k=e.forEach,l=e.map,m=e.reduce,n=e.reduceRight,o=e.filter,p=e.every,q=e.some,r=e.indexOf,s=e.lastIndexOf,f=Array.isArray,t=Object.keys,u=Function.prototype.bind,v=function(a){return new G(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):b._=v,v.VERSION="1.3.3";var w=v.each=v.forEach=function(a,b,c){if(null!=a)if(k&&a.forEach===k)a.forEach(b,c);else if(a.length===+a.length)for(var e=0,f=a.length;f>e&&!(e in a&&b.call(c,a[e],e,a)===d);e++);else for(e in a)if(v.has(a,e)&&b.call(c,a[e],e,a)===d)break};v.map=v.collect=function(a,b,c){var d=[];return null==a?d:l&&a.map===l?a.map(b,c):(w(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},v.reduce=v.foldl=v.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),m&&a.reduce===m)return d&&(b=v.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(w(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},v.reduceRight=v.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduceRight===n)return d&&(b=v.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=v.toArray(a).reverse();return d&&!e&&(b=v.bind(b,d)),e?v.reduce(f,b,c,d):v.reduce(f,b)},v.find=v.detect=function(a,b,c){var d;return x(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},v.filter=v.select=function(a,b,c){var d=[];return null==a?d:o&&a.filter===o?a.filter(b,c):(w(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},v.reject=function(a,b,c){var d=[];return null==a?d:(w(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},v.every=v.all=function(a,b,c){var e=!0;return null==a?e:p&&a.every===p?a.every(b,c):(w(a,function(a,f,g){return(e=e&&b.call(c,a,f,g))?void 0:d}),!!e)};var x=v.some=v.any=function(a,b,c){b||(b=v.identity);var e=!1;return null==a?e:q&&a.some===q?a.some(b,c):(w(a,function(a,f,g){return e||(e=b.call(c,a,f,g))?d:void 0}),!!e)};v.include=v.contains=function(a,b){var c=!1;return null==a?c:r&&a.indexOf===r?-1!=a.indexOf(b):c=x(a,function(a){return a===b})},v.invoke=function(a,b){var c=g.call(arguments,2);return v.map(a,function(a){return(v.isFunction(b)?b||a:a[b]).apply(a,c)})},v.pluck=function(a,b){return v.map(a,function(a){return a[b]})},v.max=function(a,b,c){if(!b&&v.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!b&&v.isEmpty(a))return-1/0;var d={computed:-1/0};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e>=d.computed&&(d={value:a,computed:e})}),d.value},v.min=function(a,b,c){if(!b&&v.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!b&&v.isEmpty(a))return 1/0;var d={computed:1/0};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e<d.computed&&(d={value:a,computed:e})}),d.value},v.shuffle=function(a){var b,c=[];return w(a,function(a,d){b=Math.floor(Math.random()*(d+1)),c[d]=c[b],c[b]=a}),c},v.sortBy=function(a,b,c){var d=v.isFunction(b)?b:function(a){return a[b]};return v.pluck(v.map(a,function(a,b,e){return{value:a,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return void 0===c?1:void 0===d?-1:d>c?-1:c>d?1:0}),"value")},v.groupBy=function(a,b){var c={},d=v.isFunction(b)?b:function(a){return a[b]};return w(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},v.sortedIndex=function(a,b,c){c||(c=v.identity);for(var d=0,e=a.length;e>d;){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},v.toArray=function(a){return a?v.isArray(a)?g.call(a):v.isArguments(a)?g.call(a):a.toArray&&v.isFunction(a.toArray)?a.toArray():v.values(a):[]},v.size=function(a){return v.isArray(a)?a.length:v.keys(a).length},v.first=v.head=v.take=function(a,b,c){return null==b||c?a[0]:g.call(a,0,b)},v.initial=function(a,b,c){return g.call(a,0,a.length-(null==b||c?1:b))},v.last=function(a,b,c){return null==b||c?a[a.length-1]:g.call(a,Math.max(a.length-b,0))},v.rest=v.tail=function(a,b,c){return g.call(a,null==b||c?1:b)},v.compact=function(a){return v.filter(a,function(a){return!!a})},v.flatten=function(a,b){return v.reduce(a,function(a,c){return v.isArray(c)?a.concat(b?c:v.flatten(c)):(a[a.length]=c,a)},[])},v.without=function(a){return v.difference(a,g.call(arguments,1))},v.uniq=v.unique=function(a,b,c){var c=c?v.map(a,c):a,d=[];return a.length<3&&(b=!0),v.reduce(c,function(c,e,f){return(b?v.last(c)===e&&c.length:v.include(c,e))||(c.push(e),d.push(a[f])),c},[]),d},v.union=function(){return v.uniq(v.flatten(arguments,!0))},v.intersection=v.intersect=function(a){var b=g.call(arguments,1);return v.filter(v.uniq(a),function(a){return v.every(b,function(b){return v.indexOf(b,a)>=0})})},v.difference=function(a){var b=v.flatten(g.call(arguments,1),!0);return v.filter(a,function(a){return!v.include(b,a)})},v.zip=function(){for(var a=g.call(arguments),b=v.max(v.pluck(a,"length")),c=Array(b),d=0;b>d;d++)c[d]=v.pluck(a,""+d);return c},v.indexOf=function(a,b,c){if(null==a)return-1;var d;if(c)return c=v.sortedIndex(a,b),a[c]===b?c:-1;if(r&&a.indexOf===r)return a.indexOf(b);for(c=0,d=a.length;d>c;c++)if(c in a&&a[c]===b)return c;return-1},v.lastIndexOf=function(a,b){if(null==a)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1},v.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0);for(var c=arguments[2]||1,d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);d>e;)f[e++]=a,a+=c;return f};var y=function(){};v.bind=function(a,b){var c,d;if(a.bind===u&&u)return u.apply(a,g.call(arguments,1));if(!v.isFunction(a))throw new TypeError;return d=g.call(arguments,2),c=function(){if(!(this instanceof c))return a.apply(b,d.concat(g.call(arguments)));y.prototype=a.prototype;var e=new y,f=a.apply(e,d.concat(g.call(arguments)));return Object(f)===f?f:e}},v.bindAll=function(a){var b=g.call(arguments,1);return 0==b.length&&(b=v.functions(a)),w(b,function(b){a[b]=v.bind(a[b],a)}),a},v.memoize=function(a,b){var c={};return b||(b=v.identity),function(){var d=b.apply(this,arguments);return v.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},v.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},v.defer=function(a){return v.delay.apply(v,[a,1].concat(g.call(arguments,1)))},v.throttle=function(a,b){var c,d,e,f,g,h,i=v.debounce(function(){g=f=!1},b);return function(){return c=this,d=arguments,e||(e=setTimeout(function(){e=null,g&&a.apply(c,d),i()},b)),f?g=!0:h=a.apply(c,d),i(),f=!0,h}},v.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments;c&&!d&&a.apply(e,f),clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b)}},v.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments))}},v.wrap=function(a,b){return function(){var c=[a].concat(g.call(arguments,0));return b.apply(this,c)}},v.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},v.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},v.keys=t||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b,c=[];for(b in a)v.has(a,b)&&(c[c.length]=b);return c},v.values=function(a){return v.map(a,v.identity)},v.functions=v.methods=function(a){var b,c=[];for(b in a)v.isFunction(a[b])&&c.push(b);return c.sort()},v.extend=function(a){return w(g.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},v.pick=function(a){var b={};return w(v.flatten(g.call(arguments,1)),function(c){c in a&&(b[c]=a[c])}),b},v.defaults=function(a){return w(g.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},v.clone=function(a){return v.isObject(a)?v.isArray(a)?a.slice():v.extend({},a):a},v.tap=function(a,b){return b(a),a},v.isEqual=function(b,c){return a(b,c,[])},v.isEmpty=function(a){if(null==a)return!0;if(v.isArray(a)||v.isString(a))return 0===a.length;for(var b in a)if(v.has(a,b))return!1;return!0},v.isElement=function(a){return!(!a||1!=a.nodeType)},v.isArray=f||function(a){return"[object Array]"==i.call(a)},v.isObject=function(a){return a===Object(a)},v.isArguments=function(a){return"[object Arguments]"==i.call(a)},v.isArguments(arguments)||(v.isArguments=function(a){return!(!a||!v.has(a,"callee"))}),v.isFunction=function(a){return"[object Function]"==i.call(a)},v.isString=function(a){return"[object String]"==i.call(a)},v.isNumber=function(a){return"[object Number]"==i.call(a)},v.isFinite=function(a){return v.isNumber(a)&&isFinite(a)},v.isNaN=function(a){return a!==a},v.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==i.call(a)},v.isDate=function(a){return"[object Date]"==i.call(a)},v.isRegExp=function(a){return"[object RegExp]"==i.call(a)},v.isNull=function(a){return null===a},v.isUndefined=function(a){return void 0===a},v.has=function(a,b){return j.call(a,b)},v.noConflict=function(){return b._=c,this},v.identity=function(a){return a},v.times=function(a,b,c){for(var d=0;a>d;d++)b.call(c,d)},v.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},v.result=function(a,b){if(null==a)return null;var c=a[b];return v.isFunction(c)?c.call(a):c},v.mixin=function(a){w(v.functions(a),function(b){I(b,v[b]=a[b])})};var z=0;v.uniqueId=function(a){var b=z++;return a?a+b:b},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A,B=/.^/,C={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(A in C)C[C[A]]=A;var D=/\\|'|\r|\n|\t|\u2028|\u2029/g,E=/\\(\\|'|r|n|t|u2028|u2029)/g,F=function(a){return a.replace(E,function(a,b){return C[b]})};v.template=function(a,b,c){c=v.defaults(c||{},v.templateSettings),a="__p+='"+a.replace(D,function(a){return"\\"+C[a]}).replace(c.escape||B,function(a,b){return"'+\n_.escape("+F(b)+")+\n'"}).replace(c.interpolate||B,function(a,b){return"'+\n("+F(b)+")+\n'"}).replace(c.evaluate||B,function(a,b){return"';\n"+F(b)+"\n;__p+='"})+"';\n",c.variable||(a="with(obj||{}){\n"+a+"}\n");var a="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+a+"return __p;\n",d=new Function(c.variable||"obj","_",a);return b?d(b,v):(b=function(a){return d.call(this,a,v)},b.source="function("+(c.variable||"obj")+"){\n"+a+"}",b)},v.chain=function(a){return v(a).chain()};var G=function(a){this._wrapped=a};v.prototype=G.prototype;var H=function(a,b){return b?v(a).chain():a},I=function(a,b){G.prototype[a]=function(){var a=g.call(arguments);return h.call(a,this._wrapped),H(b.apply(v,a),this._chain)}};return v.mixin(v),w(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=e[a];G.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return("shift"==a||"splice"==a)&&0===d&&delete c[0],H(c,this._chain)}}),w(["concat","join","slice"],function(a){var b=e[a];G.prototype[a]=function(){return H(b.apply(this._wrapped,arguments),this._chain)}}),G.prototype.chain=function(){return this._chain=!0,this},G.prototype.value=function(){return this._wrapped},v}.call({}),emmet=function(a){function b(a,b,c){var d;return d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){a.apply(this,arguments)},_.extend(d,a),f.prototype=a.prototype,d.prototype=new f,b&&_.extend(d.prototype,b),c&&_.extend(d,c),d.prototype.constructor=d,d.__super__=a.prototype,d}function c(a){return!(a in e)&&g&&g(a),e[a]}if("undefined"==typeof _)try{_=a.require("underscore")}catch(d){}if("undefined"==typeof _)throw"Cannot access to Underscore.js lib";var e={_:_},f=function(){},g=null;return{define:function(a,b){a in e||(e[a]=_.isFunction(b)?this.exec(b):b)},require:c,exec:function(b,d){return b.call(d||a,_.bind(c,this),_,this)},extend:function(a,c){var d=b(this,a,c);return d.extend=this.extend,a.hasOwnProperty("toString")&&(d.prototype.toString=a.toString),d},expandAbbreviation:function(a,b,d,e){if(!a)return"";var b=b||"html",f=c("filters"),g=c("abbreviationParser"),d=c("profile").get(d,b);return c("tabStops").resetTabstopIndex(),a=f.extractFromAbbreviation(a),e=g.parse(a[0],{syntax:b,contextNode:e}),b=f.composeList(b,d,a[1]),f.apply(e,b,d),e.valueOf()},defaultSyntax:function(){return"html"},defaultProfile:function(){return"plain"},log:function(){a.console&&a.console.log&&a.console.log.apply(a.console,arguments)},setModuleLoader:function(a){g=a}}}(this);"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=emmet),exports.emmet=emmet),"undefined"!=typeof define&&define(emmet),emmet.define("abbreviationParser",function(a,b){function c(){this.parent=null,this.children=[],this._attributes=[],this.abbreviation="",this.counter=1,this._name=null,this._text="",this.repeatCount=1,this.hasImplicitRepeat=!1,this._data={},this.padding=this.content=this.end=this.start=""}function d(a){return a.substring(1,a.length-1)}function e(f){for(var g,h,f=a("utils").trim(f),i=new c,j=i.addChild(),k=a("stringStream").create(f),f=1e3,m=function(a){j.addChild(a)},n=function(){k.start=k.pos,k.eatWhile(function(a){if("["==a||"{"==a){if(k.skipToPair(a,o[a]))return k.backUp(1),!0;throw'Invalid abbreviation: mo matching "'+o[a]+'" found for character at '+k.pos}return"+"==a?(k.next(),a=k.eol()||~"+>^*".indexOf(k.peek()),k.backUp(1),a):"("!=a&&l(a)})};!k.eol()&&--f>0;)switch(g=k.peek()){case"(":if(k.start=k.pos,!k.skipToPair("(",")"))throw'Invalid abbreviation: mo matching ")" found for character at '+k.pos;g=e(d(k.current())),(h=k.match(/^\*(\d+)?/,!0))&&j._setRepeat(h[1]),b.each(g.children,m);break;case">":j=j.addChild(),k.next();break;case"+":j=j.parent.addChild(),k.next();break;case"^":g=j.parent||j,j=(g.parent||g).addChild(),k.next();break;default:n(),j.setAbbreviation(k.current()),k.start=k.pos}if(1>f)throw"Endless loop detected";return i}function f(b){var b=a("utils").trim(b),c=[],b=a("stringStream").create(b);for(b.eatSpace();!b.eol()&&(b.start=b.pos,b.eatWhile(n));){var d=b.current(),e="";if("="==b.peek()){b.next(),b.start=b.pos;var f=b.peek();if('"'==f||"'"==f){b.next();a:{for(var e=b,g=void 0;g=e.next();)if(g===f){e=!0;break a}e=!1}if(!e)throw"Invalid attribute value";e=b.current(),e=e.substring(1,e.length-1)}else{if(!b.eatWhile(/[^\s\]]/))throw"Invalid attribute value";e=b.current()}}c.push({name:d,value:e}),b.eatSpace()}return c}function g(b){for(var c=[],e={"#":"id",".":"class"},g=null,i=a("stringStream").create(b);!i.eol();)switch(i.peek()){case"#":case".":null===g&&(g=i.pos);var j=e[i.peek()];i.next(),i.start=i.pos,i.eatWhile(n),c.push({name:j,value:i.current()});break;case"[":if(null===g&&(g=i.pos),i.start=i.pos,!i.skipToPair("[","]"))throw"Invalid attribute set definition";c=c.concat(f(d(i.current())));break;default:i.next()}return c.length?{element:b.substring(0,g),attributes:h(c)}:null}function h(a){var a=b.map(a,function(a){return b.clone(a)}),c={};return b.filter(a,function(a){if(!(a.name in c))return c[a.name]=a;var b=c[a.name];return"class"==a.name.toLowerCase()?b.value+=(b.value.length?" ":"")+a.value:b.value=a.value,!1})}function i(b){if(!~b.indexOf("{"))return null;for(var c=a("stringStream").create(b);!c.eol();)switch(c.peek()){case"[":case"(":c.skipToPair(c.peek(),o[c.peek()]);break;case"{":return c.start=c.pos,c.skipToPair("{","}"),{element:b.substring(0,c.start),text:d(c.current())};default:c.next()}}function j(a){for(var c,d,e,f=a.children.length-1;f>=0;f--)if(d=a.children[f],d.isRepeating())for(e=c=d.repeatCount,d.repeatCount=1,d.updateProperty("counter",1),d.updateProperty("maxCount",e);--c>0;)d.parent.addChild(d.clone(),f+1).updateProperty("counter",c+1).updateProperty("maxCount",e);return b.each(a.children,j),a}function k(a){for(var c=a.children.length-1;c>=0;c--){var d=a.children[c];d.isGroup()?d.replace(k(d).children):d.isEmpty()&&d.remove()}return b.each(a.children,k),a}function l(a){var b=a.charCodeAt(0);return b>64&&91>b||b>96&&123>b||b>47&&58>b||-1!="#.*:$-_!@|%".indexOf(a)}var m=/^[\w\-\$\:@\!%]+\+?$/i,n=/[\w\-:\$@]/,o={"[":"]","(":")","{":"}"},p=Array.prototype.splice,q=[],r=[],s=[];return c.prototype={addChild:function(a,d){return a=a||new c,a.parent=this,b.isUndefined(d)?this.children.push(a):this.children.splice(d,0,a),a},clone:function(){var a=new c;return b.each(["abbreviation","counter","_name","_text","repeatCount","hasImplicitRepeat","start","end","content","padding"],function(b){a[b]=this[b]},this),a._attributes=b.map(this._attributes,function(a){return b.clone(a)}),a._data=b.clone(this._data),a.children=b.map(this.children,function(b){return b=b.clone(),b.parent=a,b}),a},remove:function(){return this.parent&&(this.parent.children=b.without(this.parent.children,this)),this},replace:function(){var a=this.parent,c=b.indexOf(a.children,this),d=b.flatten(arguments);p.apply(a.children,[c,1].concat(d)),b.each(d,function(b){b.parent=a})},updateProperty:function(a,c){return this[a]=c,b.each(this.children,function(b){b.updateProperty(a,c)}),this},find:function(a){return this.findAll(a)[0]},findAll:function(a){if(!b.isFunction(a))var c=a.toLowerCase(),a=function(a){return a.name().toLowerCase()==c};var d=[];return b.each(this.children,function(b){a(b)&&d.push(b),d=d.concat(b.findAll(a))}),b.compact(d)},data:function(b,c){return 2==arguments.length&&(this._data[b]=c,"resource"==b&&a("elements").is(c,"snippet")&&(this.content=c.data,this._text))&&(this.content=a("abbreviationUtils").insertChildContent(c.data,this._text)),this._data[b]},name:function(){var b=this.matchedResource();return a("elements").is(b,"element")?b.name:this._name},attributeList:function(){var c=[],d=this.matchedResource();return a("elements").is(d,"element")&&b.isArray(d.attributes)&&(c=c.concat(d.attributes)),h(c.concat(this._attributes))},attribute:function(a,c){if(2==arguments.length){var d=b.indexOf(b.pluck(this._attributes,"name"),a.toLowerCase());~d?this._attributes[d].value=c:this._attributes.push({name:a,value:c})}return(b.find(this.attributeList(),function(b){return b.name==a})||{}).value},matchedResource:function(){return this.data("resource")},index:function(){return this.parent?b.indexOf(this.parent.children,this):-1},_setRepeat:function(a){a?this.repeatCount=parseInt(a,10)||1:this.hasImplicitRepeat=!0},setAbbreviation:function(a){var b=this;this.abbreviation=a=(a||"").replace(/\*(\d+)?$/,function(a,c){return b._setRepeat(c),""});var c=i(a);if(c&&(a=c.element,this.content=this._text=c.text),(c=g(a))&&(a=c.element,this._attributes=c.attributes),(this._name=a)&&!m.test(this._name))throw"Invalid abbreviation"},valueOf:function(){var c=a("utils"),d=this.start,e=this.end,f=this.content,g=this;b.each(s,function(a){d=a(d,g,"start"),f=a(f,g,"content"),e=a(e,g,"end")});var h=b.map(this.children,function(a){return a.valueOf()}).join(""),f=a("abbreviationUtils").insertChildContent(f,h,{keepVariable:!1});return d+c.padString(f,this.padding)+e},toString:function(){return this.valueOf()},hasEmptyChildren:function(){return!!b.find(this.children,function(a){return a.isEmpty()})},hasImplicitName:function(){return!this._name&&!this.isTextNode()},isGroup:function(){return!this.abbreviation},isEmpty:function(){return!this.abbreviation&&!this.children.length},isRepeating:function(){return this.repeatCount>1||this.hasImplicitRepeat},isTextNode:function(){return!this.name()&&!this.attributeList().length},isElement:function(){return!this.isEmpty()&&!this.isTextNode()},deepestChild:function(){if(!this.children.length)return null;for(var a=this;a.children.length;)a=b.last(a.children);return a}},s.push(function(b,c){return a("utils").replaceCounter(b,c.counter,c.maxCount)}),{parse:function(a,c){var c=c||{},d=e(a);if(c.contextNode){d._name=c.contextNode.name;var f={};b.each(d._attributes,function(a){f[a.name]=a}),b.each(c.contextNode.attributes,function(a){a.name in f?f[a.name].value=a.value:(a=b.clone(a),d._attributes.push(a),f[a.name]=a)})}return b.each(q,function(a){a(d,c)}),d=k(j(d)),b.each(r,function(a){a(d,c)}),d},AbbreviationNode:c,addPreprocessor:function(a){b.include(q,a)||q.push(a)},removeFilter:function(a){b.without(q,a)},addPostprocessor:function(a){b.include(r,a)||r.push(a)},removePostprocessor:function(a){r=b.without(r,a)},addOutputProcessor:function(a){b.include(s,a)||s.push(a)},removeOutputProcessor:function(a){s=b.without(s,a)},isAllowedChar:function(a){return a=String(a),l(a)||~">+^[](){}".indexOf(a)}}}),emmet.exec(function(a,b){function c(d,e){var f=a("resources"),g=a("elements"),h=a("abbreviationParser");b.each(b.clone(d.children),function(a){var d=f.getMatchedResource(a,e);if(b.isString(d))a.data("resource",g.create("snippet",d));else if(g.is(d,"reference")){if(d=h.parse(d.data,{syntax:e}),a.repeatCount>1){var i=d.findAll(function(a){return a.hasImplicitRepeat});b.each(i,function(b){b.repeatCount=a.repeatCount,b.hasImplicitRepeat=!1})}var j=d.deepestChild();j&&b.each(a.children,function(a){j.addChild(a)}),b.each(d.children,function(c){b.each(a.attributeList(),function(a){c.attribute(a.name,a.value)})}),a.replace(d.children)}else a.data("resource",d);c(a,e)})}a("abbreviationParser").addPreprocessor(function(a,b){var d=b.syntax||emmet.defaultSyntax();c(a,d)})}),emmet.exec(function(a,b){function c(b){for(var c=a("range"),d=[],b=a("stringStream").create(b);!b.eol();){if("\\"==b.peek())b.next();else if(b.start=b.pos,b.match(h,!0)){d.push(c.create(b.start,h));continue}b.next()}return d}function d(d,e){var f=a("utils"),g=c(d);return g.reverse(),b.each(g,function(a){d=f.replaceSubstring(d,e,a)}),d}function e(a){return c(a.content).length?!0:!!b.find(a.attributeList(),function(a){return!!c(a.value).length})}function f(c,f,g){var h=c.findAll(function(a){return e(a)});e(c)&&h.unshift(c),h.length?b.each(h,function(a){a.content=d(a.content,f),b.each(a._attributes,function(a){a.value=d(a.value,f)})}):(c=c.deepestChild()||c,c.content=g?f:a("abbreviationUtils").insertChildContent(c.content,f))}var g=a("abbreviationParser"),h="$#";g.addPreprocessor(function(c,d){if(d.pastedContent){var e=a("utils"),f=b.map(e.splitByLines(d.pastedContent,!0),e.trim);c.findAll(function(a){return a.hasImplicitRepeat?(a.data("paste",f),a.repeatCount=f.length):void 0})}}),g.addPostprocessor(function(a,c){!a.findAll(function(a){var c=a.data("paste"),d="";return b.isArray(c)?d=c[a.counter-1]:b.isFunction(c)?d=c(a.counter-1,a.content):c&&(d=c),d&&f(a,d,!!a.data("pasteOverwrites")),a.data("paste",null),!!c}).length&&c.pastedContent&&f(a,c.pastedContent)})}),emmet.exec(function(a,b){function c(d){var e=a("tagName");return b.each(d.children,function(a){(a.hasImplicitName()||a.data("forceNameResolving"))&&(a._name=e.resolve(a.parent.name())),c(a)}),d}a("abbreviationParser").addPostprocessor(c)
}),emmet.define("cssParser",function(a,b){function c(a){return"undefined"!=typeof a}function d(){return{"char":i.chnum,line:i.linenum}}function e(a,b,d){var e=i,d=d||{};m.push({charstart:c(d["char"])?d["char"]:e.chnum,charend:c(d.charend)?d.charend:e.chnum,linestart:c(d.line)?d.line:e.linenum,lineend:c(d.lineend)?d.lineend:e.linenum,value:a,type:b||a})}function f(a,b){var d=i,e=b||{},f=c(e["char"])?e["char"]:d.chnum,e=c(e.line)?e.line:d.linenum;return{name:"ParseError",message:a+" at line "+(e+1)+" char "+(f+1),walker:d,tokens:m}}function g(a){var b=i,c=b.ch,f=d(),g=a?a+c:c,c=b.nextChar();for(a&&(f["char"]-=a.length);k(c)||l(c);)g+=c,c=b.nextChar();e(g,"identifier",f)}function h(){var a=i.ch;if(" "===a||"	"===a){for(var b=i.ch,c="",h=d();" "===b||"	"===b;)c+=b,b=i.nextChar();e(c,"white",h)}else{if("/"===a){a:{var c=i,m=c.ch,h=m,n=d(),a=c.nextChar();if("/"===a)for(h+=a,m=c.peek();m&&"\n"!==m;)h+=a,a=c.nextChar(),m=c.peek();else{if("*"!==a){n.charend=n["char"],n.lineend=n.line,b=e(h,h,n);break a}for(;"*"!==m||"/"!==a;)h+=a,m=a,a=c.nextChar()}h+=a,c.nextChar(),e(h,"comment",n)}return b}if('"'===a||"'"===a){for(b=i,a=h=c=b.ch,m=d(),c=b.nextChar();c!==h;){if("\n"===c){if(n=b.nextChar(),"\\"!==n)throw f("Unterminated string",m);a+=c+n}else a+="\\"===c?c+b.nextChar():c;c=b.nextChar()}a+=c,b.nextChar(),e(a,"string",m)}else if("("===a){for(b=i,c=b.ch,h=0,a=c,n=d(),c=b.nextChar();")"!==c&&!h;){if("("===c)h++;else if(")"===c)h--;else if(c===!1)throw f("Unterminated brace",n);a+=c,c=b.nextChar()}a+=c,b.nextChar(),e(a,"brace",n)}else{if("-"===a||"."===a||l(a)){var o,b=i,h=b.ch,a=d(),n=h,m="."===n,h=b.nextChar();if(o=!l(h),m&&o)a.charend=a["char"],a.lineend=a.line,c=e(n,".",a);else if("-"===n&&o)c=g("-");else{for(;h!==!1&&(l(h)||!m&&"."===h);)"."===h&&(m=!0),n+=h,h=b.nextChar();e(n,"number",a)}return c}if(k(a))return g();if(j(a))return b=i,a=b.ch,c=d(),n=b.nextChar(),"="===n&&j(a,!0)?(a+=n,e(a,"match",c),b.nextChar(),h=void 0):(c.charend=c["char"]+1,c.lineend=c.line,e(a,a,c)),h;if("\n"!==a)throw f("Unrecognized character");e("line"),i.nextChar()}}}var i,j,k,l,m=[];return i={lines:null,total_lines:0,linenum:-1,line:"",ch:"",chnum:-1,init:function(a){var b=i;b.lines=a.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"),b.total_lines=b.lines.length,b.chnum=-1,b.linenum=-1,b.ch="",b.line="",b.nextLine(),b.nextChar()},nextLine:function(){return this.linenum+=1,this.line=this.total_lines<=this.linenum?!1:this.lines[this.linenum],-1!==this.chnum&&(this.chnum=0),this.line},nextChar:function(){for(this.chnum+=1;""===this.line.charAt(this.chnum);)return this.nextLine()===!1?this.ch=!1:(this.chnum=-1,this.ch="\n");return this.ch=this.line.charAt(this.chnum)},peek:function(){return this.line.charAt(this.chnum+1)}},k=function(a){return"&"==a||"_"===a||"-"===a||a>="a"&&"z">=a||a>="A"&&"Z">=a},l=function(a){return a!==!1&&a>="0"&&"9">=a},j=function(){for(var a="{}[]()+*=.,;:>~|\\%$#@^!".split(""),b="*^|$~".split(""),c={},d={},e=0;e<a.length;e+=1)c[a[e]]=!0;for(e=0;e<b.length;e+=1)d[b[e]]=!0;return function(a,b){return b?!!d[a]:!!c[a]}}(),{lex:function(a){for(i.init(a),m=[];i.ch!==!1;)h();return m},parse:function(a){var c=0;return b.map(this.lex(a),function(b){return"line"==b.type&&(b.value="\r"==a.charAt(c)&&"\n"==a.charAt(c+1)?"\r\n":a.charAt(c)),{type:b.type,start:c,end:c+=b.value.length}})},toSource:function(a){for(var b,c=0,d=a.length,e="";d>c;c+=1)b=a[c],e+="line"===b.type?"\n":b.value;return e}}}),emmet.define("xmlParser",function(a){function b(a,b){function d(c){return b.tokenize=c,c(a,b)}var g=a.next();if("<"==g){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?d(e("atom","]]>")):null:a.match("--")?d(e("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),d(f(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=e("meta","?>"),"meta";for(v=a.eat("/")?"closeTag":"openTag",a.eatSpace(),u="";g=a.eat(/[^\s\u00a0=<>\"\'\/?]/);)u+=g;return b.tokenize=c,"tag"}return"&"==g?(a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"))?"atom":"error":(a.eatWhile(/[^&<]/),"text")}function c(a,c){var e=a.next();return">"==e||"/"==e&&a.eat(">")?(c.tokenize=b,v=">"==e?"endTag":"selfcloseTag","tag"):"="==e?(v="equals",null):/[\'\"]/.test(e)?(c.tokenize=d(e),c.tokenize(a,c)):(a.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function d(a){return function(b,d){for(;!b.eol();)if(b.next()==a){d.tokenize=c;break}return"string"}}function e(a,c){return function(d,e){for(;!d.eol();){if(d.match(c)){e.tokenize=b;break}d.next()}return a}}function f(a){return function(c,d){for(var e;null!==(e=c.next());){if("<"==e)return d.tokenize=f(a+1),d.tokenize(c,d);if(">"==e){if(1==a){d.tokenize=b;break}return d.tokenize=f(a-1),d.tokenize(c,d)}}return"meta"}}function g(){for(var a=arguments.length-1;a>=0;a--)w.cc.push(arguments[a])}function h(){return g.apply(null,arguments),!0}function i(){w.context&&(w.context=w.context.prev)}function j(a){return"openTag"==a?(w.tagName=u,h(n,k(w.startOfLine))):"closeTag"==a?(a=!1,w.context?w.context.tagName!=u&&(t.implicitlyClosed.hasOwnProperty(w.context.tagName.toLowerCase())&&i(),a=!w.context||w.context.tagName!=u):a=!0,a&&(s="error"),h(l(a))):h()}function k(a){return function(b){if("selfcloseTag"==b||"endTag"==b&&t.autoSelfClosers.hasOwnProperty(w.tagName.toLowerCase()))return m(w.tagName.toLowerCase()),h();if("endTag"==b){m(w.tagName.toLowerCase());var b=w.tagName,c=t.doNotIndent.hasOwnProperty(b)||w.context&&w.context.noIndent;w.context={prev:w.context,tagName:b,indent:w.indented,startOfLine:a,noIndent:c}}return h()}}function l(a){return function(b){return a&&(s="error"),"endTag"==b?(i(),h()):(s="error",h(arguments.callee))}}function m(a){for(var b;w.context&&(b=w.context.tagName.toLowerCase(),t.contextGrabbers.hasOwnProperty(b)&&t.contextGrabbers[b].hasOwnProperty(a));)i()}function n(a){return"word"==a?(s="attribute",h(o,n)):"endTag"==a||"selfcloseTag"==a?g():(s="error",h(n))}function o(a){return"equals"==a?h(p,n):(t.allowMissing||(s="error"),"endTag"==a||"selfcloseTag"==a?g():h())}function p(a){return"string"==a?h(q):"word"==a&&t.allowUnquoted?(s="string",h()):(s="error","endTag"==a||"selfCloseTag"==a?g():h())}function q(a){return"string"==a?h(q):g()}function r(a,b){if(a.sol()&&(b.startOfLine=!0,b.indented=0),a.eatSpace())return null;s=v=u=null;var c=b.tokenize(a,b);if(b.type=v,(c||v)&&"comment"!=c)for(w=b;!(b.cc.pop()||j)(v||c););return b.startOfLine=!1,s||c}var s,t={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!0,allowMissing:!0},u=null,v=null,w=null;return{parse:function(c,d){for(var d=d||0,e={tokenize:b,cc:[],indented:0,startOfLine:!0,tagName:null,context:null},f=a("stringStream").create(c),g=[];!f.eol();)g.push({type:r(f,e),start:f.start+d,end:f.pos+d}),f.start=f.pos;return g}}}),emmet.define("string-score",function(){return{score:function(a,b,c){if(a==b)return 1;if(""==b)return 0;for(var d,e,f,g,h,i=0,j=b.length,k=a.length,l=1,m=0;j>m;++m){if(g=b.charAt(m),e=a.indexOf(g.toLowerCase()),f=a.indexOf(g.toUpperCase()),h=Math.min(e,f),f=h>-1?h:Math.max(e,f),-1===f){if(c){l+=1-c;continue}return 0}e=.1,a[f]===g&&(e+=.1),0===f?(e+=.6,0===m&&(d=1)):" "===a.charAt(f-1)&&(e+=.8),a=a.substring(f+1,k),i+=e}return a=i/j,j=(a*(j/k)+a)/2,j/=l,d&&1>j+.15&&(j+=.15),j}}}),emmet.define("utils",function(a,b){var c="${0}";return{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,endsWithTag:function(a){return this.reTag.test(a)},isNumeric:function(a){return"string"==typeof a&&(a=a.charCodeAt(0)),a&&a>47&&58>a},trim:function(a){return(a||"").replace(/^\s+|\s+$/g,"")},getNewline:function(){var c=a("resources");return c?(c=c.getVariable("newline"),b.isString(c)?c:"\n"):"\n"},setNewline:function(b){var c=a("resources");c.setVariable("newline",b),c.setVariable("nl",b)},splitByLines:function(a,c){var d=this.getNewline(),d=(a||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,d).split(d);return c&&(d=b.filter(d,function(a){return a.length&&!!this.trim(a)},this)),d},normalizeNewline:function(a){return this.splitByLines(a).join(this.getNewline())},repeatString:function(a,b){for(var c=[],d=0;b>d;d++)c.push(a);return c.join("")},getStringsPads:function(a){var a=b.map(a,function(a){return b.isString(a)?a.length:+a}),c=b.max(a);return b.map(a,function(a){return(a=c-a)?this.repeatString(" ",a):""},this)},padString:function(c,d){var e=b.isNumber(d)?this.repeatString(a("resources").getVariable("indentation")||"	",d):d,f=[],g=this.splitByLines(c),h=this.getNewline();f.push(g[0]);for(var i=1;i<g.length;i++)f.push(h+e+g[i]);return f.join("")},zeroPadString:function(a,b){for(var c="",d=a.length;b>d++;)c+="0";return c+a},unindentString:function(a,b){for(var c=this.splitByLines(a),d=0;d<c.length;d++)0===c[d].search(b)&&(c[d]=c[d].substr(b.length));return c.join(this.getNewline())},replaceUnescapedSymbol:function(a,c,d){for(var e=0,f=a.length,g=c.length,h=0;f>e;)if("\\"==a.charAt(e))e+=g+1;else if(a.substr(e,g)==c){var i=g;h++;var j=d;b.isFunction(d)&&((j=d(a,c,e,h))?(i=j[0].length,j=j[1]):j=!1),j===!1?e++:(a=a.substring(0,e)+j+a.substring(e+i),f=a.length,e+=j.length)}else e++;return a},replaceVariables:function(c,d){var d=d||{},e=b.isFunction(d)?d:function(a,b){return b in d?d[b]:null},f=a("resources");return a("tabStops").processText(c,{variable:function(a){var c=e(a.token,a.name,a);return null===c&&(c=f.getVariable(a.name)),(null===c||b.isUndefined(c))&&(c=a.token),c}})},replaceCounter:function(a,c,d){a=String(a),c=String(c),/^\-?\d+$/.test(c)&&(c=+c);var e=this;return this.replaceUnescapedSymbol(a,"$",function(a,f,g){if("{"==a.charAt(g+1)||e.isNumeric(a.charAt(g+1)))return!1;for(f=g+1;"$"==a.charAt(f)&&"{"!=a.charAt(f+1);)f++;var h,i=f-g,j=0,k=!1;return(h=a.substr(f).match(/^@(\-?)(\d*)/))&&(f+=h[0].length,h[1]&&(k=!0),j=parseInt(h[2]||1,10)-1),k&&d&&b.isNumber(c)&&(c=d-c+1),c+=j,[a.substring(g,f),e.zeroPadString(c+"",i)]})},matchesTag:function(a){return this.reTag.test(a||"")},escapeText:function(a){return a.replace(/([\$\\])/g,"\\$1")},unescapeText:function(a){return a.replace(/\\(.)/g,"$1")},getCaretPlaceholder:function(){return b.isFunction(c)?c.apply(this,arguments):c},setCaretPlaceholder:function(a){c=a},getLinePadding:function(a){return(a.match(/^(\s+)/)||[""])[0]},getLinePaddingFromPosition:function(a,b){return this.getLinePadding(this.findNewlineBounds(a,b).substring(a))},escapeForRegexp:function(a){return a.replace(RegExp("[.*+?|()\\[\\]{}\\\\]","g"),"\\$&")},prettifyNumber:function(a,b){return a.toFixed("undefined"==typeof b?2:b).replace(/\.?0+$/,"")},replaceSubstring:function(a,c,d,e){return b.isObject(d)&&"end"in d&&(e=d.end,d=d.start),b.isString(e)&&(e=d+e.length),b.isUndefined(e)&&(e=d),0>d||d>a.length?a:a.substring(0,d)+c+a.substring(e)},narrowToNonSpace:function(b,c,d){for(c=a("range").create(c,d),d=/[\s\n\r\u00a0]/;c.start<c.end&&d.test(b.charAt(c.start));)c.start++;for(;c.end>c.start;)if(c.end--,!d.test(b.charAt(c.end))){c.end++;break}return c},findNewlineBounds:function(b,c){for(var d,e=b.length,f=0,g=e-1,h=c-1;h>0;h--)if(d=b.charAt(h),"\n"==d||"\r"==d){f=h+1;break}for(h=c;e>h;h++)if(d=b.charAt(h),"\n"==d||"\r"==d){g=h;break}return a("range").create(f,g-f)},deepMerge:function(){var a,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length;for(!b.isObject(g)&&!b.isFunction(g)&&(g={});i>h;h++)if(null!==(a=arguments[h]))for(c in a)d=g[c],e=a[c],g!==e&&(e&&(b.isObject(e)||(f=b.isArray(e)))?(f?(f=!1,d=d&&b.isArray(d)?d:[]):d=d&&b.isObject(d)?d:{},g[c]=this.deepMerge(d,e)):void 0!==e&&(g[c]=e));return g}}}),emmet.define("range",function(a,b){function c(a,b,c){switch(c){case"eq":case"==":return a===b;case"lt":case"<":return b>a;case"lte":case"<=":return b>=a;case"gt":case">":return a>b;case"gte":case">=":return a>=b}}function d(a,c){b.isObject(a)&&"start"in a?(this.start=Math.min(a.start,a.end),this.end=Math.max(a.start,a.end)):b.isArray(a)?(this.start=a[0],this.end=a[1]):(c=b.isString(c)?c.length:+c,this.start=a,this.end=a+c)}return d.prototype={length:function(){return Math.abs(this.end-this.start)},equal:function(a){return this.cmp(a,"eq","eq")},shift:function(a){return this.start+=a,this.end+=a,this},overlap:function(a){return a.start<=this.end&&a.end>=this.start},intersection:function(a){if(this.overlap(a)){var b=Math.max(a.start,this.start);return new d(b,Math.min(a.end,this.end)-b)}return null},union:function(a){if(this.overlap(a)){var b=Math.min(a.start,this.start);return new d(b,Math.max(a.end,this.end)-b)}return null},inside:function(a){return this.cmp(a,"lte","gt")},contains:function(a){return this.cmp(a,"lt","gt")},include:function(a){return this.cmp(a,"lte","gte")},cmp:function(a,b,e){var f;return a instanceof d?(f=a.start,a=a.end):f=a,c(this.start,f,b||"<=")&&c(this.end,a,e||">")},substring:function(a){return this.length()>0?a.substring(this.start,this.end):""},clone:function(){return new d(this.start,this.length())},toArray:function(){return[this.start,this.end]},toString:function(){return this.valueOf()},valueOf:function(){return"{"+this.start+", "+this.length()+"}"}},{create:function(a,c){return b.isUndefined(a)||null===a?null:a instanceof d?a:(b.isObject(a)&&"start"in a&&"end"in a&&(c=a.end-a.start,a=a.start),new d(a,c))},create2:function(a,c){return b.isNumber(a)&&b.isNumber(c)&&(c-=a),this.create(a,c)}}}),emmet.define("handlerList",function(a,b){function c(){this._list=[]}return c.prototype={add:function(a,c){this._list.push(b.extend({order:0},c||{},{fn:a}))},remove:function(a){this._list=b.without(this._list,b.find(this._list,function(b){return b.fn===a}))},list:function(){return b.sortBy(this._list,"order").reverse()},listFn:function(){return b.pluck(this.list(),"fn")},exec:function(a,c){var c=c||[],d=null;return b.find(this.list(),function(b){return d=b.fn.apply(b,c),d!==a?!0:void 0}),d}},{create:function(){return new c}}}),emmet.define("tokenIterator",function(a,b){function c(a){this.tokens=a,this._position=0,this.reset()}return c.prototype={next:function(){if(this.hasNext()){var a=this.tokens[++this._i];return this._position=a.start,a}return null},current:function(){return this.tokens[this._i]},position:function(){return this._position},hasNext:function(){return this._i<this._il-1},reset:function(){this._i=-1,this._il=this.tokens.length},item:function(){return this.tokens[this._i]},itemNext:function(){return this.tokens[this._i+1]},itemPrev:function(){return this.tokens[this._i-1]},nextUntil:function(a,c){for(var d,e=b.isString(a)?function(b){return b.type==a}:a;(d=this.next())&&(c&&c.call(this,d),!e.call(this,d)););}},{create:function(a){return new c(a)}}}),emmet.define("stringStream",function(){function a(a){this.pos=this.start=0,this.string=a}return a.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0===this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(a){var b=this.string.charAt(this.pos);return("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))?(++this.pos,b):void 0},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){return a=this.string.indexOf(a,this.pos),a>-1?(this.pos=a,!0):void 0},skipToPair:function(a,b){for(var c,d=0,e=this.pos,f=this.string.length;f>e;)if(c=this.string.charAt(e++),c==a)d++;else if(c==b&&(d--,1>d))return this.pos=e,!0;return!1},backUp:function(a){this.pos-=a},match:function(a,b,c){return"string"!=typeof a?((a=this.string.slice(this.pos).match(a))&&b!==!1&&(this.pos+=a[0].length),a):(c=c?function(a){return a.toLowerCase()}:function(a){return a},c(this.string).indexOf(c(a),this.pos)==this.pos?(b!==!1&&(this.pos+=a.length),!0):void 0)},current:function(){return this.string.slice(this.start,this.pos)}},{create:function(b){return new a(b)}}}),emmet.define("resources",function(a,b){function c(b,c,d){var f=a("utils"),c=f.replaceUnescapedSymbol(c,"|",f.getCaretPlaceholder());if("snippets"==d)return a("elements").create("snippet",c);if("abbreviations"==d){d=c,a("utils").trim(b);var g,b=a("elements");return(g=e.exec(d))?b.create("element",g[1],g[2],"/"==g[4]):b.create("reference",d)}}var d={},e=/^<(\w+\:?[\w\-]*)((?:\s+[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,f={},g={},h=a("handlerList").create();return{setVocabulary:function(a,b){d={},"system"==b?f=a:g=a},getVocabulary:function(a){return"system"==a?f:g},getMatchedResource:function(a,c){return h.exec(null,b.toArray(arguments))||this.findSnippet(c,a.name())},getVariable:function(a){return(this.getSection("variables")||{})[a]},setVariable:function(a,b){var c=this.getVocabulary("user")||{};"variables"in c||(c.variables={}),c.variables[a]=b,this.setVocabulary(c,"user")},hasSyntax:function(a){return a in this.getVocabulary("user")||a in this.getVocabulary("system")},addResolver:function(a,b){h.add(a,b)},removeResolver:function(a){h.remove(a)},getSection:function(c){if(!c)return null;c in d||(d[c]=a("utils").deepMerge({},f[c],g[c]));for(var e,h=d[c],i=b.rest(arguments);h&&(e=i.shift());){if(!(e in h))return null;h=h[e]}return h},findItem:function(a,b){for(var c=this.getSection(a);c;){if(b in c)return c[b];c=this.getSection(c["extends"])}},findSnippet:function(a,d,e){if(!a||!d)return null;var e=e||[],f=[d];~d.indexOf("-")&&f.push(d.replace(/\-/g,":"));var g=this.getSection(a),h=null;return b.find(["snippets","abbreviations"],function(d){var e=this.getSection(a,d);return e?b.find(f,function(a){return e[a]?h=c(a,e[a],d):void 0}):void 0},this),e.push(a),h||!g["extends"]||b.include(e,g["extends"])?h:this.findSnippet(g["extends"],d,e)},fuzzyFindSnippet:function(c,d,e){var e=e||.3,c=this.getAllSnippets(c),f=a("string-score"),d=d.replace(/:$/,"").replace(/:/g,"-"),g=b.map(c,function(a,b){return{key:b,score:f.score(a.nk,d,.1)}});return(g=b.last(b.sortBy(g,"score")))&&g.score>=e?c[g.key].parsedValue:void 0},getAllSnippets:function(a){var e="all-"+a;if(!d[e]){var f=[],g=[];do{var h=this.getSection(a);if(!h)break;b.each(["snippets","abbreviations"],function(a){var d={};b.each(h[a]||null,function(b,e){d[e]={nk:e.replace(/:$/,"").replace(/:/g,"-"),value:b,parsedValue:c(e,b,a),type:a}}),f.push(d)}),g.push(a),a=h["extends"]}while(a&&!b.include(g,a));d[e]=b.extend.apply(b,f.reverse())}return d[e]}}}),emmet.define("actions",function(a,b){function c(b){return a("utils").trim(b.charAt(0).toUpperCase()+b.substring(1).replace(/_[a-z]/g,function(a){return" "+a.charAt(1).toUpperCase()}))}var d={};return{add:function(a,b,e){a=a.toLowerCase(),e=e||{},e.label||(e.label=c(a)),d[a]={name:a,fn:b,options:e}},get:function(a){return d[a.toLowerCase()]},run:function(a,c){b.isArray(c)||(c=b.rest(arguments));var d=this.get(a);return d?d.fn.apply(emmet,c):(emmet.log('Action "%s" is not defined',a),!1)},getAll:function(){return d},getList:function(){return b.values(this.getAll())},getMenu:function(a){var d=[],a=a||[];return b.each(this.getList(),function(e){if(!e.options.hidden&&!b.include(a,e.name)){var f=c(e.name),g=d;if(e.options.label)for(var h,i,j=e.options.label.split("/"),f=j.pop();h=j.shift();)i=b.find(g,function(a){return"submenu"==a.type&&a.name==h}),i||(i={name:h,type:"submenu",items:[]},g.push(i)),g=i.items;g.push({type:"action",name:e.name,label:f})}}),d},getActionNameForMenuTitle:function(a,c){var d=null;return b.find(c||this.getMenu(),function(b){return"action"!=b.type?d=this.getActionNameForMenuTitle(a,b.items):b.label==a||b.name==a?d=b.name:void 0},this),d||null}}}),emmet.define("profile",function(a,b){function c(a){b.extend(this,h,a)}function d(a,b){switch(String(b||"").toLowerCase()){case"lower":return a.toLowerCase();case"upper":return a.toUpperCase()}return a}function e(a,b){return g[a.toLowerCase()]=new c(b)}function f(){e("xhtml"),e("html",{self_closing_tag:!1}),e("xml",{self_closing_tag:!0,tag_nl:!0}),e("plain",{tag_nl:!1,indent:!1,place_cursor:!1}),e("line",{tag_nl:!1,indent:!1,extraFilters:"s"})}var g={},h={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",tag_nl_leaf:!1,place_cursor:!0,indent:!0,inline_break:3,self_closing_tag:"xhtml",filters:"",extraFilters:""};return c.prototype={tagName:function(a){return d(a,this.tag_case)},attributeName:function(a){return d(a,this.attr_case)},attributeQuote:function(){return"single"==this.attr_quotes?"'":'"'},selfClosing:function(){return"xhtml"==this.self_closing_tag?" /":this.self_closing_tag===!0?"/":""},cursor:function(){return this.place_cursor?a("utils").getCaretPlaceholder():""}},f(),{create:function(a,d){return 2==arguments.length?e(a,d):new c(b.defaults(a||{},h))},get:function(d,e){if(!d&&e){var f=a("resources").findItem(e,"profile");f&&(d=f)}return d?d instanceof c?d:b.isString(d)&&d.toLowerCase()in g?g[d.toLowerCase()]:this.create(d):g.plain},remove:function(a){a=(a||"").toLowerCase(),a in g&&delete g[a]},reset:function(){g={},f()},stringCase:d}}),emmet.define("editorUtils",function(a){return{isInsideTag:function(a,b){for(var c=/^<\/?\w[\w\:\-]*.*?>/,d=b;d>-1&&"<"!=a.charAt(d);)d--;return-1!=d&&(c=c.exec(a.substring(d)))&&b>d&&b<d+c[0].length?!0:!1},outputInfo:function(a,b,c){return c=c||a.getProfileName(),{syntax:String(b||a.getSyntax()),profile:c||null,content:String(a.getContent())}},unindent:function(b,c){return a("utils").unindentString(c,this.getCurrentLinePadding(b))},getCurrentLinePadding:function(b){return a("utils").getLinePadding(b.getCurrentLine())}}}),emmet.define("actionUtils",function(a,b){return{mimeTypes:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",html:"text/html",htm:"text/html"},extractAbbreviation:function(b){for(var c=b.length,d=-1,e=0,f=0,g=0,h=a("utils"),i=a("abbreviationParser");;){if(c--,0>c){d=0;break}var j=b.charAt(c);if("]"==j)f++;else if("["==j){if(!f){d=c+1;break}f--}else if("}"==j)g++;else if("{"==j){if(!g){d=c+1;break}g--}else if(")"==j)e++;else if("("==j){if(!e){d=c+1;break}e--}else if(!f&&!g&&(!i.isAllowedChar(j)||">"==j&&h.endsWithTag(b.substring(0,c+1)))){d=c+1;break}}return-1==d||g||f||e?"":b.substring(d).replace(/^[\*\+\>\^]+/,"")},getImageSize:function(a){var b=0,c=function(){return a.charCodeAt(b++)};if("PNG\r\n\n"===a.substr(0,8))return b=a.indexOf("IHDR")+4,{width:c()<<24|c()<<16|c()<<8|c(),height:c()<<24|c()<<16|c()<<8|c()};if("GIF8"===a.substr(0,4))return b=6,{width:c()|c()<<8,height:c()|c()<<8};if("ÿØ"===a.substr(0,2))for(var b=2,d=a.length;d>b&&255==c();){var e=c();if(218==e)break;var f=c()<<8|c();if(!(!(e>=192&&207>=e)||4&e||8&e))return b+=1,{height:c()<<8|c(),width:c()<<8|c()};b+=f-2}},captureContext:function(c){if(String(c.getSyntax())in{html:1,xml:1,xsl:1}){var d=String(c.getContent());if((c=a("htmlMatcher").find(d,c.getCaretPos()))&&"tag"==c.type){var e=c.open,c={name:e.name,attributes:[]};return(d=a("xmlEditTree").parse(e.range.substring(d)))&&(c.attributes=b.map(d.getAll(),function(a){return{name:a.name(),value:a.value()}})),c}}return null},findExpressionBounds:function(b,c){for(var d=String(b.getContent()),e=d.length,f=b.getCaretPos()-1,g=f+1;f>=0&&c(d.charAt(f),f,d);)f--;for(;e>g&&c(d.charAt(g),g,d);)g++;return g>f?a("range").create([++f,g]):void 0},compoundUpdate:function(a,b){if(b){var c=a.getSelectionRange();return a.replaceContent(b.data,b.start,b.end,!0),a.createSelection(b.caret,b.caret+c.end-c.start),!0}return!1},detectSyntax:function(b,c){var d=c||"html";return a("resources").hasSyntax(d)||(d="html"),"html"==d&&(this.isStyle(b)||this.isInlineCSS(b))&&(d="css"),"styl"==d&&(d="stylus"),d},detectProfile:function(b){var c=b.getSyntax(),d=a("resources").findItem(c,"profile");if(d)return d;switch(c){case"xml":case"xsl":return"xml";case"css":if(this.isInlineCSS(b))return"line";break;case"html":return(d=a("resources").getVariable("profile"))||(d=this.isXHTML(b)?"xhtml":"html"),d}return"xhtml"},isXHTML:function(a){return-1!=a.getContent().search(/<!DOCTYPE[^>]+XHTML/i)},isStyle:function(b){var c=String(b.getContent()),b=b.getCaretPos();return(c=a("htmlMatcher").tag(c,b))&&"style"==c.open.name.toLowerCase()&&c.innerRange.cmp(b,"lte","gte")},isInlineCSS:function(b){var c=String(b.getContent()),b=b.getCaretPos();return(c=a("xmlEditTree").parseFromPosition(c,b,!0))?(c=c.itemFromPosition(b,!0))&&"style"==c.name().toLowerCase()&&c.valueRange(!0).cmp(b,"lte","gte"):!1}}}),emmet.define("abbreviationUtils",function(a,b){return{isUnary:function(a){return a.children.length||a._text||this.isSnippet(a)?!1:(a=a.matchedResource())&&a.is_empty},isInline:function(b){return b.isTextNode()||!b.name()||a("tagName").isInlineLevel(b.name())},isBlock:function(a){return this.isSnippet(a)||!this.isInline(a)},isSnippet:function(b){return a("elements").is(b.matchedResource(),"snippet")},hasTagsInContent:function(b){return a("utils").matchesTag(b.content)},hasBlockChildren:function(a){return this.hasTagsInContent(a)&&this.isBlock(a)||b.any(a.children,function(a){return this.isBlock(a)},this)},insertChildContent:function(c,d,e){var e=b.extend({keepVariable:!0,appendIfNoChild:!0},e||{}),f=!1,g=a("utils"),c=g.replaceVariables(c,function(a,b,h){var i=a;return"child"==b&&(i=g.padString(d,g.getLinePaddingFromPosition(c,h.start)),f=!0,e.keepVariable&&(i+=a)),i});return!f&&e.appendIfNoChild&&(c+=d),c}}}),emmet.define("base64",function(){return{encode:function(a){for(var b,c,d,e,f,g,h=[],i=0,j=a.length;j>i;)e=a.charCodeAt(i++),f=a.charCodeAt(i++),g=a.charCodeAt(i++),b=255&e,c=255&f,d=255&g,e=b>>2,b=(3&b)<<4|c>>4,c=(15&c)<<2|d>>6,d&=63,isNaN(f)?c=d=64:isNaN(g)&&(d=64),h.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d));return h.join("")},decode:function(a){var b,c,d,e,f,g=0,h=0,i=[],j=a.length;if(!a)return a;a+="";do b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(g++)),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(g++)),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(g++)),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(g++)),d=b<<18|c<<12|e<<6|f,b=255&d>>16,c=255&d>>8,d&=255,i[h++]=64==e?String.fromCharCode(b):64==f?String.fromCharCode(b,c):String.fromCharCode(b,c,d);while(j>g);return i.join("")}}}),emmet.define("htmlMatcher",function(a,b){function c(b){var c,d={};return{open:function(a){return(a=this.matches(a))&&"open"==a.type?a:null},close:function(a){return(a=this.matches(a))&&"close"==a.type?a:null},matches:function(e){var h="p"+e;if(!(h in d)&&"<"==b.charAt(e)){var i=b.slice(e);d[h]=(c=i.match(f))?{name:c[1],selfClose:!!c[3],range:a("range").create(e,c[0]),type:"open"}:(c=i.match(g))?{name:c[1],range:a("range").create(e,c[0]),type:"close"}:!1}return d[h]},text:function(){return b}}}function d(a,b,c){return a.substring(b,b+c.length)==c}function e(a,c){for(var e=[],f=null,g=c.text(),h=a.range.end,i=g.length;i>h;h++){if(d(g,h,"<!--"))for(f=h;i>f;f++)if(d(g,f,"-->")){h=f+3;break}if(f=c.matches(h))if("open"!=f.type||f.selfClose){if("close"==f.type){if(!e.length)return f.name==a.name?f:null;if(b.last(e)==f.name)e.pop();else{for(var j=!1;e.length&&!j;)e.pop()==f.name&&(j=!0);if(!e.length&&!j)return f.name==a.name?f:null}}}else e.push(f.name)}}var f=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,g=/^<\/([\w\:\-]+)[^>]*>/;return{find:function(f,g){for(var h,i=a("range"),j=c(f),k=null,l=null,m=g;m>=0;m--)if(k=j.open(m))if(k.selfClose){if(k.range.cmp(g,"lt","gt"))break}else{if(l=e(k,j)){if(i.create2(k.range.start,l.range.end).contains(g))break}else if(k.range.contains(g))break;k=null}else if(d(f,m,"-->")){for(h=m-1;h>=0&&!d(f,h,"-->");h--)if(d(f,h,"<!--")){m=h;break}}else if(d(f,m,"<!--")){for(h=m+4,k=f.length;k>h;h++)if(d(f,h,"-->")){h+=3;break}k={range:a("range").create(m,b.isNumber(h)?h-m:h[0]),type:"comment"};break}return k?(m=h=null,l?(h=i.create2(k.range.start,l.range.end),m=i.create2(k.range.end,l.range.start)):h=m=i.create2(k.range.start,k.range.end),"comment"==k.type&&(i=h.substring(f),m.start+=i.length-i.replace(/^<\!--\s*/,"").length,m.end-=i.length-i.replace(/\s*--\>$/,"").length),{open:k,close:l,type:"comment"==k.type?"comment":"tag",innerRange:m,innerContent:function(){return this.innerRange.substring(f)},outerRange:h,outerContent:function(){return this.outerRange.substring(f)},range:m.length()&&m.cmp(g,"lte","gte")?m:h,content:function(){return this.range.substring(f)},source:f}):void 0},tag:function(a,b){var c=this.find(a,b);return c&&"tag"==c.type?c:void 0}}}),emmet.define("tabStops",function(a,b){var c=100,d=0,e={replaceCarets:!1,escape:function(a){return"\\"+a},tabstop:function(a){return a.token},variable:function(a){return a.token}};return a("abbreviationParser").addOutputProcessor(function(b,c){var e=0,f=a("tabStops"),g=a("utils"),h={tabstop:function(a){var b=parseInt(a.group,10);return 0===b?"${0}":(b>e&&(e=b),a.placeholder?(b+=d,a=f.processText(a.placeholder,h),"${"+b+":"+a+"}"):"${"+(b+d)+"}")}},b=f.processText(b,h),b=g.replaceVariables(b,f.variablesResolver(c));return d+=e+1,b}),{extract:function(c,d){var f=a("utils"),g={carets:""},h=[],d=b.extend({},e,d,{tabstop:function(a){var b=a.token,c="";return"cursor"==a.placeholder?h.push({start:a.start,end:a.start+b.length,group:"carets",value:""}):("placeholder"in a&&(g[a.group]=a.placeholder),a.group in g&&(c=g[a.group]),h.push({start:a.start,end:a.start+b.length,group:a.group,value:c})),b}});d.replaceCarets&&(c=c.replace(RegExp(f.escapeForRegexp(f.getCaretPlaceholder()),"g"),"${0:cursor}"));var c=this.processText(c,d),i="",j=0,f=b.map(h,function(a){i+=c.substring(j,a.start);var b=i.length,d=g[a.group]||"";return i+=d,j=a.end,{group:a.group,start:b,end:b+d.length}});return i+=c.substring(j),{text:i,tabstops:b.sortBy(f,"start")}},processText:function(c,d){for(var f,g,d=b.extend({},e,d),h="",i=a("stringStream").create(c);f=i.next();)"\\"!=f||i.eol()?(g=f,"$"==f&&(i.start=i.pos-1,i.match(/^[0-9]+/)?g=d.tabstop({start:h.length,group:i.current().substr(1),token:i.current()}):(f=i.match(/^\{([a-z_\-][\w\-]*)\}/))?g=d.variable({start:h.length,name:f[1],token:i.current()}):(f=i.match(/^\{([0-9]+)(:.+?)?\}/,!1))&&(i.skipToPair("{","}"),g={start:h.length,group:f[1],token:i.current()},(f=g.token.substring(g.group.length+2,g.token.length-1))&&(g.placeholder=f.substr(1)),g=d.tabstop(g))),h+=g):h+=d.escape(i.next());return h},upgrade:function(a,c){var d=0,e={tabstop:function(a){var b=parseInt(a.group,10);return b>d&&(d=b),a.placeholder?"${"+(b+c)+":"+a.placeholder+"}":"${"+(b+c)+"}"}};return b.each(["start","end","content"],function(b){a[b]=this.processText(a[b],e)},this),d},variablesResolver:function(d){var e={},f=a("resources");return function(g,h){if("child"==h)return g;if("cursor"==h)return a("utils").getCaretPlaceholder();var i=d.attribute(h);return b.isUndefined(i)||i===g?(i=f.getVariable(h))?i:(e[h]||(e[h]=c++),"${"+e[h]+":"+h+"}"):i}},resetTabstopIndex:function(){d=0,c=100}}}),emmet.define("preferences",function(a,b){var c={},d={},e=null,f=null;return{define:function(a,c,e){var f=a;b.isString(a)&&(f={},f[a]={value:c,description:e}),b.each(f,function(a,c){d[c]=b.isObject(a)&&"value"in a&&b.keys(a).length<3?a:{value:a}})},set:function(a,e){var f=a;b.isString(a)&&(f={},f[a]=e),b.each(f,function(a,e){if(!(e in d))throw'Property "'+e+'" is not defined. You should define it first with `define` method of current module';if(a!==d[e].value){switch(typeof d[e].value){case"boolean":var f=a;b.isString(f)?(f=f.toLowerCase(),a="yes"==f||"true"==f||"1"==f):a=!!f;break;case"number":a=parseInt(a+"",10)||0;break;default:null!==a&&(a+="")}c[e]=a}else e in c&&delete c[e]})},get:function(a){return a in c?c[a]:a in d?d[a].value:void 0},getArray:function(c){return c=this.get(c),b.isUndefined(c)||null===c||""===c?null:(c=b.map(c.split(","),a("utils").trim),c.length?c:null)
},getDict:function(a){var c={};return b.each(this.getArray(a),function(a){a=a.split(":"),c[a[0]]=a[1]}),c},description:function(a){return a in d?d[a].description:void 0},remove:function(a){b.isArray(a)||(a=[a]),b.each(a,function(a){a in c&&delete c[a],a in d&&delete d[a]})},list:function(){return b.map(b.keys(d).sort(),function(a){return{name:a,value:this.get(a),type:typeof d[a].value,description:d[a].description}},this)},load:function(a){b.each(a,function(a,b){this.set(b,a)},this)},exportModified:function(){return b.clone(c)},reset:function(){c={}},_startTest:function(){e=d,f=c,d={},c={}},_stopTest:function(){d=e,c=f}}}),emmet.define("filters",function(a,b){function c(a){return a?b.isString(a)?a.split(/[\|,]/g):a:[]}var d={};return{add:function(a,b){d[a]=b},apply:function(e,f,g){var h=a("utils"),g=a("profile").get(g);return b.each(c(f),function(a){(a=h.trim(a.toLowerCase()))&&a in d&&(e=d[a](e,g))}),e},composeList:function(b,d,e){return d=a("profile").get(d),b=c(d.filters||a("resources").findItem(b,"filters")||"html"),d.extraFilters&&(b=b.concat(c(d.extraFilters))),e&&(b=b.concat(c(e))),b&&b.length||(b=c("html")),b},extractFromAbbreviation:function(a){var b="",a=a.replace(/\|([\w\|\-]+)$/,function(a,c){return b=c,""});return[a,c(b)]}}}),emmet.define("elements",function(a,b){function c(a){return{data:a}}var d={},e=/([\w\-:]+)\s*=\s*(['"])(.*?)\2/g,f={add:function(a,b){var c=this;d[a]=function(){var d=b.apply(c,arguments);return d&&(d.type=a),d}},get:function(a){return d[a]},create:function(a){var b=[].slice.call(arguments,1),c=this.get(a);return c?c.apply(this,b):null},is:function(a,b){return a&&a.type===b}};return f.add("element",function(a,c,d){var f={name:a,is_empty:!!d};if(c)if(f.attributes=[],b.isArray(c))f.attributes=c;else if(b.isString(c))for(;a=e.exec(c);)f.attributes.push({name:a[1],value:a[3]});else b.each(c,function(a,b){f.attributes.push({name:b,value:a})});return f}),f.add("snippet",c),f.add("reference",c),f.add("empty",function(){return{}}),f}),emmet.define("editTree",function(a,b,c){function d(a,c){this.options=b.extend({offset:0},c),this.source=a,this._children=[],this._positions={name:0},this.initialize.apply(this,arguments)}function e(a,b,c){this.parent=a,this._name=b.value,this._value=c?c.value:"",this._positions={name:b.start,value:c?c.start:-1},this.initialize.apply(this,arguments)}var f=a("range").create;return d.extend=c.extend,d.prototype={initialize:function(){},_updateSource:function(c,d,e){var g=f(d,b.isUndefined(e)?0:e-d),h=c.length-g.length(),i=function(a){b.each(a,function(b,c){b>=g.end&&(a[c]+=h)})};i(this._positions),b.each(this.list(),function(a){i(a._positions)}),this.source=a("utils").replaceSubstring(this.source,c,g)},add:function(a,b){var c=new e(a,b);return this._children.push(c),c},get:function(a){return b.isNumber(a)?this.list()[a]:b.isString(a)?b.find(this.list(),function(b){return b.name()===a}):a},getAll:function(a){b.isArray(a)||(a=[a]);var c=[],d=[];return b.each(a,function(a){b.isString(a)?c.push(a):b.isNumber(a)&&d.push(a)}),b.filter(this.list(),function(a,e){return b.include(d,e)||b.include(c,a.name())})},value:function(a,c,d){var e=this.get(a);return e?e.value(c):b.isUndefined(c)?void 0:this.add(a,c,d)},values:function(a){return b.map(this.getAll(a),function(a){return a.value()})},remove:function(a){(a=this.get(a))&&(this._updateSource("",a.fullRange()),this._children=b.without(this._children,a))},list:function(){return this._children},indexOf:function(a){return b.indexOf(this.list(),this.get(a))},name:function(a){return b.isUndefined(a)||this._name===(a=String(a))||(this._updateSource(a,this._positions.name,this._positions.name+this._name.length),this._name=a),this._name},nameRange:function(a){return f(this._positions.name+(a?this.options.offset:0),this.name())},range:function(a){return f(a?this.options.offset:0,this.valueOf())},itemFromPosition:function(a,c){return b.find(this.list(),function(b){return b.range(c).inside(a)})},toString:function(){return this.valueOf()},valueOf:function(){return this.source}},e.extend=c.extend,e.prototype={initialize:function(){},_pos:function(a,b){return a+(b?this.parent.options.offset:0)},value:function(a){return b.isUndefined(a)||this._value===(a=String(a))||(this.parent._updateSource(a,this.valueRange()),this._value=a),this._value},name:function(a){return b.isUndefined(a)||this._name===(a=String(a))||(this.parent._updateSource(a,this.nameRange()),this._name=a),this._name},namePosition:function(a){return this._pos(this._positions.name,a)},valuePosition:function(a){return this._pos(this._positions.value,a)},range:function(a){return f(this.namePosition(a),this.valueOf())},fullRange:function(a){return this.range(a)},nameRange:function(a){return f(this.namePosition(a),this.name())},valueRange:function(a){return f(this.valuePosition(a),this.value())},toString:function(){return this.valueOf()},valueOf:function(){return this.name()+this.value()}},{EditContainer:d,EditElement:e,createToken:function(a,b,c){return a={start:a||0,value:b||"",type:c},a.end=a.start+a.value.length,a}}}),emmet.define("cssEditTree",function(a,b){function c(b,c){return a("range").create(b,c)}function d(a,c){var c=c||h|i,d=["white","line"];if((c&i)==i)for(;a.length&&b.include(d,b.last(a).type);)a.pop();if((c&h)==h)for(;a.length&&b.include(d,a[0].type);)a.shift();return a}function e(a){var e,f,g=["white","line",":"],j=[];for(a.nextUntil(function(){return!b.include(g,this.itemNext().type)}),f=a.current().end;e=a.next();){if("}"==e.type||";"==e.type)return d(j,h|("}"==e.type?i:0)),j.length?(f=j[0].start,a=b.last(j).end):a=f,c(f,a-f);j.push(e)}return j.length?c(j[0].start,b.last(j).end-j[0].start):void 0}function f(d){var e=a("stringStream").create(d),f=[],g=/[\s\u00a0,]/,h=function(){e.next(),f.push(c(e.start,e.current())),e.start=e.pos};for(e.eatSpace(),e.start=e.pos;d=e.next();)if('"'==d||"'"==d){if(e.next(),!e.skipTo(d))break;h()}else if("("==d){if(e.backUp(1),!e.skipToPair("(",")"))break;e.backUp(1),h()}else g.test(d)&&(f.push(c(e.start,e.current().length-1)),e.eatWhile(g),e.start=e.pos);return h(),b.chain(f).filter(function(a){return!!a.length()}).uniq(!1,function(a){return a.toString()}).value()}var g={styleBefore:"\n	",styleSeparator:": ",offset:0},h=1,i=2,j=a("editTree").EditContainer.extend({initialize:function(f){b.defaults(this.options,g);var h,i,j=a("editTree"),l=a("tokenIterator").create(a("cssParser").parse(f)),m=[];for(h=l.position();(i=l.next())&&"{"!=i.type;)m.push(i);if(d(m),m.length?(h=m[0].start,m=b.last(m).end):m=h,h=c(h,m-h),this._positions.name=h.start,this._name=h.substring(f),!l.current()||"{"!=l.current().type)throw"Invalid CSS rule";for(this._positions.contentStart=l.position()+1;h=l.next();){if(m="identifier"==h.type)a:{m=l.tokens,i=l._i+1;for(var n=m.length;n>i;i++){if(":"==m[i].type){m=!0;break a}if("identifier"==m[i].type||"line"==m[i].type){m=!1;break a}}m=!1}m&&(h=c(h),m=e(l),i=l.current()&&";"==l.current().type?c(l.current()):c(m.end,0),this._children.push(new k(this,j.createToken(h.start,h.substring(f)),j.createToken(m.start,m.substring(f)),j.createToken(i.start,i.substring(f)))))}this._saveStyle()},_saveStyle:function(){var c=this._positions.contentStart,d=this.source,e=a("utils");b.each(this.list(),function(a){a.styleBefore=d.substring(c,a.namePosition());var f=e.splitByLines(a.styleBefore);f.length>1&&(a.styleBefore="\n"+b.last(f)),a.styleSeparator=d.substring(a.nameRange().end,a.valuePosition()),a.styleBefore=b.last(a.styleBefore.split("*/")),a.styleSeparator=a.styleSeparator.replace(/\/\*.*?\*\//g,""),c=a.range().end})},add:function(c,d,e){var f=this.list(),g=this._positions.contentStart,h=b.pick(this.options,"styleBefore","styleSeparator"),i=a("editTree");b.isUndefined(e)&&(e=f.length);var j=f[e];return j?g=j.fullRange().start:(j=f[e-1])&&(j.end(";"),g=j.range().end),j&&(h=b.pick(j,"styleBefore","styleSeparator")),c=i.createToken(g+h.styleBefore.length,c),d=i.createToken(c.end+h.styleSeparator.length,d),i=new k(this,c,d,i.createToken(d.end,";")),b.extend(i,h),this._updateSource(i.styleBefore+i.toString(),g),this._children.splice(e,0,i),i}}),k=a("editTree").EditElement.extend({initialize:function(a,b,c,d){this.styleBefore=a.options.styleBefore,this.styleSeparator=a.options.styleSeparator,this._end=d.value,this._positions.end=d.start},valueParts:function(a){var c=f(this.value());if(a){var d=this.valuePosition(!0);b.each(c,function(a){a.shift(d)})}return c},end:function(a){return b.isUndefined(a)||this._end===a||(this.parent._updateSource(a,this._positions.end,this._positions.end+this._end.length),this._end=a),this._end},fullRange:function(a){return a=this.range(a),a.start-=this.styleBefore.length,a},valueOf:function(){return this.name()+this.styleSeparator+this.value()+this.end()}});return{parse:function(a,b){return new j(a,b)},parseFromPosition:function(a,b,c){return c=this.extractRule(a,b,c),c&&c.inside(b)?this.parse(c.substring(a),{offset:c.start}):null},extractRule:function(b,c,d){for(var e,f="",g=b.length,h=-1;c>=0;){if(e=b.charAt(c),"{"==e){h=c;break}if("}"==e&&!d){c++;break}c--}for(;g>c;){if(e=b.charAt(c),"{"==e)h=c;else if("}"==e){-1!=h&&(f=b.substring(h,c+1));break}c++}if(f){for(c=h-1,d="";c>=0&&(e=b.charAt(c),-1=="{}/\\<>\n\r".indexOf(e));)c--;return d=b.substring(c+1,h).replace(/^[\s\n\r]+/m,""),a("range").create(h-d.length,f.length+d.length)}return null},baseName:function(a){return a.replace(/^\s*\-\w+\-/,"")},findParts:f}}),emmet.define("xmlEditTree",function(a,b){var c={styleBefore:" ",styleSeparator:"=",styleQuote:'"',offset:0},d=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/m,e=a("editTree").EditContainer.extend({initialize:function(d){b.defaults(this.options,c),this._positions.name=1;var e=null,g=a("xmlParser").parse(d),h=a("range");b.each(g,function(a){switch(a.value=h.create(a).substring(d),a.type){case"tag":/^<[^\/]+/.test(a.value)&&(this._name=a.value.substring(1));break;case"attribute":e&&this._children.push(new f(this,e)),e=a;break;case"string":this._children.push(new f(this,e,a)),e=null}},this),e&&this._children.push(new f(this,e)),this._saveStyle()},_saveStyle:function(){var a=this.nameRange().end,c=this.source;b.each(this.list(),function(b){b.styleBefore=c.substring(a,b.namePosition()),-1!==b.valuePosition()&&(b.styleSeparator=c.substring(b.namePosition()+b.name().length,b.valuePosition()-b.styleQuote.length)),a=b.range().end})},add:function(c,d,e){var g=this.list(),h=this.nameRange().end,i=a("editTree"),j=b.pick(this.options,"styleBefore","styleSeparator","styleQuote");b.isUndefined(e)&&(e=g.length);var k=g[e];return k?h=k.fullRange().start:(k=g[e-1])&&(h=k.range().end),k&&(j=b.pick(k,"styleBefore","styleSeparator","styleQuote")),d=j.styleQuote+d+j.styleQuote,c=new f(this,i.createToken(h+j.styleBefore.length,c),i.createToken(h+j.styleBefore.length+c.length+j.styleSeparator.length,d)),b.extend(c,j),this._updateSource(c.styleBefore+c.toString(),h),this._children.splice(e,0,c),c}}),f=a("editTree").EditElement.extend({initialize:function(a,b,c){this.styleBefore=a.options.styleBefore,this.styleSeparator=a.options.styleSeparator,b="",a=a.options.styleQuote,c&&(b=c.value,a=b.charAt(0),'"'==a||"'"==a?b=b.substring(1):a="",a&&b.charAt(b.length-1)==a&&(b=b.substring(0,b.length-1))),this.styleQuote=a,this._value=b,this._positions.value=c?c.start+a.length:-1},fullRange:function(a){return a=this.range(a),a.start-=this.styleBefore.length,a},valueOf:function(){return this.name()+this.styleSeparator+this.styleQuote+this.value()+this.styleQuote}});return{parse:function(a,b){return new e(a,b)},parseFromPosition:function(a,b,c){return c=this.extractTag(a,b,c),c&&c.inside(b)?this.parse(c.substring(a),{offset:c.start}):null},extractTag:function(b,c,e){var f,g=b.length,h=a("range"),i=Math.min(2e3,g),j=null,k=function(a){var c;return"<"==b.charAt(a)&&(c=b.substr(a,i).match(d))?h.create(a,c[0]):void 0};for(f=c;f>=0&&!(j=k(f));f--);if(j&&(j.inside(c)||e))return j;if(!j&&e)return null;for(f=c;g>f;f++)if(j=k(f))return j}}}),emmet.define("expandAbbreviation",function(a,b){var c=a("handlerList").create(),d=null,e=a("actions");return e.add("expand_abbreviation",function(d,e,f){var g=b.toArray(arguments),h=a("editorUtils").outputInfo(d,e,f);return g[1]=h.syntax,g[2]=h.profile,c.exec(!1,g)}),e.add("expand_abbreviation_with_tab",function(b,c,d){var f=b.getSelection(),g=a("resources").getVariable("indentation");return f?(d=a("utils"),c=a("range").create(b.getSelectionRange()),f=d.padString(f,g),b.replaceContent(g+"${0}",b.getCaretPos()),g=a("range").create(b.getCaretPos(),c.length()),b.replaceContent(f,g.start,g.end,!0),b.createSelection(g.start,g.start+f.length),!0):(e.run("expand_abbreviation",b,c,d)||b.replaceContent(g,b.getCaretPos()),!0)},{hidden:!0}),c.add(function(b,c,e){var f=b.getSelectionRange().end,g=d.findAbbreviation(b);return g&&(c=emmet.expandAbbreviation(g,c,e,a("actionUtils").captureContext(b)))?(b.replaceContent(c,f-g.length,f),!0):!1},{order:-1}),d={addHandler:function(a,b){c.add(a,b)},removeHandler:function(a){c.remove(a)},findAbbreviation:function(b){var c=a("range").create(b.getSelectionRange()),d=String(b.getContent());return c.length()?c.substring(d):(b=b.getCurrentLineRange(),a("actionUtils").extractAbbreviation(d.substring(b.start,c.start)))}}}),emmet.define("wrapWithAbbreviation",function(a){var b=null;return a("actions").add("wrap_with_abbreviation",function(c,d,e,f){var e=a("editorUtils").outputInfo(c,e,f),g=a("utils"),f=a("editorUtils"),d=d||c.prompt("Enter abbreviation");if(!d)return null;var d=String(d),h=a("range").create(c.getSelectionRange());if(!h.length()){if(h=a("htmlMatcher").tag(e.content,h.start),!h)return!1;h=g.narrowToNonSpace(e.content,h.range)}return g=g.escapeText(h.substring(e.content)),(d=b.wrap(d,f.unindent(c,g),e.syntax,e.profile,a("actionUtils").captureContext(c)))?(c.replaceContent(d,h.start,h.end),!0):!1}),b={wrap:function(b,c,d,e,f){var g=a("filters"),h=a("utils"),d=d||emmet.defaultSyntax(),e=a("profile").get(e,d);return a("tabStops").resetTabstopIndex(),b=g.extractFromAbbreviation(b),(c=a("abbreviationParser").parse(b[0],{syntax:d,pastedContent:c,contextNode:f}))?(d=g.composeList(d,e,b[1]),g.apply(c,d,e),h.replaceVariables(c.valueOf())):null}}}),emmet.exec(function(a,b){function c(a,c){var d=c-(a.options.offset||0),e=/^[\s\n\r]/;return b.find(a.list(),function(b){return b.range().end===d?e.test(a.source.charAt(d)):b.range().inside(d)})}function d(b,c,d,e){for(var f=-1,g=-1;c--;)if(b.substr(c,d.length)==d){f=c;break}if(-1!=f)for(c=f,d=b.length;d>=c++;)if(b.substr(c,e.length)==e){g=c+e.length;break}return-1!=f&&-1!=g?a("range").create(f,g-f):null}function e(b,c,e,f){function g(a){return a.replace(RegExp("^"+l.escapeForRegexp(c)+"\\s*"),function(a){return j-=a.length,""}).replace(RegExp("\\s*"+l.escapeForRegexp(e)+"$"),"")}var h=a("editorUtils"),i=h.outputInfo(b).content,j=b.getCaretPos(),k=null,l=a("utils");return(k=d(i,j,c,e))&&k.overlap(f)?(f=k,k=g(f.substring(i))):(k=c+" "+f.substring(i).replace(RegExp(l.escapeForRegexp(c)+"\\s*|\\s*"+l.escapeForRegexp(e),"g"),"")+" "+e,j+=c.length+1),null!==k?(k=l.escapeText(k),b.setCaretPos(f.start),b.replaceContent(h.unindent(b,k),f.start,f.end),b.setCaretPos(j),!0):!1}a("actions").add("toggle_comment",function(b){var d=a("editorUtils").outputInfo(b);if("css"==d.syntax){var f=b.getCaretPos(),g=a("htmlMatcher").tag(d.content,f);g&&g.open.range.inside(f)&&(d.syntax="html")}return"css"==d.syntax?(g=a("range").create(b.getSelectionRange()),d=a("editorUtils").outputInfo(b),!g.length()&&(f=a("cssEditTree").parseFromPosition(d.content,b.getCaretPos()))&&(g=(g=c(f,b.getCaretPos()))?g.range(!0):a("range").create(f.nameRange(!0).start,f.source)),g.length()||(g=a("range").create(b.getCurrentLineRange()),a("utils").narrowToNonSpace(d.content,g)),b=e(b,"/*","*/",g)):(d=a("range").create(b.getSelectionRange()),f=a("editorUtils").outputInfo(b),!d.length()&&(f=a("htmlMatcher").tag(f.content,b.getCaretPos()))&&(d=f.outerRange),b=e(b,"<!--","-->",d)),b})}),emmet.exec(function(a){function b(a,b,c){function d(a){for(var b=a;b>=0;){var c=e.charAt(b);if("\n"==c||"\r"==c)break;b--}return e.substring(b,a)}for(var b=b||1,c=a.getCaretPos()+(c||0),e=String(a.getContent()),a=e.length,f=-1,g=/^\s+$/;a>=c&&c>=0;){c+=b;var h=e.charAt(c),i=e.charAt(c+1),j=e.charAt(c-1);switch(h){case'"':case"'":i==h&&"="==j&&(f=c+1);break;case">":"<"==i&&(f=c+1);break;case"\n":case"\r":g.test(d(c-1))&&(f=c)}if(-1!=f)break}return f}a=a("actions"),a.add("prev_edit_point",function(a){var c=a.getCaretPos(),d=b(a,-1);return d==c&&(d=b(a,-1,-2)),-1!=d?(a.setCaretPos(d),!0):!1},{label:"Previous Edit Point"}),a.add("next_edit_point",function(a){var c=b(a,1);return-1!=c?(a.setCaretPos(c),!0):!1})}),emmet.exec(function(a,b){function c(b,c,d,e){var f,g=a("range"),h=a("editorUtils").outputInfo(b).content,i=h.length,j=g.create(-1,0),k=g.create(b.getSelectionRange());f=k.start;for(var l=1e5;f>=0&&i>f&&--l>0;){if(g=d(h,f,c)){if(j.equal(g))break;if(j=g.clone(),f=e(g.substring(h),g.start,k.clone()))return b.createSelection(f.start,f.end),!0;f=c?g.start:g.end-1}f+=c?-1:1}return!1}function d(a){var b=!0;return c(a,!1,function(a,c){if(b){b=!1;var d;a:{d=c;for(var e;d>=0;){if(e=i(a,d)){d=e;break a}d--}d=null}return d}return i(a,c)},function(a,b,c){return h(a,b,c,!1)})}function e(a){return c(a,!0,i,function(a,b,c){return h(a,b,c,!0)})}function f(c,d,e){var f,h,e=e||0,i=a("range"),k=[],l=-1,m="",n="";return b.each(d,function(a){switch(a.type){case"tag":h=c.substring(a.start,a.end),/^<[\w\:\-]/.test(h)&&k.push(i.create({start:a.start+1,end:a.end}));break;case"attribute":l=a.start,m=c.substring(a.start,a.end);break;case"string":k.push(i.create(l,a.end-l)),f=i.create(a),n=f.substring(c),j(n.charAt(0))&&f.start++,j(n.charAt(n.length-1))&&f.end--,k.push(f),"class"==m&&(k=k.concat(g(f.substring(c),f.start)))}}),b.each(k,function(a){a.shift(e)}),b.chain(k).filter(function(a){return!!a.length()}).uniq(!1,function(a){return a.toString()}).value()}function g(b,c){var c=c||0,d=[],e=a("stringStream").create(b),f=a("range");e.eatSpace(),e.start=e.pos;for(var g;g=e.next();)/[\s\u00a0]/.test(g)&&(d.push(f.create(e.start+c,e.pos-e.start-1)),e.eatSpace(),e.start=e.pos);return d.push(f.create(e.start+c,e.pos-e.start)),d}function h(c,d,e,g){return c=f(c,a("xmlParser").parse(c),d),g&&c.reverse(),(d=b.find(c,function(a){return a.equal(e)}))?(g=b.indexOf(c,d),g<c.length-1?c[g+1]:null):g?b.find(c,function(a){return a.start<e.start}):!d&&(g=b.filter(c,function(a){return a.inside(e.end)}),g.length>1)?g[1]:b.find(c,function(a){return a.end>e.end})}function i(b,c){var d;return"<"==b.charAt(c)&&(d=b.substring(c,b.length).match(o))?a("range").create(c,d[0]):void 0}function j(a){return'"'==a||"'"==a}function k(c){var d=c.valueRange(!0),e=[c.range(!0),d],f=a("stringStream"),g=a("cssEditTree"),h=a("range"),i=c.value();return b.each(c.valueParts(),function(a){var c=a.clone();e.push(c.shift(d.start));var j=f.create(a.substring(i));if(j.match(/^[\w\-]+\(/,!0)){j.start=j.pos,j.skipToPair("(",")");var k=j.current();e.push(h.create(c.start+j.start,k)),b.each(g.findParts(k),function(a){e.push(h.create(c.start+j.start+a.start,a.substring(k)))})}}),b.chain(e).filter(function(a){return!!a.length()}).uniq(!1,function(a){return a.toString()}).value()}function l(a,c,d){var e,f,g=null,h=null,i=a.list();d?(i.reverse(),e=function(a){return a.range(!0).start<=c.start},f=function(a){return a.start<c.start}):(e=function(a){return a.range(!0).end>=c.end},f=function(a){return a.end>c.start});for(var j=function(a){return a.equal(c)},l=function(a){return a.inside(c.end)};g=b.find(i,e);){if(a=k(g),d&&a.reverse(),h=b.find(a,j)){if(h=b.indexOf(a,h),h!=a.length-1){h=a[h+1];break}}else{if(h=b.filter(a,l),h.length>1){h=h[1];break}if(h=b.find(a,f))break}h=null,c.start=c.end=d?g.range(!0).start-1:g.range(!0).end+1}return h}function m(b,c,d){return b=a("cssEditTree").parse(b,{offset:c}),c=b.nameRange(!0),d.end<c.end?c:l(b,d,!1)}function n(b,c,d){return c=a("cssEditTree").parse(b,{offset:c}),b=l(c,d,!0),!b&&(c=c.nameRange(!0),d.start>c.start)?c:b}var o=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,p=a("actions");p.add("select_next_item",function(b){return"css"==b.getSyntax()?c(b,!1,a("cssEditTree").extractRule,m):d(b)}),p.add("select_previous_item",function(b){return"css"==b.getSyntax()?c(b,!0,a("cssEditTree").extractRule,n):e(b)})}),emmet.exec(function(a){function b(b,c){var c=String((c||"out").toLowerCase()),f=a("editorUtils").outputInfo(b),g=a("range").create(b.getSelectionRange()),f=f.content;if(e&&!e.range.equal(g)&&(e=null),e&&g.length())if("in"==c){if("tag"==e.type&&!e.close)return!1;if(e.range.equal(e.outerRange))e.range=e.innerRange;else{var h=a("utils").narrowToNonSpace(f,e.innerRange);(e=d.find(f,h.start+1))&&e.range.equal(g)&&e.outerRange.equal(g)&&(e.range=e.innerRange)}}else!e.innerRange.equal(e.outerRange)&&e.range.equal(e.innerRange)&&g.equal(e.range)?e.range=e.outerRange:(e=d.find(f,g.start))&&e.range.equal(g)&&e.innerRange.equal(g)&&(e.range=e.outerRange);else e=d.find(f,g.start);return e&&!e.range.equal(g)?(b.createSelection(e.range.start,e.range.end),!0):(e=null,!1)}var c=a("actions"),d=a("htmlMatcher"),e=null;c.add("match_pair",b,{hidden:!0}),c.add("match_pair_inward",function(a){return b(a,"in")},{label:"HTML/Match Pair Tag (inward)"}),c.add("match_pair_outward",function(a){return b(a,"out")},{label:"HTML/Match Pair Tag (outward)"}),c.add("matching_pair",function(a){var b=String(a.getContent()),c=a.getCaretPos();return"<"==b.charAt(c)&&c++,(b=d.tag(b,c))&&b.close?(b.open.range.inside(c)?a.setCaretPos(b.close.range.start):a.setCaretPos(b.open.range.start),!0):!1},{label:"HTML/Go To Matching Tag Pair"})}),emmet.exec(function(a){a("actions").add("remove_tag",function(b){var c=a("utils"),d=a("editorUtils").outputInfo(b),e=a("htmlMatcher").tag(d.content,b.getCaretPos());if(e){if(e.close){var f=c.narrowToNonSpace(d.content,e.innerRange),g=c.findNewlineBounds(d.content,f.start),g=c.getLinePadding(g.substring(d.content)),d=f.substring(d.content),d=c.unindentString(d,g);b.replaceContent(c.getCaretPlaceholder()+c.escapeText(d),e.outerRange.start,e.outerRange.end)}else b.replaceContent(c.getCaretPlaceholder(),e.range.start,e.range.end);return!0}return!1},{label:"HTML/Remove Tag"})}),emmet.exec(function(a){a("actions").add("split_join_tag",function(b,c){var d=a("htmlMatcher"),e=a("editorUtils").outputInfo(b,null,c),f=a("profile").get(e.profile);if(d=d.tag(e.content,b.getCaretPos())){if(d.close){var e=a("utils"),f=f.selfClosing()||" /",f=d.open.range.substring(d.source).replace(/\s*>$/,f+">"),g=b.getCaretPos();f.length+d.outerRange.start<g&&(g=f.length+d.outerRange.start),f=e.escapeText(f),b.replaceContent(f,d.outerRange.start,d.outerRange.end)}else{var e=a("utils"),h=e.getNewline(),i=a("resources").getVariable("indentation"),g=b.getCaretPos(),f=f.tag_nl===!0?h+i+h:"",h=d.outerContent().replace(/\s*\/>$/,">"),g=d.outerRange.start+h.length;h+=f+"</"+d.open.name+">",h=e.escapeText(h),b.replaceContent(h,d.outerRange.start,d.outerRange.end)}b.setCaretPos(g),d=!0}else d=!1;return d},{label:"HTML/Split\\Join Tag Declaration"})}),emmet.define("reflectCSSValue",function(a,b){function c(b){var c=a("cssEditTree"),d=a("editorUtils").outputInfo(b),b=b.getCaretPos();if((c=c.parseFromPosition(d.content,b))&&(d=c.itemFromPosition(b,!0))){var f=c.source,g=c.options.offset,b=b-g-d.range().start;if(e.exec(!1,[d]),f!==c.source)return{data:c.source,start:g,end:g+f.length,caret:g+d.range().start+b}}}function d(b){var c,b=a("cssEditTree").baseName(b);return"opacity"==b||"filter"==b?/^(?:\-\w+\-)?(?:opacity|filter)$/:(c=b.match(/^border-radius-(top|bottom)(left|right)/))?RegExp("^(?:\\-\\w+\\-)?(?:"+b+"|border-"+c[1]+"-"+c[2]+"-radius)$"):(c=b.match(/^border-(top|bottom)-(left|right)-radius/))?RegExp("^(?:\\-\\w+\\-)?(?:"+b+"|border-radius-"+c[1]+c[2]+")$"):RegExp("^(?:\\-\\w+\\-)?"+b+"$")}var e=a("handlerList").create();return a("actions").add("reflect_css_value",function(b){return"css"!=b.getSyntax()?!1:a("actionUtils").compoundUpdate(b,c(b))},{label:"CSS/Reflect Value"}),e.add(function(c){var e=d(c.name());b.each(c.parent.list(),function(b){if(e.test(b.name())){var d,f=c.name(),g=c.value(),h=b.name();d=b.value();var i=a("cssEditTree"),j=a("utils"),f=i.baseName(f),h=i.baseName(h);d="opacity"==f&&"filter"==h?d.replace(/opacity=[^)]*/i,"opacity="+Math.floor(100*parseFloat(g))):"filter"==f&&"opacity"==h?(f=g.match(/opacity=([^)]*)/i))?j.prettifyNumber(parseInt(f[1],10)/100):d:g,b.value(d)}})},{order:-1}),{addHandler:function(a,b){e.add(a,b)},removeHandler:function(a){e.remove(a)}}}),emmet.exec(function(a){a("actions").add("evaluate_math_expression",function(b){var c=a("actionUtils"),d=a("utils"),e=String(b.getContent()),f=a("range").create(b.getSelectionRange());if(f.length()||(f=c.findExpressionBounds(b,function(a){return d.isNumeric(a)||-1!=".+-*/\\".indexOf(a)})),f&&f.length()){c=f.substring(e),c=c.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"Math.round($1/$2)");try{var g=d.prettifyNumber(new Function("return "+c)());return b.replaceContent(g,f.start,f.end),b.setCaretPos(f.start+g.length),!0}catch(h){}}return!1},{label:"Numbers/Evaluate Math Expression"})}),emmet.exec(function(a,b){function c(c,e){var f=a("utils"),g=!1,h=!1,i=a("actionUtils").findExpressionBounds(c,function(a,b,c){return f.isNumeric(a)?!0:"."==a?f.isNumeric(c.charAt(b+1))?h?!1:h=!0:!1:"-"==a?g?!1:g=!0:!1});if(i&&i.length()){var j=i.substring(String(c.getContent())),k=parseFloat(j);if(!b.isNaN(k)){if(k=f.prettifyNumber(k+e),/^(\-?)0+[1-9]/.test(j)){var l="";RegExp.$1&&(l="-",k=k.substring(1)),k=k.split("."),k[0]=f.zeroPadString(k[0],d(j)),k=l+k.join(".")}return c.replaceContent(k,i.start,i.end),c.createSelection(i.start,i.start+k.length),!0}}return!1}function d(a){return a=a.replace(/^\-/,""),~a.indexOf(".")?a.split(".")[0].length:a.length}var e=a("actions");b.each([1,-1,10,-10,.1,-.1],function(a){var b=a>0?"increment":"decrement";e.add(b+"_number_by_"+String(Math.abs(a)).replace(".","").substring(0,2),function(b){return c(b,a)},{label:"Numbers/"+b.charAt(0).toUpperCase()+b.substring(1)+" number by "+Math.abs(a)})})}),emmet.exec(function(a,b){var c=a("actions"),d=a("preferences");d.define("css.closeBraceIndentation","\n","Indentation before closing brace of CSS rule. Some users prefere indented closing brace of CSS rule for better readability. This preference’s value will be automatically inserted before closing brace when user adds newline in newly created CSS rule (e.g. when “Insert formatted linebreak” action will be performed in CSS file). If you’re such user, you may want to write put a value like <code>\\n\\t</code> in this preference."),c.add("insert_formatted_line_break_only",function(c){var e=a("utils"),f=a("resources"),g=a("editorUtils").outputInfo(c),h=c.getCaretPos(),i=e.getNewline();if(b.include(["html","xml","xsl"],g.syntax)){if(f=f.getVariable("indentation"),(g=a("htmlMatcher").tag(g.content,h))&&!g.innerRange.length())return c.replaceContent(i+f+e.getCaretPlaceholder()+i,h),!0}else if("css"==g.syntax&&(g=g.content,h&&"{"==g.charAt(h-1))){var j=d.get("css.closeBraceIndentation"),f=f.getVariable("indentation"),k="}"==g.charAt(h);if(!k)for(var l,m=h,n=g.length;n>m&&(l=g.charAt(m),"{"!=l);m++)if("}"==l){j="",k=!0;break}return k||(j+="}"),e=i+f+e.getCaretPlaceholder()+j,c.replaceContent(e,h),!0}return!1},{hidden:!0}),c.add("insert_formatted_line_break",function(b){if(!c.run("insert_formatted_line_break_only",b)){for(var d,e=a("utils"),f=a("editorUtils").getCurrentLinePadding(b),g=String(b.getContent()),h=b.getCaretPos(),i=g.length,e=e.getNewline(),j="",k=b.getCurrentLineRange().end+1;i>k&&(d=g.charAt(k)," "==d||"	"==d);k++)j+=d;j.length>f.length?b.replaceContent(e+j,h,h,!0):b.replaceContent(e,h)}return!0},{hidden:!0})}),emmet.exec(function(a){a("actions").add("merge_lines",function(b){var c=a("htmlMatcher"),d=a("utils"),e=a("editorUtils").outputInfo(b),f=a("range").create(b.getSelectionRange());if(!f.length()&&(c=c.find(e.content,b.getCaretPos()))&&(f=c.outerRange),f.length()){for(e=f.substring(e.content),e=d.splitByLines(e),c=1;c<e.length;c++)e[c]=e[c].replace(/^\s+/,"");return e=e.join("").replace(/\s{2,}/," "),c=e.length,e=d.escapeText(e),b.replaceContent(e,f.start,f.end),b.createSelection(f.start,f.start+c),!0}return!1})}),emmet.exec(function(a){function b(a,b,c){return c=c||0,b.charAt(c)==a.charAt(0)&&b.substr(c,a.length)==a}function c(b,c,d){var e=a("file"),f=a("actionUtils"),g=b.getFilePath();if(null===g)throw"You should save your file before using this action";var h=e.locateFile(g,c);if(null===h)throw"Can't find "+c+" file";return e.read(h,function(g,i){if(g)throw"Unable to read "+h+": "+g;var j=a("base64").encode(String(i));if(!j)throw"Can't encode file content to base64";j="data:"+(f.mimeTypes[String(e.getExt(h))]||"application/octet-stream")+";base64,"+j,b.replaceContent("$0"+j,d,d+c.length)}),!0}a("actions").add("encode_decode_data_url",function(d){var e=String(d.getSelection()),f=d.getCaretPos();if(!e)for(var g=String(d.getContent());f-->=0;){if(b("src=",g,f)){(g=g.substr(f).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))&&(e=g[3],f+=g[1].length);break}if(b("url(",g,f)){(g=g.substr(f).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))&&(e=g[3],f+=g[1].length);break}}if(e)if(b("data:",e))if(g=String(d.prompt("Enter path to file (absolute or relative)"))){var h=a("file"),i=h.createPath(d.getFilePath(),g);if(!i)throw"Can't save file";h.save(i,a("base64").decode(e.replace(/^data\:.+?;.+?,/,""))),d.replaceContent("$0"+g,f,f+e.length),d=!0}else d=!1;else d=c(d,e,f);else d=!1;return d},{label:"Encode\\Decode data:URL image"})}),emmet.exec(function(a,b){function c(c){var d=c.getCaretPos(),f=a("editorUtils").outputInfo(c),g=a("xmlEditTree").parseFromPosition(f.content,d,!0);g&&"img"==(g.name()||"").toLowerCase()&&e(c,g.value("src"),function(e){if(e){var f=g.range(!0);g.value("width",e.width),g.value("height",e.height,g.indexOf("width")+1),a("actionUtils").compoundUpdate(c,b.extend(f,{data:g.toString(),caret:d}))}})}function d(c){var d=c.getCaretPos(),f=a("editorUtils").outputInfo(c),g=a("cssEditTree").parseFromPosition(f.content,d,!0);if(g){var h,f=g.itemFromPosition(d,!0);f&&(h=/url\((["']?)(.+?)\1\)/i.exec(f.value()||""))&&e(c,h[2],function(e){if(e){var f=g.range(!0);g.value("width",e.width+"px"),g.value("height",e.height+"px",g.indexOf("width")+1),a("actionUtils").compoundUpdate(c,b.extend(f,{data:g.toString(),caret:d}))}})}}function e(b,c,d){var e=a("actionUtils");if(c){if(/^data:/.test(c))return b=a("base64").decode(c.replace(/^data\:.+?;.+?,/,"")),d(e.getImageSize(b));var f=a("file"),g=f.locateFile(b.getFilePath(),c);if(null===g)throw"Can't find "+c+" file";f.read(g,function(a,b){if(a)throw"Unable to read "+g+": "+a;d(e.getImageSize(String(b)))})}}a("actions").add("update_image_size",function(a){return b.include(["css","less","scss"],String(a.getSyntax()))?d(a):c(a),!0})}),emmet.define("cssResolver",function(a,b){function c(a){var b=a&&a.charCodeAt(0);return a&&"."==a||b>47&&58>b}function d(b){return b=a("utils").trim(b),~b.indexOf("/*")||/[\n\r]/.test(b)?!1:/^[a-z0-9\-]+\s*\:/i.test(b)?(b=a("tabStops").processText(b,{replaceCarets:!0,tabstop:function(){return"value"}}),2==b.split(":").length):!1}function e(b){if("-"==b.charAt(0)&&!/^\-[\.\d]/.test(b)&&(b=b.replace(/^\-+/,"")),"#"==b.charAt(0)){var c=b.replace(/^#+/,"")||"0";if("t"==c.toLowerCase())b="transparent";else{var d=a("utils").repeatString,b=null;switch(c.length){case 1:b=d(c,6);break;case 2:b=d(c,3);break;case 3:b=c.charAt(0)+c.charAt(0)+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2);break;case 4:b=c+c.substr(0,2);break;case 5:b=c+c.charAt(0);break;default:b=c.substr(0,6)}switch(q.get("css.color.short")&&(c=b.split(""),c[0]==c[1]&&c[2]==c[3]&&c[4]==c[5]&&(b=c[0]+c[2]+c[4])),q.get("css.color.case")){case"upper":b=b.toUpperCase();break;case"lower":b=b.toLowerCase()}b="#"+b}}else b=f(b);return b}function f(a){var b=q.getDict("css.keywordAliases");return a in b?b[a]:a}function g(a){return b.include(q.getArray("css.keywords"),f(a))}function h(a,c){var d=p[c];
return d||(d=b.find(p,function(a){return a.prefix==c})),d&&d.supports(a)}function i(a,c){var d=[];return b.each(p,function(b,c){h(a,c)&&d.push(c)}),!d.length&&!c&&b.each(p,function(a,b){a.obsolete||d.push(b)}),d}function j(a,c){b.isString(c)&&(c={prefix:c}),p[a]=b.extend({},o,c)}function k(a,c){if(c){var d=q.get(c+"."+a);if(!b.isUndefined(d))return d}return q.get("css."+a)}function l(c,e,f){return b.isString(c)||(c=c.data),d(c)?(e&&(~c.indexOf(";")?c=c.split(";").join(" !important;"):c+=" !important"),e=c.indexOf(":"),c=c.substring(0,e).replace(/\s+$/,"")+k("valueSeparator",f)+a("utils").trim(c.substring(e+1)),c.replace(/\s*;\s*$/,k("propertyEnd",f))):c}function m(a){var c=q.getArray(a);return b.each(q.getArray(a+"Addon"),function(a){"-"==a.charAt(0)?c=b.without(c,a.substr(1)):("+"==a.charAt(0)&&(a=a.substr(1)),c.push(a))}),c}var n=null,o={prefix:"emmet",obsolete:!1,transformName:function(a){return"-"+this.prefix+"-"+a},properties:function(){return m("css."+this.prefix+"Properties")||[]},supports:function(a){return b.include(this.properties(),a)}},p={},q=a("preferences");q.define("css.valueSeparator",": ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations."),q.define("css.propertyEnd",";","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations."),q.define("stylus.valueSeparator"," ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations in Stylus dialect."),q.define("stylus.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in Stylus dialect."),q.define("sass.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in SASS dialect."),q.define("css.autoInsertVendorPrefixes",!0,"Automatically generate vendor-prefixed copies of expanded CSS property. By default, Emmet will generate vendor-prefixed properties only when you put dash before abbreviation (e.g. <code>-bxsh</code>). With this option enabled, you don’t need dashes before abbreviations: Emmet will produce vendor-prefixed properties for you.");var r=b.template("A comma-separated list of CSS properties that may have <code><%= vendor %></code> vendor prefix. This list is used to generate a list of prefixed properties when expanding <code>-property</code> abbreviations. Empty list means that all possible CSS values may have <code><%= vendor %></code> prefix."),s=b.template("A comma-separated list of <em>additional</em> CSS properties for <code>css.<%= vendor %>Preperties</code> preference. You should use this list if you want to add or remove a few CSS properties to original set. To add a new property, simply write its name, to remove it, precede property with hyphen.<br>For example, to add <em>foo</em> property and remove <em>border-radius</em> one, the preference value will look like this: <code>foo, -border-radius</code>.");b.each({webkit:"animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-clip, background-composite, background-origin, background-size, border-fit, border-horizontal-spacing, border-image, border-vertical-spacing, box-align, box-direction, box-flex, box-flex-group, box-lines, box-ordinal-group, box-orient, box-pack, box-reflect, box-shadow, color-correction, column-break-after, column-break-before, column-break-inside, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, dashboard-region, font-smoothing, highlight, hyphenate-character, hyphenate-limit-after, hyphenate-limit-before, hyphens, line-box-contain, line-break, line-clamp, locale, margin-before-collapse, margin-after-collapse, marquee-direction, marquee-increment, marquee-repetition, marquee-style, mask-attachment, mask-box-image, mask-box-image-outset, mask-box-image-repeat, mask-box-image-slice, mask-box-image-source, mask-box-image-width, mask-clip, mask-composite, mask-image, mask-origin, mask-position, mask-repeat, mask-size, nbsp-mode, perspective, perspective-origin, rtl-ordering, text-combine, text-decorations-in-effect, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-fill-color, text-orientation, text-security, text-stroke-color, text-stroke-width, transform, transition, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, user-drag, user-modify, user-select, writing-mode, svg-shadow, box-sizing, border-radius",moz:"animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-inline-policy, binding, border-bottom-colors, border-image, border-left-colors, border-right-colors, border-top-colors, box-align, box-direction, box-flex, box-ordinal-group, box-orient, box-pack, box-shadow, box-sizing, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-width, float-edge, font-feature-settings, font-language-override, force-broken-image-icon, hyphens, image-region, orient, outline-radius-bottomleft, outline-radius-bottomright, outline-radius-topleft, outline-radius-topright, perspective, perspective-origin, stack-sizing, tab-size, text-blink, text-decoration-color, text-decoration-line, text-decoration-style, text-size-adjust, transform, transform-origin, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-focus, user-input, user-modify, user-select, window-shadow, background-clip, border-radius",ms:"accelerator, backface-visibility, background-position-x, background-position-y, behavior, block-progression, box-align, box-direction, box-flex, box-line-progression, box-lines, box-ordinal-group, box-orient, box-pack, content-zoom-boundary, content-zoom-boundary-max, content-zoom-boundary-min, content-zoom-chaining, content-zoom-snap, content-zoom-snap-points, content-zoom-snap-type, content-zooming, filter, flow-from, flow-into, font-feature-settings, grid-column, grid-column-align, grid-column-span, grid-columns, grid-layer, grid-row, grid-row-align, grid-row-span, grid-rows, high-contrast-adjust, hyphenate-limit-chars, hyphenate-limit-lines, hyphenate-limit-zone, hyphens, ime-mode, interpolation-mode, layout-flow, layout-grid, layout-grid-char, layout-grid-line, layout-grid-mode, layout-grid-type, line-break, overflow-style, perspective, perspective-origin, perspective-origin-x, perspective-origin-y, scroll-boundary, scroll-boundary-bottom, scroll-boundary-left, scroll-boundary-right, scroll-boundary-top, scroll-chaining, scroll-rails, scroll-snap-points-x, scroll-snap-points-y, scroll-snap-type, scroll-snap-x, scroll-snap-y, scrollbar-arrow-color, scrollbar-base-color, scrollbar-darkshadow-color, scrollbar-face-color, scrollbar-highlight-color, scrollbar-shadow-color, scrollbar-track-color, text-align-last, text-autospace, text-justify, text-kashida-space, text-overflow, text-size-adjust, text-underline-position, touch-action, transform, transform-origin, transform-origin-x, transform-origin-y, transform-origin-z, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-select, word-break, word-wrap, wrap-flow, wrap-margin, wrap-through, writing-mode",o:"dashboard-region, animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, border-image, link, link-source, object-fit, object-position, tab-size, table-baseline, transform, transform-origin, transition, transition-delay, transition-duration, transition-property, transition-timing-function, accesskey, input-format, input-required, marquee-dir, marquee-loop, marquee-speed, marquee-style"},function(a,b){q.define("css."+b+"Properties",a,r({vendor:b})),q.define("css."+b+"PropertiesAddon","",s({vendor:b}))}),q.define("css.unitlessProperties","z-index, line-height, opacity, font-weight, zoom","The list of properties whose values ​​must not contain units."),q.define("css.intUnit","px","Default unit for integer values"),q.define("css.floatUnit","em","Default unit for float values"),q.define("css.keywords","auto, inherit","A comma-separated list of valid keywords that can be used in CSS abbreviations."),q.define("css.keywordAliases","a:auto, i:inherit, s:solid, da:dashed, do:dotted, t:transparent","A comma-separated list of keyword aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:keyword_name</code>."),q.define("css.unitAliases","e:em, p:%, x:ex, r:rem","A comma-separated list of unit aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:unit_value</code>."),q.define("css.color.short",!0,"Should color values like <code>#ffffff</code> be shortened to <code>#fff</code> after abbreviation with color was expanded."),q.define("css.color.case","keep","Letter case of color values generated by abbreviations with color (like <code>c#0</code>). Possible values are <code>upper</code>, <code>lower</code> and <code>keep</code>."),q.define("css.fuzzySearch",!0,"Enable fuzzy search among CSS snippet names. When enabled, every <em>unknown</em> snippet will be scored against available snippet names (not values or CSS properties!). The match with best score will be used to resolve snippet value. For example, with this preference enabled, the following abbreviations are equal: <code>ov:h</code> == <code>ov-h</code> == <code>o-h</code> == <code>oh</code>"),q.define("css.fuzzySearchMinScore",.3,"The minium score (from 0 to 1) that fuzzy-matched abbreviation should achive. Lower values may produce many false-positive matches, higher values may reduce possible matches."),q.define("css.alignVendor",!1,"If set to <code>true</code>, all generated vendor-prefixed properties will be aligned by real property name."),j("w",{prefix:"webkit"}),j("m",{prefix:"moz"}),j("s",{prefix:"ms"}),j("o",{prefix:"o"});var t=["css","less","sass","scss","stylus"];a("resources").addResolver(function(a,c){return b.include(t,c)&&a.isElement()?n.expandToSnippet(a.abbreviation,c):null});var u=a("expandAbbreviation");return u.addHandler(function(a,c,d){if(!b.include(t,c))return!1;var e=a.getSelectionRange().end,f=u.findAbbreviation(a);return f&&(c=emmet.expandAbbreviation(f,c,d))?(f=e-f.length,d=e,";"==a.getContent().charAt(e)&&";"==c.charAt(c.length-1)&&d++,a.replaceContent(c,f,d),!0):!1}),n={addPrefix:j,supportsPrefix:h,prefixed:function(a,b){return h(a,b)?"-"+b+"-"+a:a},listPrefixes:function(){return b.map(p,function(a){return a.prefix})},getPrefix:function(a){return p[a]},removePrefix:function(a){a in p&&delete p[a]},extractPrefixes:function(a){if("-"!=a.charAt(0))return{property:a,prefixes:null};for(var b,c=1,d=a.length,e=[];d>c;){if(b=a.charAt(c),"-"==b){c++;break}if(!(b in p)){e.length=0,c=1;break}e.push(b),c++}return c==d-1&&(c=1,e.length=1),{property:a.substring(c),prefixes:e.length?e:"all"}},findValuesInAbbreviation:function(b,d){for(var e,d=d||"css",f=0,h=b.length,i="";h>f;){if(e=b.charAt(f),c(e)||"#"==e||"-"==e&&c(b.charAt(f+1))){i=b.substring(f);break}f++}for(e=b.substring(0,b.length-i.length),f=a("resources"),h=[];~e.indexOf("-")&&!f.findSnippet(d,e);){e=e.split("-");var j=e.pop();if(!g(j))break;h.unshift(j),e=e.join("-")}return h.join("-")+i},parseValues:function(d){for(var f=a("stringStream").create(d),h=[],i=null;i=f.next();)"#"==i?f.match(/^t|[0-9a-f]+/i,!0):"-"==i?((g(b.last(h))||f.start&&c(d.charAt(f.start-1)))&&(f.start=f.pos),f.match(/^\-?[0-9]*(\.[0-9]+)?[a-z%\.]*/,!0)):f.match(/^[0-9]*(\.[0-9]*)?[a-z%]*/,!0),h.push(f.current()),f.start=f.pos;return b.map(b.compact(h),e)},extractValues:function(a){var b=this.findValuesInAbbreviation(a);return b?{property:a.substring(0,a.length-b.length).replace(/-$/,""),values:this.parseValues(b)}:{property:a,values:null}},normalizeValue:function(a,c){var c=(c||"").toLowerCase(),d=q.getArray("css.unitlessProperties");return a.replace(/^(\-?[0-9\.]+)([a-z]*)$/,function(a,e,f){return f||"0"!=e&&!b.include(d,c)?(f?(a=q.getDict("css.unitAliases"),e+=f in a?a[f]:f):e=e.replace(/\.$/,"")+q.get(~e.indexOf(".")?"css.floatUnit":"css.intUnit"),e):e})},expand:function(c,e,f){var f=f||"css",g=a("resources"),h=q.get("css.autoInsertVendorPrefixes"),j=/^(.+)\!$/.test(c);j&&(c=RegExp.$1);var k=g.findSnippet(f,c);if(k&&!h)return l(k,j,f);var c=this.extractPrefixes(c),m=this.extractValues(c.property),c=b.extend(c,m);if(k?c.values=null:k=g.findSnippet(f,c.property),!k&&q.get("css.fuzzySearch")&&(k=g.fuzzyFindSnippet(f,c.property,parseFloat(q.get("css.fuzzySearchMinScore")))),k?b.isString(k)||(k=k.data):k=c.property+":${1};",!d(k))return k;var n=this.splitSnippet(k),o=[];!e&&c.values&&(e=b.map(c.values,function(a){return this.normalizeValue(a,n.name)},this).join(" ")+";"),n.value=e||n.value;var r,e="all"==c.prefixes||!c.prefixes&&h?i(n.name,h&&"all"!=c.prefixes):c.prefixes,s=[];if(b.each(e,function(a){a in p&&(r=p[a].transformName(n.name),s.push(r),o.push(l(r+":"+n.value,j,f)))}),o.push(l(n.name+":"+n.value,j,f)),s.push(n.name),q.get("css.alignVendor"))var t=a("utils").getStringsPads(s),o=b.map(o,function(a,b){return t[b]+a});return o},expandToSnippet:function(a,c){var d=this.expand(a,null,c);return b.isArray(d)?d.join("\n"):b.isString(d)?String(d):d.data},splitSnippet:function(b){var c=a("utils"),b=c.trim(b);return-1==b.indexOf(":")?{name:b,value:"${1};"}:(b=b.split(":"),{name:c.trim(b.shift()),value:c.trim(b.join(":")).replace(/^(\$\{0\}|\$0)(\s*;?)$/,"${1}$2")})},getSyntaxPreference:k,transformSnippet:l}}),emmet.define("cssGradient",function(a,b){function c(b){return a("utils").trim(b).replace(/\s+/g," ")}function d(a){var a=c(a),b=null,a=a.replace(/^(\w+\(.+?\))\s*/,function(a,c){return b=c,""});b||(a=a.split(" "),b=a[0],a=a[1]||"");var d={color:b};return a&&a.replace(/^(\-?[\d\.]+)([a-z%]+)?$/,function(a,b,c){d.position=b,~b.indexOf(".")?c="":c||(c="%"),c&&(d.unit=c)}),d}function e(a){var c=0;b.each(a,function(d,e){if(!e)return d.position=d.position||0;if(e!=a.length-1||"position"in d||(d.position=1),"position"in d){var f=a[c].position||0,g=(d.position-f)/(e-c);b.each(a.slice(c,e),function(a,b){a.position=f+g*b}),c=e}})}function f(a){var c=parseFloat(a);if(!b.isNaN(c))switch(c%360){case 0:return"left";case 90:return"bottom";case 180:return"right";case 240:return"top"}return a}function g(a){if(a=f(a),q.test(a))throw"The direction is an angle that can’t be converted.";var b=function(b){return~a.indexOf(b)?"100%":"0"};return b("right")+" "+b("bottom")+", "+b("left")+" "+b("top")}function h(a){var c=s.getArray("css.gradient.prefixes"),c=c?b.map(c,function(b){return"-"+b+"-"+a}):[];return c.push(a),c}function i(c,d){var e=[],f=a("cssResolver");return s.get("css.gradient.fallback")&&~d.toLowerCase().indexOf("background")&&e.push({name:"background-color",value:"${1:"+c.colorStops[0].color+"}"}),b.each(s.getArray("css.gradient.prefixes"),function(a){var b=f.prefixed(d,a);if("webkit"==a&&s.get("css.gradient.oldWebkit"))try{e.push({name:b,value:o.oldWebkitLinearGradient(c)})}catch(g){}e.push({name:b,value:o.toString(c,a)})}),e.sort(function(a,b){return b.name.length-a.name.length})}function j(c,d,e){var f=c.parent,g=a("utils"),j=a("preferences").get("css.alignVendor"),k=c.styleSeparator,l=c.styleBefore;if(b.each(f.getAll(h(c.name())),function(a){a!=c&&/gradient/i.test(a.value())&&(a.styleSeparator.length<k.length&&(k=a.styleSeparator),a.styleBefore.length<l.length&&(l=a.styleBefore),f.remove(a))}),j){if(l!=c.styleBefore){var m=c.fullRange();f._updateSource(l,m.start,m.start+c.styleBefore.length),c.styleBefore=l}k!=c.styleSeparator&&(f._updateSource(k,c.nameRange().end,c.valueRange().start),c.styleSeparator=k)}var n=c.value();if(e||(e=a("range").create(0,c.value())),c.value(function(a){return g.replaceSubstring(n,a,e)}(o.toString(d))+"${2}"),d=i(d,c.name()),j){j=b.pluck(d,"value"),m=b.pluck(d,"name"),j.push(c.value()),m.push(c.name());var p=g.getStringsPads(b.map(j,function(a){return a.substring(0,a.indexOf("("))})),q=g.getStringsPads(m);c.name(b.last(q)+c.name()),b.each(d,function(a,b){a.name=q[b]+a.name,a.value=p[b]+a.value}),c.value(b.last(p)+c.value())}b.each(d,function(a){f.add(a.name,a.value,f.indexOf(c))})}function k(a){var c=a.value(),d=null;return(a=b.find(a.valueParts(),function(a){return d=o.parse(a.substring(c))}))&&d?{gradient:d,valueRange:a}:null}function l(c,d){var e=s.get("css.gradient.defaultProperty");if(!e)return!1;var f=String(c.getContent()),g=a("range").create(c.getCurrentLineRange()),h=g.substring(f).replace(/^\s+/,function(a){return g.start+=a.length,""}).replace(/\s+$/,function(a){return g.end-=a.length,""}),f=a("cssResolver");if(h=o.parse(h)){var j=i(h,e);j.push({name:e,value:o.toString(h)+"${2}"});var k=f.getSyntaxPreference("valueSeparator",d),l=f.getSyntaxPreference("propertyEnd",d);if(a("preferences").get("css.alignVendor")){var m=a("utils").getStringsPads(b.map(j,function(a){return a.value.substring(0,a.value.indexOf("("))}));b.each(j,function(a,b){a.value=m[b]+a.value})}return j=b.map(j,function(a){return a.name+k+a.value+l}),c.replaceContent(j.join("\n"),g.start,g.end),!0}return!1}function m(c,d){var e=null,f=a("cssEditTree").parseFromPosition(c,d,!0);return f&&((e=f.itemFromPosition(d,!0))||(e=b.find(f.list(),function(a){return a.range(!0).end==d}))),{rule:f,property:e}}var n=["top","to bottom","0deg"],o=null,p=["css","less","sass","scss","stylus","styl"],q=/\d+deg/i,r=/top|bottom|left|right/i,s=a("preferences");return s.define("css.gradient.prefixes","webkit, moz, o","A comma-separated list of vendor-prefixes for which values should be generated."),s.define("css.gradient.oldWebkit",!0,"Generate gradient definition for old Webkit implementations"),s.define("css.gradient.omitDefaultDirection",!0,"Do not output default direction definition in generated gradients."),s.define("css.gradient.defaultProperty","background-image","When gradient expanded outside CSS value context, it will produce properties with this name."),s.define("css.gradient.fallback",!1,"With this option enabled, CSS gradient generator will produce <code>background-color</code> property with gradient first color as fallback for old browsers."),a("expandAbbreviation").addHandler(function(c,d,e){if(e=a("editorUtils").outputInfo(c,d,e),!b.include(p,e.syntax))return!1;var f=c.getCaretPos(),g=e.content,e=m(g,f);if(e.property){var h=k(e.property);if(h){var i=e.rule.options.offset||0,n=i+e.rule.toString().length;if(/[\n\r]/.test(e.property.value())){var o=e.property.valueRange(!0).start+h.valueRange.end,g=a("utils").replaceSubstring(g,";",o),f=m(g,f);f.property&&(h=k(f.property),e=f)}e.property.end(";");var f=e.property.name(),g=a("resources"),o=a("preferences"),q=g.findSnippet(d,f);return!q&&o.get("css.fuzzySearch")&&(q=g.fuzzyFindSnippet(d,f,parseFloat(o.get("css.fuzzySearchMinScore")))),q?(b.isString(q)||(q=q.data),d=a("cssResolver").splitSnippet(q).name):d=void 0,d&&e.property.name(d),j(e.property,h.gradient,h.valueRange),c.replaceContent(e.rule.toString(),i,n,!0),!0}}return l(c,d)}),a("reflectCSSValue").addHandler(function(c){var d=a("utils"),e=k(c);if(!e)return!1;var f=c.value(),g=function(a){return d.replaceSubstring(f,a,e.valueRange)};return b.each(c.parent.getAll(h(c.name())),function(a){if(a!==c){var b=a.value().match(/^\s*(\-([a-z]+)\-)?linear\-gradient/);b?a.value(g(o.toString(e.gradient,b[2]||""))):a.value().match(/\s*\-webkit\-gradient/)&&a.value(g(o.oldWebkitLinearGradient(e.gradient)))}}),!0}),o={parse:function(e){var f=null;return a("utils").trim(e).replace(/^([\w\-]+)\((.+?)\)$/,function(e,g,h){if(g=g.toLowerCase().replace(/^\-[a-z]+\-/,""),"linear-gradient"==g||"lg"==g){for(var i,e=n[0],h=a("stringStream").create(a("utils").trim(h)),g=[];i=h.next();)","==h.peek()?(g.push(h.current()),h.next(),h.eatSpace(),h.start=h.pos):"("==i&&h.skipTo(")");return g.push(h.current()),g=b.compact(b.map(g,c)),g.length?((q.test(g[0])||r.test(g[0]))&&(e=g.shift()),f={type:"linear",direction:e,colorStops:b.map(g,d)}):f=null,""}return e}),f},oldWebkitLinearGradient:function(a){if(b.isString(a)&&(a=this.parse(a)),!a)return null;var c=b.map(a.colorStops,b.clone);return b.each(c,function(a){if("position"in a){if(!~a.position.indexOf(".")&&"%"!=a.unit)throw"Can't convert color stop '"+(a.position+(a.unit||""))+"'";a.position=parseFloat(a.position)/("%"==a.unit?100:1)}}),e(c),c=b.map(c,function(a,b){return a.position||b?1==a.position&&b==c.length-1?"to("+a.color+")":"color-stop("+a.position.toFixed(2).replace(/\.?0+$/,"")+", "+a.color+")":"from("+a.color+")"}),"-webkit-gradient(linear, "+g(a.direction)+", "+c.join(", ")+")"},toString:function(a,c){if("linear"==a.type){var d=(c?"-"+c+"-":"")+"linear-gradient",e=b.map(a.colorStops,function(a){return a.color+("position"in a?" "+a.position+(a.unit||""):"")});return a.direction&&(!s.get("css.gradient.omitDefaultDirection")||!b.include(n,a.direction))&&e.unshift(a.direction),d+"("+e.join(", ")+")"}}}}),emmet.exec(function(a,b){var c=a("handlerList").create(),d=a("resources");b.extend(d,{addGenerator:function(a,d,e){b.isString(a)&&(a=RegExp(a)),c.add(function(b,c){var e;return(e=a.exec(b.name()))?d(e,b,c):null},e)}}),d.addResolver(function(){return c.exec(null,b.toArray(arguments))})}),emmet.define("tagName",function(a,b){var c={empty:[],blockLevel:"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6".split(","),inlineLevel:"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var".split(",")},d={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};return{resolve:function(a){return a=(a||"").toLowerCase(),a in d?this.getMapping(a):this.isInlineLevel(a)?"span":"div"},getMapping:function(a){return d[a.toLowerCase()]},isInlineLevel:function(a){return this.isTypeOf(a,"inlineLevel")},isBlockLevel:function(a){return this.isTypeOf(a,"blockLevel")},isEmptyElement:function(a){return this.isTypeOf(a,"empty")},isTypeOf:function(a,d){return b.include(c[d],a)},addMapping:function(a,b){d[a]=b},removeMapping:function(a){a in d&&delete d[a]},addElementToCollection:function(a,d){c[d]||(c[d]=[]);var e=this.getCollection(d);b.include(e,a)||e.push(a)},removeElementFromCollection:function(a,d){d in c&&(c[d]=b.without(this.getCollection(d),a))},getCollection:function(a){return c[a]}}}),emmet.exec(function(a,b){function c(){return{element:h.get("bem.elementSeparator"),modifier:h.get("bem.modifierSeparator")}}function d(d){if(a("abbreviationUtils").isSnippet(d))return d;d.__bem={block:"",element:"",modifier:""};var g=e(d.attribute("class")).split(" "),h=/^[a-z]\-/i;return d.__bem.block=b.find(g,function(a){return h.test(a)}),d.__bem.block||(h=/^[a-z]/i,d.__bem.block=b.find(g,function(a){return h.test(a)})||""),(g=b.chain(g).map(function(a){var b;b=f(a,d,"element"),b=f(b,d,"modifier");var e="",g="",h="",a=c();if(~b.indexOf(a.element)?(e=b.split(a.element),h=e[1].split(a.modifier),e=e[0],g=h.shift(),h=h.join(a.modifier)):~b.indexOf(a.modifier)&&(h=b.split(a.modifier),e=h.shift(),h=h.join(a.modifier)),e||g||h){e||(e=d.__bem.block),b=e;var i=[];g&&(b+=a.element+g),i.push(b),h&&i.push(b+a.modifier+h),d.__bem.block=e,d.__bem.element=g,d.__bem.modifier=h,a=i}else a=b;return a}).flatten().uniq().value().join(" "))&&d.attribute("class",g),d}function e(b){var d=a("utils"),b=(" "+(b||"")+" ").replace(/\s+/g," "),e=h.get("bem.shortElementPrefix");return e&&(e=RegExp("\\s("+d.escapeForRegexp(e)+"+)","g"),b=b.replace(e,function(a,b){return" "+d.repeatString(c().element,b.length)})),d.trim(b)}function f(a,b,d){var e=c(),f=RegExp("^("+e[d]+")+","g");if(f.test(a)){for(var g=0,f=a.replace(f,function(a){return g=a.length/e[d].length,""}),h=b;h.parent&&g--;)h=h.parent;if(h&&h.__bem||(h=b),h&&h.__bem)return a=h.__bem.block,"modifier"==d&&h.__bem.element&&(a+=e.element+h.__bem.element),a+e[d]+f}return a}function g(c,e){c.name&&d(c,e);var f=a("abbreviationUtils");return b.each(c.children,function(a){g(a,e),!f.isSnippet(a)&&a.start&&(i=!0)}),c}var h=a("preferences");h.define("bem.elementSeparator","__","Class name’s element separator."),h.define("bem.modifierSeparator","_","Class name’s modifier separator."),h.define("bem.shortElementPrefix","-","Symbol for describing short “block-element” notation. Class names prefixed with this symbol will be treated as element name for parent‘s block name. Each symbol instance traverses one level up in parsed tree for block name lookup. Empty value will disable short notation.");var i=!1;a("filters").add("bem",function(b,c){return i=!1,b=g(b,c),i&&(b=a("filters").apply(b,"html",c)),b})}),emmet.exec(function(a,b){function c(c,d,f){var g=a("utils"),h=e.get("filter.commentTrigger");("*"==h||b.find(h.split(","),function(a){return!!c.attribute(g.trim(a))}))&&(h={node:c,name:c.name(),padding:c.parent?c.parent.padding:"",attr:function(a,b,d){return(a=c.attribute(a))?(b||"")+a+(d||""):""}},d=g.normalizeNewline(d?d(h):""),f=g.normalizeNewline(f?f(h):""),c.start=c.start.replace(/</,d+"<"),c.end=c.end.replace(/>/,">"+f))}function d(e,f,g){var h=a("abbreviationUtils");return b.each(e.children,function(a){h.isBlock(a)&&c(a,f,g),d(a,f,g)}),e}var e=a("preferences");e.define("filter.commentAfter",'\n<!-- /<%= attr("id", "#") %><%= attr("class", ".") %> -->',"A definition of comment that should be placed <i>after</i> matched element when <code>comment</code> filter is applied. This definition is an ERB-style template passed to <code>_.template()</code> function (see Underscore.js docs for details). In template context, the following properties and functions are availabe:\n<ul><li><code>attr(name, before, after)</code> – a function that outputsspecified attribute value concatenated with <code>before</code> and <code>after</code> strings. If attribute doesn't exists, the empty string will be returned.</li><li><code>node</code> – current node (instance of <code>AbbreviationNode</code>)</li><li><code>name</code> – name of current tag</li><li><code>padding</code> – current string padding, can be used for formatting</li></ul>"),e.define("filter.commentBefore","","A definition of comment that should be placed <i>before</i> matched element when <code>comment</code> filter is applied. For more info, read description of <code>filter.commentAfter</code> property"),e.define("filter.commentTrigger","id, class","A comma-separated list of attribute names that should exist in abbreviatoin where comment should be added. If you wish to add comment for every element, set this option to <code>*</code>"),a("filters").add("c",function(a){var c=b.template(e.get("filter.commentBefore")),f=b.template(e.get("filter.commentAfter"));return d(a,c,f)})}),emmet.exec(function(a,b){function c(a){return a.replace(/([<>&])/g,function(a,b){return d[b]})}var d={"<":"&lt;",">":"&gt;","&":"&amp;"};a("filters").add("e",function e(a){return b.each(a.children,function(a){a.start=c(a.start),a.end=c(a.end),a.content=c(a.content),e(a)}),a})}),emmet.exec(function(a,b){function c(a){return a.parent&&!a.parent.parent&&!a.index()}function d(b,c){var d=a("abbreviationUtils");return c.tag_nl===!0||d.isBlock(b)?!0:b.parent&&c.inline_break?e(b.parent,c):!1}function e(c,d){var e=0,f=a("abbreviationUtils");return!!b.find(c.children,function(a){return a.isTextNode()||!f.isInline(a)?e=0:f.isInline(a)&&e++,e>=d.inline_break?!0:void 0})}function f(c,d){var f=a("abbreviationUtils");return b.any(c.children,function(a){return f.isSnippet(a)?!1:!f.isInline(a)})?!0:e(c,d)}var g=a("preferences");g.define("format.noIndentTags","html","A comma-separated list of tag names that should not get inner indentation."),g.define("format.forceIndentationForTags","body","A comma-separated list of tag names that should <em>always</em> get inner indentation."),a("filters").add("_format",function h(e,i,j){var j=j||0,k=a("abbreviationUtils");return b.each(e.children,function(e){if(k.isSnippet(e))e.start=e.end="",c(e)||i.tag_nl===!1||!d(e,i)||e.parent.parent&&a("abbreviationUtils").isInline(e.parent)||(e.start=a("utils").getNewline()+e.start);else{e.start=e.end="%s";var l=a("utils"),m=a("abbreviationUtils"),n=m.isUnary(e),l=l.getNewline(),o=b.include(g.getArray("format.noIndentTags")||[],e.name())?"":a("resources").getVariable("indentation");if(i.tag_nl!==!1){var p=i.tag_nl===!0&&(i.tag_nl_leaf||e.children.length);p||(p=b.include(g.getArray("format.forceIndentationForTags")||[],e.name())),e.isTextNode()||(d(e,i)?(c(e)||m.isSnippet(e.parent)&&!e.index()||(e.start=l+e.start),(m.hasBlockChildren(e)||e.children.length&&d(e.children[0],i)||p&&!n)&&(e.end=l+e.end),(m.hasTagsInContent(e)||p&&!e.children.length&&!n)&&(e.start+=l+o)):m.isInline(e)&&e.parent&&a("abbreviationUtils").hasBlockChildren(e.parent)&&!c(e)?e.start=l+e.start:m.isInline(e)&&f(e,i)&&(e.end=l+e.end),e.padding=o)}}h(e,i,j+1)}),e})}),emmet.exec(function(a,b){function c(c,d){var e="",f=[],g=d.attributeQuote(),h=d.cursor();return b.each(c.attributeList(),function(b){var c=d.attributeName(b.name);switch(c.toLowerCase()){case"id":e+="#"+(b.value||h);break;case"class":e+="."+a("utils").trim(b.value||h).replace(/\s+/g,".");break;default:f.push(":"+c+" => "+g+(b.value||h)+g)}}),f.length&&(e+="{"+f.join(", ")+"}"),e}a("filters").add("haml",function d(e,f,g){var g=g||0,h=a("abbreviationUtils");return g||(e=a("filters").apply(e,"_format",f)),b.each(e.children,function(b){if(!h.isSnippet(b)&&b.parent){var e=a("abbreviationUtils"),i=a("utils"),j=c(b,f),k=f.cursor(),e=e.isUnary(b),l=f.self_closing_tag&&e?"/":"",m="",m="%"+f.tagName(b.name());"%div"==m.toLowerCase()&&j&&-1==j.indexOf("{")&&(m=""),b.end="",b.start=i.replaceSubstring(b.start,m+j+l+" ",b.start.indexOf("%s"),"%s"),!b.children.length&&!e&&(b.start+=k)}d(b,f,g+1)}),e})}),emmet.exec(function(a,b){function c(a,c){var d=c.attributeQuote(),e=c.cursor();return b.map(a.attributeList(),function(a){return" "+c.attributeName(a.name)+"="+d+(a.value||e)+d}).join("")}a("filters").add("html",function d(e,f,g){var g=g||0,h=a("abbreviationUtils");return g||(e=a("filters").apply(e,"_format",f)),b.each(e.children,function(b){if(!h.isSnippet(b)&&b.parent){var e=a("abbreviationUtils"),i=a("utils"),j=c(b,f),k=f.cursor(),e=e.isUnary(b),l="",m="";if(!b.isTextNode()){var n=f.tagName(b.name());e?(l="<"+n+j+f.selfClosing()+">",b.end=""):(l="<"+n+j+">",m="</"+n+">")}b.start=i.replaceSubstring(b.start,l,b.start.indexOf("%s"),"%s"),b.end=i.replaceSubstring(b.end,m,b.end.indexOf("%s"),"%s"),!b.children.length&&!e&&!~b.content.indexOf(k)&&!a("tabStops").extract(b.content).tabstops.length&&(b.start+=k)}d(b,f,g+1)}),e})}),emmet.exec(function(a,b){var c=/^\s+/,d=/[\n\r]/g;a("filters").add("s",function e(f){var g=a("abbreviationUtils");return b.each(f.children,function(a){g.isSnippet(a)||(a.start=a.start.replace(c,""),a.end=a.end.replace(c,"")),a.start=a.start.replace(d,""),a.end=a.end.replace(d,""),a.content=a.content.replace(d,""),e(a)}),f})}),emmet.exec(function(a,b){function c(a,d){return b.each(a.children,function(a){a.content&&(a.content=a.content.replace(d,"")),c(a,d)}),a}a("preferences").define("filter.trimRegexp","[\\s|\\u00a0]*[\\d|#|\\-|*|\\u2022]+\\.?\\s*","Regular expression used to remove list markers (numbers, dashes, bullets, etc.) in <code>t</code> (trim) filter. The trim filter is useful for wrapping with abbreviation lists, pased from other documents (for example, Word documents)."),a("filters").add("t",function(b){var d=RegExp(a("preferences").get("filter.trimRegexp"));
return c(b,d)})}),emmet.exec(function(a,b){var c={"xsl:variable":1,"xsl:with-param":1};a("filters").add("xsl",function d(e){var f=a("abbreviationUtils");return b.each(e.children,function(a){!f.isSnippet(a)&&(a.name()||"").toLowerCase()in c&&a.children.length&&(a.start=a.start.replace(/\s+select\s*=\s*(['"]).*?\1/,"")),d(a)}),e})}),emmet.define("lorem",function(a,b){function c(a,b){return Math.round(Math.random()*(b-a)+a)}function d(a,d){for(var e=a.length,f=Math.min(e,d),g=[];g.length<f;){var h=c(0,e-1);b.include(g,h)||g.push(h)}return b.map(g,function(b){return a[b]})}function e(a,d){return a.length&&(a[0]=a[0].charAt(0).toUpperCase()+a[0].substring(1)),a.join(" ")+(d||(b.isString("?!...")?"?!...".charAt(c(0,4)):"?!..."[c(0,4)]))}function f(a){var d=a.length,e=0,e=d>3&&6>=d?c(0,1):d>6&&12>=d?c(0,2):c(1,4);b.each(b.range(e),function(b){b<a.length-1&&(a[b]+=",")})}var g={en:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},ru:{common:["далеко-далеко","за","словесными","горами","в стране","гласных","и согласных","живут","рыбные","тексты"],words:["вдали","от всех","они","буквенных","домах","на берегу","семантика","большого","языкового","океана","маленький","ручеек","даль","журчит","по всей","обеспечивает","ее","всеми","необходимыми","правилами","эта","парадигматическая","страна","которой","жаренные","предложения","залетают","прямо","рот","даже","всемогущая","пунктуация","не","имеет","власти","над","рыбными","текстами","ведущими","безорфографичный","образ","жизни","однажды","одна","маленькая","строчка","рыбного","текста","имени","lorem","ipsum","решила","выйти","большой","мир","грамматики","великий","оксмокс","предупреждал","о","злых","запятых","диких","знаках","вопроса","коварных","точках","запятой","но","текст","дал","сбить","себя","толку","он","собрал","семь","своих","заглавных","букв","подпоясал","инициал","за","пояс","пустился","дорогу","взобравшись","первую","вершину","курсивных","гор","бросил","последний","взгляд","назад","силуэт","своего","родного","города","буквоград","заголовок","деревни","алфавит","подзаголовок","своего","переулка","грустный","реторический","вопрос","скатился","его","щеке","продолжил","свой","путь","дороге","встретил","рукопись","она","предупредила","моей","все","переписывается","несколько","раз","единственное","что","меня","осталось","это","приставка","возвращайся","ты","лучше","свою","безопасную","страну","послушавшись","рукописи","наш","продолжил","свой","путь","вскоре","ему","повстречался","коварный","составитель","рекламных","текстов","напоивший","языком","речью","заманивший","свое","агенство","которое","использовало","снова","снова","своих","проектах","если","переписали","то","живет","там","до","сих","пор"]}},h=a("preferences");return h.define("lorem.defaultLang","en"),a("abbreviationParser").addPreprocessor(function(a){var b,i=/^(?:lorem|lipsum)([a-z]{2})?(\d*)$/i;a.findAll(function(a){if(a._name&&(b=a._name.match(i))){var j=b[2]||30,k=b[1]||h.get("lorem.defaultLang")||"en";a._name="",a.data("forceNameResolving",a.isRepeating()||a.attributeList().length),a.data("pasteOverwrites",!0),a.data("paste",function(a){var b;b=j;var h=!a;if(a=g[k]){var i=[],l=0;for(b=parseInt(b,10),h&&a.common&&(h=a.common.slice(0,b),h.length>5&&(h[4]+=","),l+=h.length,i.push(e(h,".")));b>l;)h=d(a.words,Math.min(c(3,12)*c(1,5),b-l)),l+=h.length,f(h),i.push(e(h));b=i.join(" ")}else b="";return b})}})}),{addLang:function(a,c){b.isString(c)?c={words:b.compact(c.split(" "))}:b.isArray(c)&&(c={words:c}),g[a]=c}}}),emmet.exec(function(a){a("actions").add("select_line",function(a){var b=a.getCurrentLineRange();return a.createSelection(b.start,b.end),!0})}),emmet.exec(function(a){a("resources").setVocabulary({variables:{lang:"en",locale:"en-US",charset:"UTF-8",indentation:"	",newline:"\n"},css:{filters:"html",snippets:{"@i":"@import url(|);","@import":"@import url(|);","@m":"@media ${1:screen} {\n	|\n}","@media":"@media ${1:screen} {\n	|\n}","@f":"@font-face {\n	font-family:|;\n	src:url(|);\n}","@f+":"@font-face {\n	font-family: '${1:FontName}';\n	src: url('${2:FileName}.eot');\n	src: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n		 url('${2:FileName}.woff') format('woff'),\n		 url('${2:FileName}.ttf') format('truetype'),\n		 url('${2:FileName}.svg#${1:FontName}') format('svg');\n	font-style: ${3:normal};\n	font-weight: ${4:normal};\n}","@kf":"@-webkit-keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}\n@-o-keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}\n@-moz-keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}\n@keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}",anim:"animation:|;","anim-":"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode};",animdel:"animation-delay:${1:time};",animdir:"animation-direction:${1:normal};","animdir:n":"animation-direction:normal;","animdir:r":"animation-direction:reverse;","animdir:a":"animation-direction:alternate;","animdir:ar":"animation-direction:alternate-reverse;",animdur:"animation-duration:${1:0}s;",animfm:"animation-fill-mode:${1:both};","animfm:f":"animation-fill-mode:forwards;","animfm:b":"animation-fill-mode:backwards;","animfm:bt":"animation-fill-mode:both;","animfm:bh":"animation-fill-mode:both;",animic:"animation-iteration-count:${1:1};","animic:i":"animation-iteration-count:infinite;",animn:"animation-name:${1:none};",animps:"animation-play-state:${1:running};","animps:p":"animation-play-state:paused;","animps:r":"animation-play-state:running;",animtf:"animation-timing-function:${1:linear};","animtf:e":"animation-timing-function:ease;","animtf:ei":"animation-timing-function:ease-in;","animtf:eo":"animation-timing-function:ease-out;","animtf:eio":"animation-timing-function:ease-in-out;","animtf:l":"animation-timing-function:linear;","animtf:cb":"animation-timing-function:cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1});",ap:"appearance:${none};","!":"!important",pos:"position:${1:relative};","pos:s":"position:static;","pos:a":"position:absolute;","pos:r":"position:relative;","pos:f":"position:fixed;",t:"top:|;","t:a":"top:auto;",r:"right:|;","r:a":"right:auto;",b:"bottom:|;","b:a":"bottom:auto;",l:"left:|;","l:a":"left:auto;",z:"z-index:|;","z:a":"z-index:auto;",fl:"float:${1:left};","fl:n":"float:none;","fl:l":"float:left;","fl:r":"float:right;",cl:"clear:${1:both};","cl:n":"clear:none;","cl:l":"clear:left;","cl:r":"clear:right;","cl:b":"clear:both;",colm:"columns:|;",colmc:"column-count:|;",colmf:"column-fill:|;",colmg:"column-gap:|;",colmr:"column-rule:|;",colmrc:"column-rule-color:|;",colmrs:"column-rule-style:|;",colmrw:"column-rule-width:|;",colms:"column-span:|;",colmw:"column-width:|;",d:"display:${1:block};","d:n":"display:none;","d:b":"display:block;","d:i":"display:inline;","d:ib":"display:inline-block;","d:li":"display:list-item;","d:ri":"display:run-in;","d:cp":"display:compact;","d:tb":"display:table;","d:itb":"display:inline-table;","d:tbcp":"display:table-caption;","d:tbcl":"display:table-column;","d:tbclg":"display:table-column-group;","d:tbhg":"display:table-header-group;","d:tbfg":"display:table-footer-group;","d:tbr":"display:table-row;","d:tbrg":"display:table-row-group;","d:tbc":"display:table-cell;","d:rb":"display:ruby;","d:rbb":"display:ruby-base;","d:rbbg":"display:ruby-base-group;","d:rbt":"display:ruby-text;","d:rbtg":"display:ruby-text-group;",v:"visibility:${1:hidden};","v:v":"visibility:visible;","v:h":"visibility:hidden;","v:c":"visibility:collapse;",ov:"overflow:${1:hidden};","ov:v":"overflow:visible;","ov:h":"overflow:hidden;","ov:s":"overflow:scroll;","ov:a":"overflow:auto;",ovx:"overflow-x:${1:hidden};","ovx:v":"overflow-x:visible;","ovx:h":"overflow-x:hidden;","ovx:s":"overflow-x:scroll;","ovx:a":"overflow-x:auto;",ovy:"overflow-y:${1:hidden};","ovy:v":"overflow-y:visible;","ovy:h":"overflow-y:hidden;","ovy:s":"overflow-y:scroll;","ovy:a":"overflow-y:auto;",ovs:"overflow-style:${1:scrollbar};","ovs:a":"overflow-style:auto;","ovs:s":"overflow-style:scrollbar;","ovs:p":"overflow-style:panner;","ovs:m":"overflow-style:move;","ovs:mq":"overflow-style:marquee;",zoo:"zoom:1;",zm:"zoom:1;",cp:"clip:|;","cp:a":"clip:auto;","cp:r":"clip:rect(${1:top} ${2:right} ${3:bottom} ${4:left});",bxz:"box-sizing:${1:border-box};","bxz:cb":"box-sizing:content-box;","bxz:bb":"box-sizing:border-box;",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:color};","bxsh:r":"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:spread }rgb(${6:0}, ${7:0}, ${8:0});","bxsh:ra":"box-shadow:${1:inset }${2:h} ${3:v} ${4:blur} ${5:spread }rgba(${6:0}, ${7:0}, ${8:0}, .${9:5});","bxsh:n":"box-shadow:none;",m:"margin:|;","m:a":"margin:auto;",mt:"margin-top:|;","mt:a":"margin-top:auto;",mr:"margin-right:|;","mr:a":"margin-right:auto;",mb:"margin-bottom:|;","mb:a":"margin-bottom:auto;",ml:"margin-left:|;","ml:a":"margin-left:auto;",p:"padding:|;",pt:"padding-top:|;",pr:"padding-right:|;",pb:"padding-bottom:|;",pl:"padding-left:|;",w:"width:|;","w:a":"width:auto;",h:"height:|;","h:a":"height:auto;",maw:"max-width:|;","maw:n":"max-width:none;",mah:"max-height:|;","mah:n":"max-height:none;",miw:"min-width:|;",mih:"min-height:|;",mar:"max-resolution:${1:res};",mir:"min-resolution:${1:res};",ori:"orientation:|;","ori:l":"orientation:landscape;","ori:p":"orientation:portrait;",ol:"outline:|;","ol:n":"outline:none;",olo:"outline-offset:|;",olw:"outline-width:|;",ols:"outline-style:|;",olc:"outline-color:#${1:000};","olc:i":"outline-color:invert;",bd:"border:|;","bd+":"border:${1:1px} ${2:solid} ${3:#000};","bd:n":"border:none;",bdbk:"border-break:${1:close};","bdbk:c":"border-break:close;",bdcl:"border-collapse:|;","bdcl:c":"border-collapse:collapse;","bdcl:s":"border-collapse:separate;",bdc:"border-color:#${1:000};","bdc:t":"border-color:transparent;",bdi:"border-image:url(|);","bdi:n":"border-image:none;",bdti:"border-top-image:url(|);","bdti:n":"border-top-image:none;",bdri:"border-right-image:url(|);","bdri:n":"border-right-image:none;",bdbi:"border-bottom-image:url(|);","bdbi:n":"border-bottom-image:none;",bdli:"border-left-image:url(|);","bdli:n":"border-left-image:none;",bdci:"border-corner-image:url(|);","bdci:n":"border-corner-image:none;","bdci:c":"border-corner-image:continue;",bdtli:"border-top-left-image:url(|);","bdtli:n":"border-top-left-image:none;","bdtli:c":"border-top-left-image:continue;",bdtri:"border-top-right-image:url(|);","bdtri:n":"border-top-right-image:none;","bdtri:c":"border-top-right-image:continue;",bdbri:"border-bottom-right-image:url(|);","bdbri:n":"border-bottom-right-image:none;","bdbri:c":"border-bottom-right-image:continue;",bdbli:"border-bottom-left-image:url(|);","bdbli:n":"border-bottom-left-image:none;","bdbli:c":"border-bottom-left-image:continue;",bdf:"border-fit:${1:repeat};","bdf:c":"border-fit:clip;","bdf:r":"border-fit:repeat;","bdf:sc":"border-fit:scale;","bdf:st":"border-fit:stretch;","bdf:ow":"border-fit:overwrite;","bdf:of":"border-fit:overflow;","bdf:sp":"border-fit:space;",bdlen:"border-length:|;","bdlen:a":"border-length:auto;",bdsp:"border-spacing:|;",bds:"border-style:|;","bds:n":"border-style:none;","bds:h":"border-style:hidden;","bds:dt":"border-style:dotted;","bds:ds":"border-style:dashed;","bds:s":"border-style:solid;","bds:db":"border-style:double;","bds:dtds":"border-style:dot-dash;","bds:dtdtds":"border-style:dot-dot-dash;","bds:w":"border-style:wave;","bds:g":"border-style:groove;","bds:r":"border-style:ridge;","bds:i":"border-style:inset;","bds:o":"border-style:outset;",bdw:"border-width:|;",bdtw:"border-top-width:|;",bdrw:"border-right-width:|;",bdbw:"border-bottom-width:|;",bdlw:"border-left-width:|;",bdt:"border-top:|;",bt:"border-top:|;","bdt+":"border-top:${1:1px} ${2:solid} ${3:#000};","bdt:n":"border-top:none;",bdts:"border-top-style:|;","bdts:n":"border-top-style:none;",bdtc:"border-top-color:#${1:000};","bdtc:t":"border-top-color:transparent;",bdr:"border-right:|;",br:"border-right:|;","bdr+":"border-right:${1:1px} ${2:solid} ${3:#000};","bdr:n":"border-right:none;",bdrst:"border-right-style:|;","bdrst:n":"border-right-style:none;",bdrc:"border-right-color:#${1:000};","bdrc:t":"border-right-color:transparent;",bdb:"border-bottom:|;",bb:"border-bottom:|;","bdb+":"border-bottom:${1:1px} ${2:solid} ${3:#000};","bdb:n":"border-bottom:none;",bdbs:"border-bottom-style:|;","bdbs:n":"border-bottom-style:none;",bdbc:"border-bottom-color:#${1:000};","bdbc:t":"border-bottom-color:transparent;",bdl:"border-left:|;",bl:"border-left:|;","bdl+":"border-left:${1:1px} ${2:solid} ${3:#000};","bdl:n":"border-left:none;",bdls:"border-left-style:|;","bdls:n":"border-left-style:none;",bdlc:"border-left-color:#${1:000};","bdlc:t":"border-left-color:transparent;",bdrs:"border-radius:|;",bdtrrs:"border-top-right-radius:|;",bdtlrs:"border-top-left-radius:|;",bdbrrs:"border-bottom-right-radius:|;",bdblrs:"border-bottom-left-radius:|;",bg:"background:|;","bg+":"background:${1:#fff} url(${2}) ${3:0} ${4:0} ${5:no-repeat};","bg:n":"background:none;","bg:ie":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='${1:x}.png',sizingMethod='${2:crop}');",bgc:"background-color:#${1:fff};","bgc:t":"background-color:transparent;",bgi:"background-image:url(|);","bgi:n":"background-image:none;",bgr:"background-repeat:|;","bgr:n":"background-repeat:no-repeat;","bgr:x":"background-repeat:repeat-x;","bgr:y":"background-repeat:repeat-y;","bgr:sp":"background-repeat:space;","bgr:rd":"background-repeat:round;",bga:"background-attachment:|;","bga:f":"background-attachment:fixed;","bga:s":"background-attachment:scroll;",bgp:"background-position:${1:0} ${2:0};",bgpx:"background-position-x:|;",bgpy:"background-position-y:|;",bgbk:"background-break:|;","bgbk:bb":"background-break:bounding-box;","bgbk:eb":"background-break:each-box;","bgbk:c":"background-break:continuous;",bgcp:"background-clip:${1:padding-box};","bgcp:bb":"background-clip:border-box;","bgcp:pb":"background-clip:padding-box;","bgcp:cb":"background-clip:content-box;","bgcp:nc":"background-clip:no-clip;",bgo:"background-origin:|;","bgo:pb":"background-origin:padding-box;","bgo:bb":"background-origin:border-box;","bgo:cb":"background-origin:content-box;",bgsz:"background-size:|;","bgsz:a":"background-size:auto;","bgsz:ct":"background-size:contain;","bgsz:cv":"background-size:cover;",c:"color:#${1:000};","c:r":"color:rgb(${1:0}, ${2:0}, ${3:0});","c:ra":"color:rgba(${1:0}, ${2:0}, ${3:0}, .${4:5});",cm:"/* |${child} */",cnt:"content:'|';","cnt:n":"content:normal;","cnt:oq":"content:open-quote;","cnt:noq":"content:no-open-quote;","cnt:cq":"content:close-quote;","cnt:ncq":"content:no-close-quote;","cnt:a":"content:attr(|);","cnt:c":"content:counter(|);","cnt:cs":"content:counters(|);",tbl:"table-layout:|;","tbl:a":"table-layout:auto;","tbl:f":"table-layout:fixed;",cps:"caption-side:|;","cps:t":"caption-side:top;","cps:b":"caption-side:bottom;",ec:"empty-cells:|;","ec:s":"empty-cells:show;","ec:h":"empty-cells:hide;",lis:"list-style:|;","lis:n":"list-style:none;",lisp:"list-style-position:|;","lisp:i":"list-style-position:inside;","lisp:o":"list-style-position:outside;",list:"list-style-type:|;","list:n":"list-style-type:none;","list:d":"list-style-type:disc;","list:c":"list-style-type:circle;","list:s":"list-style-type:square;","list:dc":"list-style-type:decimal;","list:dclz":"list-style-type:decimal-leading-zero;","list:lr":"list-style-type:lower-roman;","list:ur":"list-style-type:upper-roman;",lisi:"list-style-image:|;","lisi:n":"list-style-image:none;",q:"quotes:|;","q:n":"quotes:none;","q:ru":"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C';","q:en":"quotes:'\\201C' '\\201D' '\\2018' '\\2019';",ct:"content:|;","ct:n":"content:normal;","ct:oq":"content:open-quote;","ct:noq":"content:no-open-quote;","ct:cq":"content:close-quote;","ct:ncq":"content:no-close-quote;","ct:a":"content:attr(|);","ct:c":"content:counter(|);","ct:cs":"content:counters(|);",coi:"counter-increment:|;",cor:"counter-reset:|;",va:"vertical-align:${1:top};","va:sup":"vertical-align:super;","va:t":"vertical-align:top;","va:tt":"vertical-align:text-top;","va:m":"vertical-align:middle;","va:bl":"vertical-align:baseline;","va:b":"vertical-align:bottom;","va:tb":"vertical-align:text-bottom;","va:sub":"vertical-align:sub;",ta:"text-align:${1:left};","ta:l":"text-align:left;","ta:c":"text-align:center;","ta:r":"text-align:right;","ta:j":"text-align:justify;","ta-lst":"text-align-last:|;","tal:a":"text-align-last:auto;","tal:l":"text-align-last:left;","tal:c":"text-align-last:center;","tal:r":"text-align-last:right;",td:"text-decoration:${1:none};","td:n":"text-decoration:none;","td:u":"text-decoration:underline;","td:o":"text-decoration:overline;","td:l":"text-decoration:line-through;",te:"text-emphasis:|;","te:n":"text-emphasis:none;","te:ac":"text-emphasis:accent;","te:dt":"text-emphasis:dot;","te:c":"text-emphasis:circle;","te:ds":"text-emphasis:disc;","te:b":"text-emphasis:before;","te:a":"text-emphasis:after;",th:"text-height:|;","th:a":"text-height:auto;","th:f":"text-height:font-size;","th:t":"text-height:text-size;","th:m":"text-height:max-size;",ti:"text-indent:|;","ti:-":"text-indent:-9999px;",tj:"text-justify:|;","tj:a":"text-justify:auto;","tj:iw":"text-justify:inter-word;","tj:ii":"text-justify:inter-ideograph;","tj:ic":"text-justify:inter-cluster;","tj:d":"text-justify:distribute;","tj:k":"text-justify:kashida;","tj:t":"text-justify:tibetan;",tov:"text-overflow:${ellipsis};","tov:e":"text-overflow:ellipsis;","tov:c":"text-overflow:clip;",to:"text-outline:|;","to+":"text-outline:${1:0} ${2:0} ${3:#000};","to:n":"text-outline:none;",tr:"text-replace:|;","tr:n":"text-replace:none;",tt:"text-transform:${1:uppercase};","tt:n":"text-transform:none;","tt:c":"text-transform:capitalize;","tt:u":"text-transform:uppercase;","tt:l":"text-transform:lowercase;",tw:"text-wrap:|;","tw:n":"text-wrap:normal;","tw:no":"text-wrap:none;","tw:u":"text-wrap:unrestricted;","tw:s":"text-wrap:suppress;",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000};","tsh:r":"text-shadow:${1:h} ${2:v} ${3:blur} rgb(${4:0}, ${5:0}, ${6:0});","tsh:ra":"text-shadow:${1:h} ${2:v} ${3:blur} rgba(${4:0}, ${5:0}, ${6:0}, .${7:5});","tsh+":"text-shadow:${1:0} ${2:0} ${3:0} ${4:#000};","tsh:n":"text-shadow:none;",trf:"transform:|;","trf:skx":"transform: skewX(${1:angle});","trf:sky":"transform: skewY(${1:angle});","trf:sc":"transform: scale(${1:x}, ${2:y});","trf:scx":"transform: scaleX(${1:x});","trf:scy":"transform: scaleY(${1:y});","trf:r":"transform: rotate(${1:angle});","trf:t":"transform: translate(${1:x}, ${2:y});","trf:tx":"transform: translateX(${1:x});","trf:ty":"transform: translateY(${1:y});",trfo:"transform-origin:|;",trfs:"transform-style:${1:preserve-3d};",trs:"transition:${1:prop} ${2:time};",trsde:"transition-delay:${1:time};",trsdu:"transition-duration:${1:time};",trsp:"transition-property:${1:prop};",trstf:"transition-timing-function:${1:tfunc};",lh:"line-height:|;",whs:"white-space:|;","whs:n":"white-space:normal;","whs:p":"white-space:pre;","whs:nw":"white-space:nowrap;","whs:pw":"white-space:pre-wrap;","whs:pl":"white-space:pre-line;",whsc:"white-space-collapse:|;","whsc:n":"white-space-collapse:normal;","whsc:k":"white-space-collapse:keep-all;","whsc:l":"white-space-collapse:loose;","whsc:bs":"white-space-collapse:break-strict;","whsc:ba":"white-space-collapse:break-all;",wob:"word-break:|;","wob:n":"word-break:normal;","wob:k":"word-break:keep-all;","wob:l":"word-break:loose;","wob:bs":"word-break:break-strict;","wob:ba":"word-break:break-all;",wos:"word-spacing:|;",wow:"word-wrap:|;","wow:nm":"word-wrap:normal;","wow:n":"word-wrap:none;","wow:u":"word-wrap:unrestricted;","wow:s":"word-wrap:suppress;","wow:b":"word-wrap:break-word;",lts:"letter-spacing:|;",f:"font:|;","f+":"font:${1:1em} ${2:Arial,sans-serif};",fw:"font-weight:|;","fw:n":"font-weight:normal;","fw:b":"font-weight:bold;","fw:br":"font-weight:bolder;","fw:lr":"font-weight:lighter;",fs:"font-style:${italic};","fs:n":"font-style:normal;","fs:i":"font-style:italic;","fs:o":"font-style:oblique;",fv:"font-variant:|;","fv:n":"font-variant:normal;","fv:sc":"font-variant:small-caps;",fz:"font-size:|;",fza:"font-size-adjust:|;","fza:n":"font-size-adjust:none;",ff:"font-family:|;","ff:s":"font-family:serif;","ff:ss":"font-family:sans-serif;","ff:c":"font-family:cursive;","ff:f":"font-family:fantasy;","ff:m":"font-family:monospace;","ff:a":'font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;',fef:"font-effect:|;","fef:n":"font-effect:none;","fef:eg":"font-effect:engrave;","fef:eb":"font-effect:emboss;","fef:o":"font-effect:outline;",fem:"font-emphasize:|;",femp:"font-emphasize-position:|;","femp:b":"font-emphasize-position:before;","femp:a":"font-emphasize-position:after;",fems:"font-emphasize-style:|;","fems:n":"font-emphasize-style:none;","fems:ac":"font-emphasize-style:accent;","fems:dt":"font-emphasize-style:dot;","fems:c":"font-emphasize-style:circle;","fems:ds":"font-emphasize-style:disc;",fsm:"font-smooth:|;","fsm:a":"font-smooth:auto;","fsm:n":"font-smooth:never;","fsm:aw":"font-smooth:always;",fst:"font-stretch:|;","fst:n":"font-stretch:normal;","fst:uc":"font-stretch:ultra-condensed;","fst:ec":"font-stretch:extra-condensed;","fst:c":"font-stretch:condensed;","fst:sc":"font-stretch:semi-condensed;","fst:se":"font-stretch:semi-expanded;","fst:e":"font-stretch:expanded;","fst:ee":"font-stretch:extra-expanded;","fst:ue":"font-stretch:ultra-expanded;",op:"opacity:|;","op:ie":"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);","op:ms":"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';",rsz:"resize:|;","rsz:n":"resize:none;","rsz:b":"resize:both;","rsz:h":"resize:horizontal;","rsz:v":"resize:vertical;",cur:"cursor:${pointer};","cur:a":"cursor:auto;","cur:d":"cursor:default;","cur:c":"cursor:crosshair;","cur:ha":"cursor:hand;","cur:he":"cursor:help;","cur:m":"cursor:move;","cur:p":"cursor:pointer;","cur:t":"cursor:text;",pgbb:"page-break-before:|;","pgbb:au":"page-break-before:auto;","pgbb:al":"page-break-before:always;","pgbb:l":"page-break-before:left;","pgbb:r":"page-break-before:right;",pgbi:"page-break-inside:|;","pgbi:au":"page-break-inside:auto;","pgbi:av":"page-break-inside:avoid;",pgba:"page-break-after:|;","pgba:au":"page-break-after:auto;","pgba:al":"page-break-after:always;","pgba:l":"page-break-after:left;","pgba:r":"page-break-after:right;",orp:"orphans:|;",us:"user-select:${none};",wid:"widows:|;",wfsm:"-webkit-font-smoothing:${antialiased};","wfsm:a":"-webkit-font-smoothing:antialiased;","wfsm:s":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:sa":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:n":"-webkit-font-smoothing:none;"}},html:{filters:"html",profile:"html",snippets:{"!!!":"<!doctype html>","!!!4t":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',"!!!4s":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">',"!!!xt":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',"!!!xs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',"!!!xxs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',c:"<!-- |${child} -->","cc:ie6":"<!--[if lte IE 6]>\n	${child}|\n<![endif]-->","cc:ie":"<!--[if IE]>\n	${child}|\n<![endif]-->","cc:noie":"<!--[if !IE]><!-->\n	${child}|\n<!--<![endif]-->"},abbreviations:{"!":"html:5",a:'<a href="">',"a:link":'<a href="http://|">',"a:mail":'<a href="mailto:|">',abbr:'<abbr title="">',acronym:'<acronym title="">',base:'<base href="" />',basefont:"<basefont/>",br:"<br/>",frame:"<frame/>",hr:"<hr/>",bdo:'<bdo dir="">',"bdo:r":'<bdo dir="rtl">',"bdo:l":'<bdo dir="ltr">',col:"<col/>",link:'<link rel="stylesheet" href="" />',"link:css":'<link rel="stylesheet" href="${1:style}.css" />',"link:print":'<link rel="stylesheet" href="${1:print}.css" media="print" />',"link:favicon":'<link rel="shortcut icon" type="image/x-icon" href="${1:favicon.ico}" />',"link:touch":'<link rel="apple-touch-icon" href="${1:favicon.png}" />',"link:rss":'<link rel="alternate" type="application/rss+xml" title="RSS" href="${1:rss.xml}" />',"link:atom":'<link rel="alternate" type="application/atom+xml" title="Atom" href="${1:atom.xml}" />',meta:"<meta/>","meta:utf":'<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />',"meta:win":'<meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />',"meta:vp":'<meta name="viewport" content="width=${1:device-width}, user-scalable=${2:no}, initial-scale=${3:1.0}, maximum-scale=${4:1.0}, minimum-scale=${5:1.0}" />',"meta:compat":'<meta http-equiv="X-UA-Compatible" content="${1:IE=7}" />',style:"<style>",script:"<script>","script:src":'<script src="">',img:'<img src="" alt="" />',iframe:'<iframe src="" frameborder="0">',embed:'<embed src="" type="" />',object:'<object data="" type="">',param:'<param name="" value="" />',map:'<map name="">',area:'<area shape="" coords="" href="" alt="" />',"area:d":'<area shape="default" href="" alt="" />',"area:c":'<area shape="circle" coords="" href="" alt="" />',"area:r":'<area shape="rect" coords="" href="" alt="" />',"area:p":'<area shape="poly" coords="" href="" alt="" />',form:'<form action="">',"form:get":'<form action="" method="get">',"form:post":'<form action="" method="post">',label:'<label for="">',input:'<input type="${1:text}" />',inp:'<input type="${1:text}" name="" id="" />',"input:hidden":"input[type=hidden name]","input:h":"input:hidden","input:text":"inp","input:t":"inp","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:password":"inp[type=password]","input:p":"input:password","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:checkbox":"inp[type=checkbox]","input:c":"input:checkbox","input:radio":"inp[type=radio]","input:r":"input:radio","input:range":"inp[type=range]","input:file":"inp[type=file]","input:f":"input:file","input:submit":'<input type="submit" value="" />',"input:s":"input:submit","input:image":'<input type="image" src="" alt="" />',"input:i":"input:image","input:button":'<input type="button" value="" />',"input:b":"input:button",isindex:"<isindex/>","input:reset":"input:button[type=reset]",select:'<select name="" id="">',option:'<option value="">',textarea:'<textarea name="" id="" cols="${1:30}" rows="${2:10}">',"menu:context":"menu[type=context]>","menu:c":"menu:context","menu:toolbar":"menu[type=toolbar]>","menu:t":"menu:toolbar",video:'<video src="">',audio:'<audio src="">',"html:xml":'<html xmlns="http://www.w3.org/1999/xhtml">',keygen:"<keygen/>",command:"<command/>",bq:"blockquote",acr:"acronym",fig:"figure",figc:"figcaption",ifr:"iframe",emb:"embed",obj:"object",src:"source",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button","btn:b":"button[type=button]","btn:r":"button[type=reset]","btn:s":"button[type=submit]",optg:"optgroup",opt:"option",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",cmd:"command",doc:"html>(head>meta[charset=UTF-8]+title{${1:Document}})+body",doc4:'html>(head>meta[http-equiv="Content-Type" content="text/html;charset=${charset}"]+title{${1:Document}})+body',"html:4t":"!!!4t+doc4[lang=${lang}]","html:4s":"!!!4s+doc4[lang=${lang}]","html:xt":"!!!xt+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xs":"!!!xs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xxs":"!!!xxs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:5":"!!!+doc[lang=${lang}]","ol+":"ol>li","ul+":"ul>li","dl+":"dl>dt+dd","map+":"map>area","table+":"table>tr>td","colgroup+":"colgroup>col","colg+":"colgroup>col","tr+":"tr>td","select+":"select>option","optgroup+":"optgroup>option","optg+":"optgroup>option"}},xml:{"extends":"html",profile:"xml",filters:"html"},xsl:{"extends":"html",profile:"xml",filters:"html, xsl",abbreviations:{tm:'<xsl:template match="" mode="">',tmatch:"tm",tn:'<xsl:template name="">',tname:"tn",call:'<xsl:call-template name=""/>',ap:'<xsl:apply-templates select="" mode=""/>',api:"<xsl:apply-imports/>",imp:'<xsl:import href=""/>',inc:'<xsl:include href=""/>',ch:"<xsl:choose>","xsl:when":'<xsl:when test="">',wh:"xsl:when",ot:"<xsl:otherwise>","if":'<xsl:if test="">',par:'<xsl:param name="">',pare:'<xsl:param name="" select=""/>',"var":'<xsl:variable name="">',vare:'<xsl:variable name="" select=""/>',wp:'<xsl:with-param name="" select=""/>',key:'<xsl:key name="" match="" use=""/>',elem:'<xsl:element name="">',attr:'<xsl:attribute name="">',attrs:'<xsl:attribute-set name="">',cp:'<xsl:copy select=""/>',co:'<xsl:copy-of select=""/>',val:'<xsl:value-of select=""/>',each:'<xsl:for-each select="">',"for":"each",tex:"<xsl:text></xsl:text>",com:"<xsl:comment>",msg:'<xsl:message terminate="no">',fall:"<xsl:fallback>",num:'<xsl:number value=""/>',nam:'<namespace-alias stylesheet-prefix="" result-prefix=""/>',pres:'<xsl:preserve-space elements=""/>',strip:'<xsl:strip-space elements=""/>',proc:'<xsl:processing-instruction name="">',sort:'<xsl:sort select="" order=""/>',"choose+":"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}"},snippets:{"!!!":'<?xml version="1.0" encoding="UTF-8"?>'}},haml:{filters:"haml","extends":"html",profile:"xml"},scss:{"extends":"css"},sass:{"extends":"css"},less:{"extends":"css"},stylus:{"extends":"css"},styl:{"extends":"stylus"}},"system")}),emmet.define("cm-editor-proxy",function(a,b){function c(){if(CodeMirror.version>="3.1")return CodeMirror.Pass;throw CodeMirror.Pass}var d=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform),e={"Cmd-E":"expand_abbreviation",Tab:"expand_abbreviation_with_tab","Cmd-D":"match_pair_outward","Shift-Cmd-D":"match_pair_inward","Cmd-T":"matching_pair","Shift-Cmd-A":"wrap_with_abbreviation","Ctrl-Alt-Right":"next_edit_point","Ctrl-Alt-Left":"prev_edit_point","Cmd-L":"select_line","Cmd-Shift-M":"merge_lines","Cmd-/":"toggle_comment","Cmd-J":"split_join_tag","Cmd-K":"remove_tag","Shift-Cmd-Y":"evaluate_math_expression","Ctrl-Up":"increment_number_by_1","Ctrl-Down":"decrement_number_by_1","Alt-Up":"increment_number_by_01","Alt-Down":"decrement_number_by_01","Ctrl-Alt-Up":"increment_number_by_10","Ctrl-Alt-Down":"decrement_number_by_10","Shift-Cmd-.":"select_next_item","Shift-Cmd-,":"select_previous_item","Cmd-B":"reflect_css_value",Enter:"insert_formatted_line_break_only"},f={"text/html":"html","application/xml":"xml","text/xsl":"xsl","text/css":"css","text/x-less":"less"};
CodeMirror.defineOption?CodeMirror.defineOption("profile","html"):CodeMirror.defaults.profile="html";var g={context:null,getSelectionRange:function(){var a=this.getCaretPos();return{start:a,end:a+this.getSelection().length}},createSelection:function(a,b){a==b?this.context.setCursor(this.context.posFromIndex(a)):this.context.setSelection(this.context.posFromIndex(a),this.context.posFromIndex(b))},getCurrentLineRange:function(){var a=this.context.getCursor(!0);return{start:this.context.indexFromPos({line:a.line,ch:0}),end:this.context.indexFromPos({line:a.line,ch:this.context.getLine(a.line).length})}},getCaretPos:function(){return this.context.indexFromPos(this.context.getCursor(!0))},setCaretPos:function(a){this.createSelection(a,a)},getCurrentLine:function(){return this.context.getLine(this.context.getCursor(!0).line)||""},replaceContent:function(c,d,e,f){b.isUndefined(e)&&(e=b.isUndefined(d)?content.length:d),b.isUndefined(d)&&(d=0);var g=a("utils");f||(c=g.padString(c,g.getLinePaddingFromPosition(this.getContent(),d)));var f=a("tabStops").extract(c,{escape:function(a){return a}}),c=f.text,h=f.tabstops[0];h?(h.start+=d,h.end+=d):h={start:c.length+d,end:c.length+d};var i=this;(this.context.operation||this.context.compoundChange).call(this.context,function(){i.context.replaceRange(c,i.context.posFromIndex(d),i.context.posFromIndex(e)),i.createSelection(h.start,h.end)})},getContent:function(){return this.context.getValue()},getSyntax:function(){var b=this.context.getOption("mode");return b in f&&(b=f[b]),a("actionUtils").detectSyntax(this,b)},getProfileName:function(){return this.context.getOption("profile")?this.context.getOption("profile"):a("actionUtils").detectProfile(this)},prompt:function(a){return prompt(a)},getSelection:function(){return this.context.getSelection()||""},getFilePath:function(){return location.href},setupContext:function(b){this.context=b;var c="	";b.getOption("indentWithTabs")||(c=a("utils").repeatString(" ",b.getOption("indentUnit"))),a("resources").setVariable("indentation",c)},addAction:function(b,e,f){var h="emmet."+b;CodeMirror.commands[h]||(CodeMirror.commands[h]=function(d){var e;g.setupContext(d);var f;if((f="expand_abbreviation_with_tab"==b)&&((f=g.getSelection())||(f=g.getSyntax(),f=!a("resources").hasSyntax(f))),f)e=c();else{f=!0;try{var h=a("actions").run(b,g);("next_edit_point"==b||"prev_edit_point"==b)&&d.replaceSelection(""),!h&&"insert_formatted_line_break_only"==b&&(f=!1)}catch(i){}f||(e=c())}return e}),e&&(f||(CodeMirror.keyMap&&CodeMirror.keyMap["default"]?f=CodeMirror.keyMap["default"]:(CodeMirror.defaults.extraKeys||(CodeMirror.defaults.extraKeys={}),f=CodeMirror.defaults.extraKeys)),d||(e=e.replace("Cmd","Ctrl")),f&&(f[e]=h))}};return"undefined"!=typeof emmetKeymap&&(e=emmetKeymap),b.each(e,function(a,b){g.addAction(a,b)}),g}),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?(this._wrapped=a,void 0):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.3";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2);return x.map(a,function(a){return(x.isFunction(b)?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b){return x.isEmpty(b)?[]:x.filter(a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.bindAll=function(a){var b=h.call(arguments,1);return 0==b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=F(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(a),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+(0|Math.random()*(b-a+1))};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=""+ ++I;return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){c=x.defaults({},c,x.templateSettings);var d=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(L,function(a){return"\\"+K[a]}),c&&(f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(f+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),g&&(f+="';\n"+g+"\n__p+='"),e=h+b.length,b}),f+="';\n",c.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(c.variable||"obj","_",f)}catch(h){throw h.source=f,h}if(b)return g(b,x);var i=function(a){return g.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+f+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(a){function b(){if(f.length){for(var a,c,d=+new Date,e=[],g=0;g<f.length;g++){a=f[g];var c=a.options;1===a.pos||a.endTime<=d?(c.step.call(a,a.pos=1),a.stop()):(a.pos=c.easing(d-a.startTime,0,1,c.duration),c.step.call(a,a.pos),e.push(a))}f=e,f.length&&requestAnimationFrame(b)}}function c(a){-1==_.indexOf(f,a)&&(f.push(a),1==f.length&&b())}function d(a){this.options=_.extend({},g,a||{});var b=this.options.easing;if(_.isString(b)){if(!h[b])throw'Unknown "'+b+'" easing function';this.options.easing=h[b]}if(!_.isFunction(this.options.easing))throw"Easing should be a function";this._id=_.uniqueId("tw"),this.options.autostart&&this.start()}var e=function(){},f=[],g={duration:500,easing:"linear",step:e,complete:e,autostart:!0},h={linear:function(a,b,c,d){return c*a/d+b},easeInQuad:function(a,b,c,d){return c*(a/=d)*a+b},easeOutQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOutQuad:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},easeInCubic:function(a,b,c,d){return c*(a/=d)*a*a+b},easeOutCubic:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},easeInOutCubic:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},easeInExpo:function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b-.001*c},easeOutExpo:function(a,b,c,d){return a==d?b+c:1.001*c*(-Math.pow(2,-10*a/d)+1)+b},easeInOutExpo:function(a,b,c,d){return 0==a?b:a==d?b+c:(a/=d/2)<1?c/2*Math.pow(2,10*(a-1))+b-5e-4*c:1.0005*(c/2)*(-Math.pow(2,-10*--a)+2)+b},easeInElastic:function(a,b,c,d,e,f){var g;return 0==a?b:1==(a/=d)?b+c:(f||(f=.3*d),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),-(e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f))+b)},easeOutElastic:function(a,b,c,d,e,f){var g;return 0==a?b:1==(a/=d)?b+c:(f||(f=.3*d),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),e*Math.pow(2,-10*a)*Math.sin((a*d-g)*2*Math.PI/f)+c+b)},easeInOutElastic:function(a,b,c,d,e,f){var g;return 0==a?b:2==(a/=d/2)?b+c:(f||(f=d*.3*1.5),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),1>a?-.5*e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+b:.5*e*Math.pow(2,-10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+c+b)},easeInBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*(a/=d)*a*((e+1)*a-e)+b},easeOutBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},easeInOutBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),(a/=d/2)<1?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},easeInBounce:function(a,b,c,d){return c-$.easing.easeOutBounce(x,d-a,0,c,d)+b},easeOutBounce:function(a,b,c,d){return(a/=d)<1/2.75?c*7.5625*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},easeInOutBounce:function(a,b,c,d){return d/2>a?.5*$.easing.easeInBounce(x,2*a,0,c,d)+b:.5*$.easing.easeOutBounce(x,2*a-d,0,c,d)+.5*c+b}};d.prototype={start:function(){this.pos=0,this.startTime=+new Date,this.endTime=this.startTime+this.options.duration,this.animating=!0,c(this)},stop:function(){this.animating=!1,this.options.complete()}},d.__getAnims=function(){return f},a.Tween=d}(this),function(a){"use strict";function b(a){return a.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()})}function c(a,c){var d=/^-?\d+(?:px)?$/i,e=/^-?\d(?:\.\d+)?/,g=/\d$/,h=b(c);if(a.style[h])return a.style[h];if(f){var i=window.getComputedStyle(a,"");return i.getPropertyValue(c)}if(a.currentStyle){var j=a.currentStyle[c]||a.currentStyle[h],k=a.style||a;if(!d.test(j)&&e.test(j)){var l=k.left,m=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;var n=g.test(j)?"em":"";k.left="fontSize"===h?"1em":j+n||0,j=k.pixelLeft+"px",k.left=l,a.runtimeStyle.left=m}return j}}function d(a,b){if(a){var c={"line-height":1,"z-index":1,opacity:1},d=_.map(b,function(a,b){var d=b.replace(/([A-Z])/g,"-$1").toLowerCase();return d+":"+(!_.isNumber(a)||d in c?a:a+"px")});a.style.cssText+=";"+d.join(";")}}function e(a){return a.length===+a.length?_.toArray(a):_.isArray(a)?a:[a]}var f=document.defaultView&&document.defaultView.getComputedStyle;_.extend(a,{trim:function(a){return a&&"trim"in String.prototype?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")},hasClass:function(a,b){return~(" "+a.className+" ").indexOf(" "+b+" ")},addClass:function(a,b){return _.each(e(a),function(a){var c=_.filter(b.split(/\s+/g),function(b){return b&&!this.hasClass(a,b)},this);c.length&&(a.className+=(a.className?" ":"")+c.join(" "))},this),a},removeClass:function(a,b){var c=/\s+/g;return _.each(e(a),function(a){a.className=_.difference((a.className||"").split(c),b.split(/\s+/g)).join(" ")},this),a},toggleClass:function(a,b,c){return _.each(e(a),function(a){var d=c;_.isUndefined(d)&&(d=this.hasClass(a,b)),d?this.removeClass(a,b):this.addClass(a,b)},this),a},getByClass:function(a,b){return document.getElementsByClassName?(b||document).getElementsByClassName(a):_.filter((b||document).getElementsByTagName("*"),function(b){return this.hasClass(b,a)},this)},remove:function(a){return _.each(e(a),function(a){a.parentNode&&a.parentNode.removeChild(a)}),a},toDOM:function(a){var b=document.createElement("div");return b.innerHTML=a,b.firstChild},css:function(a,b,e){if(_.isString(b)&&_.isUndefined(e))return c(a,b);if(_.isString(b)){var f={};f[b]=e,b=f}d(a,b)}})}(_.dom={}),CodeMirror.scenario=function(){"use strict";function a(a){var b=["Webkit","Moz","O","ms"],c=a.charAt(0).toUpperCase()+a.slice(1),d=(a+" "+b.join(c+" ")+c).split(" "),e=document.createElement("div"),f=null;for(var g in d)if(f=d[g],void 0!==e.style[f])return f;return f}function b(a){if(_.isString(a)){var b=a.split(":");return{name:b.shift(),options:b.join(":")}}var c=_.keys(a)[0];return{name:c,options:a[c]}}function c(a,b,c){if(_.isString(a)){var d={};d[b]=a,a=d}return _.extend(c,a||{})}function d(a,b){if(_.isString(a)){if("caret"===a)return b.getCursor(!0);if(~a.indexOf(":")){var c=a.split(":");return{line:parseInt(c[0],10),ch:parseInt(c[1],10)}}a=parseInt(a,10)}return _.isNumber(a)?b.posFromIndex(a):a}function e(a,b){return b?setTimeout(a,b):(a(),void 0)}function f(a,b){this._actions=a,this._actionIx=0,this._editor=null,this._state=g,this._timerQueue=[],b&&"getValue"in b&&(this._editor=b);var c=this._editor;c&&!c.__initial&&(c.__initial={content:c.getValue(),pos:c.getCursor(!0)})}var g="idle",h="play",i="pause",j=/\s+/,k=Array.prototype.slice,l={beforeDelay:1e3,afterDelay:1e3},m=function(){var b=document.createElement("div"),c=a("transform");return c?(b.style[c]="translateZ(0)",/translatez/i.test(b.style[c])):!1}(),n={type:function(a,b,e,f){if(a=c(a,"text",{text:"",delay:60,pos:null}),!a.text)throw'No text provided for "type" action';null!==a.pos&&b.setCursor(d(a.pos,b));var g=a.text.split("");f(function h(){var c=g.shift();b.replaceSelection(c,"end"),g.length?f(h,a.delay):e()},a.delay)},wait:function(a,b,d,e){a=c(a,"timeout",{timeout:100}),e(d,parseInt(a.timeout,10))},moveTo:function(a,b,e,f){if(a=c(a,"pos",{delay:80,immediate:!1}),!a.pos)throw'No position specified for "moveTo" action';var g=b.getCursor(!0);b.setSelection(g,g);var h=d(a.pos,b);(a.immediate||!a.delay)&&(b.setCursor(h),e());var i=h.line-g.line,j=h.ch-g.ch,k=Math.max(j,i),l=0>i?-1:1,m=0>j?-1:1;f(function n(){g=b.getCursor(!0),k>0&&(g.line!=h.line||g.ch!=h.ch)?(g.line!=h.line&&(g.line+=l),g.ch!=h.ch&&(g.ch+=m),b.setCursor(g),k--,f(n,a.delay)):(b.setCursor(h),e())},a.delay)},jumpTo:function(a,b,e,f){if(a=c(a,"pos",{afterDelay:200}),!a.pos)throw'No position specified for "jumpTo" action';b.setCursor(d(a.pos,b)),f(e,a.afterDelay)},run:function(a,b,d,e){a=c(a,"command",{beforeDelay:500,times:1});var f=a.times;e(function g(){try{_.isFunction(a.command)?a.command(b,a):b.execCommand(a.command)}catch(c){}--f>0?e(g,a.beforeDelay):d()},a.beforeDelay)},select:function(a,b,e){a=c(a,"to",{from:"caret"});var f=d(a.from,b),g=d(a.to,b);b.setSelection(f,g),e()}};return CodeMirror.commands.revert=function(a){a.__initial&&(a.setValue(a.__initial.content),a.setCursor(a.__initial.pos))},f.prototype={_setup:function(a){return!a&&this._editor&&(a=this._editor),a.execCommand("revert"),a},play:function(a){if(this._state!==h){if(this._state===i){a=a||this._editor,a.focus();for(var c=null;c=this._timerQueue.shift();)e(c.fn,c.delay);return this._state=h,this.trigger("resume"),void 0}this._editor=a=this._setup(a),a.focus();var d=_.bind(this.requestTimer,this),f=this;this._actionIx=0;var g=function(){if(f._actionIx>=f._actions.length)return d(function(){f.stop()},l.afterDelay);f.trigger("action",f._actionIx);var c=b(f._actions[f._actionIx++]);if(!(c.name in n))throw"No such action: "+c.name;n[c.name].call(f,c.options,a,g,d)};this._state=h,this._editor.setOption("readOnly",!0),this.trigger("play"),d(g,l.beforeDelay)}},pause:function(){this._state=i,this.trigger("pause")},stop:function(){this._state!==g&&(this._state=g,this._timerQueue.length=0,this._editor.setOption("readOnly",!1),this.trigger("stop"))},state:function(){return this._state},toggle:function(){this._state===h?this.pause():this.play()},requestTimer:function(a,b){return this._state===h?e(a,b):(this._timerQueue.push({fn:a,delay:b}),void 0)},on:function(a,b,c){var d,e,f,g,h;if(!b)return this;for(a=a.split(j),d=this._callbacks||(this._callbacks={});e=a.shift();)h=d[e],f=h?h.tail:{},f.next=g={},f.context=c,f.callback=b,d[e]={tail:g,next:h?h.next:f};return this},off:function(a,b,c){var d,e,f,g,h,i;if(e=this._callbacks){if(!(a||b||c))return delete this._callbacks,this;for(a=a?a.split(j):_.keys(e);d=a.shift();)if(f=e[d],delete e[d],f&&(b||c))for(g=f.tail;(f=f.next)!==g;)h=f.callback,i=f.context,(b&&h!==b||c&&i!==c)&&this.on(d,h,i);return this}},trigger:function(a){var b,c,d,e,f,g,h;if(!(d=this._callbacks))return this;for(g=d.all,a=a.split(j),h=k.call(arguments,1);b=a.shift();){if(c=d[b])for(e=c.tail;(c=c.next)!==e;)c.callback.apply(c.context||this,h);if(c=g)for(e=c.tail,f=[b].concat(h);(c=c.next)!==e;)c.callback.apply(c.context||this,f)}return this}},_.extend(function(a,b){return new f(a,b)},{defineAction:function(a,b){n[a]=b},makeOptions:c,makePos:d,has3d:m,prefixed:a})}(),CodeMirror.scenarioTooltip=function(){"use strict";function a(){var a=document.body,b=document.documentElement,c=b.clientTop||a.clientTop||0,d=b.clientLeft||a.clientLeft||0,e=window.pageYOffset||b.scrollTop||a.scrollTop,f=window.pageXOffset||b.scrollLeft||a.scrollLeft;return{top:e-c,left:f-d,width:a.clientWidth||b.clientWidth,height:a.clientHeight||b.clientHeight}}function b(b,c){c=_.extend({},l,c||{}),_.dom.css(b,{left:0,top:0});var d,e=_.dom.getByClass(c.tailClass,b)[0],f=0,g=0,h=c.position,i=a(),j=b.offsetWidth,k=b.offsetHeight;f=Math.min(i.width-j-c.popupMargin,Math.max(c.popupMargin,h.x-i.left-j/2)),k+e.offsetHeight+c.popupMargin+i.top<h.y?(g=Math.max(0,h.y-k-e.offsetHeight),d=!0):(g=h.y+e.offsetHeight,d=!1);var m=c.tailMargin,n=j-c.tailMargin;e.style.left=Math.min(n,Math.max(m,h.x-f-i.left))+"px",_.dom.css(b,{left:f,top:g}),_.dom.toggleClass(b,c.belowClass,d)}function c(a,b){b=_.extend({},l,b||{});var c=k.prefixed("transformOrigin"),d=k.prefixed("transform"),e=a.style,f=_.dom.getByClass(b.tailClass,a)[0],g=_.dom.css(f,"left"),h=f.offsetTop;_.dom.hasClass(a,b.belowClass)&&(h-=f.offsetHeight),h+="px",e[c]=g+" "+h;var i=k.has3d?"translateZ(0) ":"";return j=new Tween({duration:800,easing:"easeOutElastic",step:function(a){e[d]=i+"scale("+a+")"},complete:function(){e[d]="none",j=null,b.onComplete&&b.onComplete(a)}})}function d(a,b){var c=a.style;return new Tween({duration:200,easing:"linear",step:function(a){c.opacity=1-a},complete:function(){_.dom.remove(a),b.onComplete&&b.onComplete(a)}})}function e(a,d,e){f(),i=_.dom.toDOM('<div class="CodeMirror-tooltip"><div class="CodeMirror-tooltip__content">'+a+"</div>"+'<div class="CodeMirror-tooltip__tail"></div>'+"</div>"),_.dom.css(i,k.prefixed("transform"),"scale(0)"),document.body.appendChild(i),b(i,{position:d}),c(i,{onComplete:e})}function f(a){i?(j&&(j.stop(),j=null),d(i,{onComplete:a}),i=null):a&&a()}function g(a,b){if("caret"===a)return h(b.cursorCoords(!0));if(_.isObject(a)){if("x"in a&&"y"in a)return a;if("left"in a&&"top"in a)return h(a)}return h(b.charCoords(k.makePos(a)))}function h(a){return"left"in a&&(a.x=a.left),"top"in a&&(a.y=a.top),a}var i=null,j=null,k=CodeMirror.scenario,l={tailClass:"CodeMirror-tooltip__tail",belowClass:"CodeMirror-tooltip_below",popupMargin:5,tailMargin:11};return k.defineAction("tooltip",function(a,b,c,d){a=k.makeOptions(a,"text",{wait:4e3,pos:"caret"});var h=g(a.pos,b);e(a.text,h,function(){d(function(){f(function(){d(c)})},a.wait)})}),k.defineAction("showTooltip",function(a,b,c){a=k.makeOptions(a,"text",{pos:"caret"}),e(a.text,g(a.pos,b)),c()}),k.defineAction("hideTooltip",function(a,b,c){f(c)}),{show:e,hide:f}}(),CodeMirror.scenarioOutline=function(){"use strict";var a={wrapperTemplate:'<ul class="CodeMirror-outline"><%= content %></ul>',itemTemplate:'<li data-action-id="<%= id %>" class="CodeMirror-outline__item"><%= title %></li>',itemClass:"CodeMirror-outline__item",selectedClass:"CodeMirror-outline__item_selected"};return function(b,c,d){d=_.extend({},a,d||{});var e=_.keys(b);e.sort(function(a,b){return parseInt(a,10)-parseInt(b,10)});var f=_.template(d.itemTemplate),g=_.map(e,function(a){return f({title:b[a],id:a})}),h=_.dom.toDOM(_.template(d.wrapperTemplate,{content:g.join("")}));return d.target&&d.target.appendChild(h),c.on("action",function(a){var b=_.dom.getByClass(d.itemClass,h),c=_.find(b,function(b){return b.getAttribute("data-action-id")==a});c&&(_.dom.removeClass(b,d.selectedClass),_.dom.addClass(c,d.selectedClass))}).on("stop",function(){_.dom.removeClass(_.dom.getByClass(d.itemClass,h),d.selectedClass)}),h}}(),CodeMirror.scenarioPrompt=function(){"use strict";function a(a,d,e){b(),f=_.dom.toDOM('<div class="CodeMirror-prompt"><div class="CodeMirror-prompt__title">'+a+"</div>"+'<input type="text" name="prompt" class="CodeMirror-prompt__input" readonly="readonly" />'+"</div>"),g=_.dom.toDOM('<div class="CodeMirror-prompt__shade"></div>'),d.appendChild(f),d.appendChild(g),c(f,g,{onComplete:e})}function b(a){f?(h&&(h.stop(),h=null),d(f,g,{onComplete:a}),f=g=null):a&&a()}function c(a,b,c){c=c||{};var d=i.prefixed("transform"),e=a.style,f=b.style,g=a.offsetHeight,j=_.template(i.has3d?"translate3d(0, <%= pos %>, 0)":"translate(0, <%= pos %>)");return f.opacity=0,new Tween({duration:200,step:function(a){f.opacity=a}}),e[d]=j({pos:-g}),h=new Tween({duration:400,easing:"easeOutCubic",step:function(a){e[d]=j({pos:-g*(1-a)+"px"})},complete:function(){h=null,c.onComplete&&c.onComplete(a,b)}})}function d(a,b,c){var d=a.style,e=b.style,f=a.offsetHeight,g=i.prefixed("transform"),h=_.template(i.has3d?"translate3d(0, <%= pos %>, 0)":"translate(0, <%= pos %>)");return new Tween({duration:200,step:function(a){d[g]=h({pos:-f*a+"px"}),e.opacity=1-a},complete:function(){_.dom.remove([a,b]),c.onComplete&&c.onComplete(a,b)}})}function e(a,b,c,d){var e=b.text.split("");c(function f(){a.value+=e.shift(),e.length?c(f,b.delay):d()},b.delay)}var f=null,g=null,h=null,i=CodeMirror.scenario;i.defineAction("prompt",function(c,d,f,g){c=i.makeOptions(c,"text",{title:"Enter something",delay:80,typeDelay:1e3,hideDelay:2e3}),a(c.title,d.getWrapperElement(),function(a){g(function(){e(_.dom.getByClass("CodeMirror-prompt__input",a)[0],c,g,function(){g(function(){b(f)
},c.hideDelay)})},c.typeDelay)})})}(),function(){"use strict";function a(a,b){b=b||{};var c=/ctrl|alt|shift|cmd/i,d=g?h:i;return a.replace(/\((.+?)\)/g,function(a,e){if(c.test(e)){var f=_.map(e.toLowerCase().split(/[\-\+]/),function(a){return d[a.toLowerCase()]||a.toUpperCase()});a=f.join(g?"":"+"),b.stripParentheses||(a="("+a+")")}return a})}function b(a){try{return new Function("return "+a)()}catch(b){return{}}}function c(a){var b="\n",c=(a||"").replace(/\r\n/g,b).replace(/\n\r/g,b).replace(/\r/g,b).split(b);return _.filter(c,function(a){return!!a})}function d(a){var b={"&lt;":"<","&gt;":">","&amp;":"&"};return a.replace(/&(lt|gt|amp);/g,function(a){return b[a]||a})}function e(e,f){f=_.extend({},j,f||{});var g=e.split(f.sectionSeparator),h=/^(\w+)\s*:\s*(.+)$/,i=[],k={},l={};return _.each(c(g[1]),function(c){if("#"!=c.charAt(0)){c=c.replace(f.outlineSeparator,function(b,c){return f.prettifyKeys&&(k[i.length]=a(_.dom.trim(c))),""});var e=c.match(h);if(!e)return i.push(_.dom.trim(c));if("{"==e[2].charAt(0)){var g={};return g[e[1]]=b(d(e[2])),i.push(g)}i.push(e[1]+":"+d(e[2]))}}),g[2]&&_.each(c(g[2]),function(a){if("#"!=a.charAt(0)){var b=a.match(h);b&&(l[b[1]]=b[2])}}),{value:d(_.dom.trim(g[0])),scenario:i,outline:_.keys(k).length?k:null,editorOptions:l}}var f=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),g=f||/Mac/.test(navigator.platform),h={ctrl:"⌃",control:"⌃",cmd:"⌘",shift:"⇧",alt:"⌥",enter:"⏎",tab:"⇥",left:"←",right:"→",up:"↑",down:"↓"},i={cmd:"Ctrl",control:"Ctrl",ctrl:"Ctrl",alt:"Alt",shift:"Shift",left:"←",right:"→",up:"↑",down:"↓"},j={parse:!0,sectionSeparator:"@@@",outlineSeparator:/\s+:::\s+(.+)$/,prettifyKeys:!0,stripParentheses:!1};CodeMirror.movie=function(a,b,c){var d=null;_.isString(a)&&(a=document.getElementById(a)),b=_.extend({},j,b||{}),c=_.extend({theme:"espresso",mode:"text/html",indentWithTabs:!0,tabSize:4,lineNumbers:!0,onCursorActivity:function(){i.setLineClass&&(i.setLineClass(d,null,null),d=i.setLineClass(i.getCursor().line,null,"activeline"))},onKeyEvent:function(a,b){return a.getOption("readOnly")?(b.stop(),!0):void 0}},c||{});var f=c.value||a.value||"";if(b.parse){_.extend(b,e(f,b)),f=b.value,b.editorOptions&&_.extend(c,b.editorOptions);var g=/^data\-cm\-(.+)$/i;_.each(a.attributes,function(a){g.test(a.name)&&(c[RegExp.$1]=a.value)})}f=f.replace(/\r?\n/g,"\n");var h=f.indexOf("|");a.value=c.value=f=f.replace(/\|/g,"");var i=CodeMirror.fromTextArea(a,c);i.setLineClass&&(d=i.setLineClass(0,"activeline")),-1!=h&&i.setCursor(i.posFromIndex(h)),i.__initial={content:f,pos:i.getCursor(!0)};var k=i.getWrapperElement();c.height&&(k.style.height=c.height+"px"),k.className+=" CodeMirror-movie"+(b.outline?" CodeMirror-movie_with-outline":"");var l=CodeMirror.scenario(b.scenario,i);return b.outline&&(k.className+=" CodeMirror-movie_with-outline",k.appendChild(CodeMirror.scenarioOutline(b.outline,l))),l}}();